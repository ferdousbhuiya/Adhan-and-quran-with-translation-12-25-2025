(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function ng(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yu={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function Hv(){if(ah)return oo;ah=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var p in r)p!=="key"&&(f[p]=r[p])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:f}}return oo.Fragment=t,oo.jsx=l,oo.jsxs=l,oo}var sh;function Gv(){return sh||(sh=1,yu.exports=Hv()),yu.exports}var v=Gv(),vu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function qv(){if(rh)return ve;rh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,I={};function q(N,B,ee){this.props=N,this.context=B,this.refs=I,this.updater=ee||M}q.prototype.isReactComponent={},q.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function F(N,B,ee){this.props=N,this.context=B,this.refs=I,this.updater=ee||M}var z=F.prototype=new Y;z.constructor=F,U(z,q.prototype),z.isPureReactComponent=!0;var Q=Array.isArray;function K(){}var Z={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function j(N,B,ee){var le=ee.ref;return{$$typeof:i,type:N,key:B,ref:le!==void 0?le:null,props:ee}}function ae(N,B){return j(N.type,B,N.props)}function me(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function xe(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return B[ee]})}var he=/\/+/g;function W(N,B){return typeof N=="object"&&N!==null&&N.key!=null?xe(""+N.key):B.toString(36)}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function b(N,B,ee,le,ge){var X=typeof N;(X==="undefined"||X==="boolean")&&(N=null);var re=!1;if(N===null)re=!0;else switch(X){case"bigint":case"string":case"number":re=!0;break;case"object":switch(N.$$typeof){case i:case t:re=!0;break;case x:return re=N._init,b(re(N._payload),B,ee,le,ge)}}if(re)return ge=ge(N),re=le===""?"."+W(N,0):le,Q(ge)?(ee="",re!=null&&(ee=re.replace(he,"$&/")+"/"),b(ge,B,ee,"",function(Bt){return Bt})):ge!=null&&(me(ge)&&(ge=ae(ge,ee+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(he,"$&/")+"/")+re)),B.push(ge)),1;re=0;var Ie=le===""?".":le+":";if(Q(N))for(var Ge=0;Ge<N.length;Ge++)le=N[Ge],X=Ie+W(le,Ge),re+=b(le,B,ee,X,ge);else if(Ge=A(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(le=N.next()).done;)le=le.value,X=Ie+W(le,Ge++),re+=b(le,B,ee,X,ge);else if(X==="object"){if(typeof N.then=="function")return b(de(N),B,ee,le,ge);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return re}function G(N,B,ee){if(N==null)return N;var le=[],ge=0;return b(N,le,"","",function(X){return B.call(ee,X,ge++)}),le}function $(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var se=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},pe={map:G,forEach:function(N,B,ee){G(N,function(){B.apply(this,arguments)},ee)},count:function(N){var B=0;return G(N,function(){B++}),B},toArray:function(N){return G(N,function(B){return B})||[]},only:function(N){if(!me(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ve.Activity=T,ve.Children=pe,ve.Component=q,ve.Fragment=l,ve.Profiler=r,ve.PureComponent=F,ve.StrictMode=a,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Z.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(N,B,ee){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=U({},N.props),ge=N.key;if(B!=null)for(X in B.key!==void 0&&(ge=""+B.key),B)!te.call(B,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&B.ref===void 0||(le[X]=B[X]);var X=arguments.length-2;if(X===1)le.children=ee;else if(1<X){for(var re=Array(X),Ie=0;Ie<X;Ie++)re[Ie]=arguments[Ie+2];le.children=re}return j(N.type,ge,le)},ve.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},ve.createElement=function(N,B,ee){var le,ge={},X=null;if(B!=null)for(le in B.key!==void 0&&(X=""+B.key),B)te.call(B,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=B[le]);var re=arguments.length-2;if(re===1)ge.children=ee;else if(1<re){for(var Ie=Array(re),Ge=0;Ge<re;Ge++)Ie[Ge]=arguments[Ge+2];ge.children=Ie}if(N&&N.defaultProps)for(le in re=N.defaultProps,re)ge[le]===void 0&&(ge[le]=re[le]);return j(N,X,ge)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:p,render:N}},ve.isValidElement=me,ve.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:$}},ve.memo=function(N,B){return{$$typeof:g,type:N,compare:B===void 0?null:B}},ve.startTransition=function(N){var B=Z.T,ee={};Z.T=ee;try{var le=N(),ge=Z.S;ge!==null&&ge(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(K,se)}catch(X){se(X)}finally{B!==null&&ee.types!==null&&(B.types=ee.types),Z.T=B}},ve.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ve.use=function(N){return Z.H.use(N)},ve.useActionState=function(N,B,ee){return Z.H.useActionState(N,B,ee)},ve.useCallback=function(N,B){return Z.H.useCallback(N,B)},ve.useContext=function(N){return Z.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,B){return Z.H.useDeferredValue(N,B)},ve.useEffect=function(N,B){return Z.H.useEffect(N,B)},ve.useEffectEvent=function(N){return Z.H.useEffectEvent(N)},ve.useId=function(){return Z.H.useId()},ve.useImperativeHandle=function(N,B,ee){return Z.H.useImperativeHandle(N,B,ee)},ve.useInsertionEffect=function(N,B){return Z.H.useInsertionEffect(N,B)},ve.useLayoutEffect=function(N,B){return Z.H.useLayoutEffect(N,B)},ve.useMemo=function(N,B){return Z.H.useMemo(N,B)},ve.useOptimistic=function(N,B){return Z.H.useOptimistic(N,B)},ve.useReducer=function(N,B,ee){return Z.H.useReducer(N,B,ee)},ve.useRef=function(N){return Z.H.useRef(N)},ve.useState=function(N){return Z.H.useState(N)},ve.useSyncExternalStore=function(N,B,ee){return Z.H.useSyncExternalStore(N,B,ee)},ve.useTransition=function(){return Z.H.useTransition()},ve.version="19.2.3",ve}var uh;function Bu(){return uh||(uh=1,vu.exports=qv()),vu.exports}var J=Bu();const Vv=ng(J);var xu={exports:{}},ao={},Su={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function Pv(){return ch||(ch=1,(function(i){function t(b,G){var $=b.length;b.push(G);e:for(;0<$;){var se=$-1>>>1,pe=b[se];if(0<r(pe,G))b[se]=G,b[$]=pe,$=se;else break e}}function l(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var G=b[0],$=b.pop();if($!==G){b[0]=$;e:for(var se=0,pe=b.length,N=pe>>>1;se<N;){var B=2*(se+1)-1,ee=b[B],le=B+1,ge=b[le];if(0>r(ee,$))le<pe&&0>r(ge,ee)?(b[se]=ge,b[le]=$,se=le):(b[se]=ee,b[B]=$,se=B);else if(le<pe&&0>r(ge,$))b[se]=ge,b[le]=$,se=le;else break e}}return G}function r(b,G){var $=b.sortIndex-G.sortIndex;return $!==0?$:b.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var y=[],g=[],x=1,T=null,E=3,A=!1,M=!1,U=!1,I=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function z(b){for(var G=l(g);G!==null;){if(G.callback===null)a(g);else if(G.startTime<=b)a(g),G.sortIndex=G.expirationTime,t(y,G);else break;G=l(g)}}function Q(b){if(U=!1,z(b),!M)if(l(y)!==null)M=!0,K||(K=!0,xe());else{var G=l(g);G!==null&&de(Q,G.startTime-b)}}var K=!1,Z=-1,te=5,j=-1;function ae(){return I?!0:!(i.unstable_now()-j<te)}function me(){if(I=!1,K){var b=i.unstable_now();j=b;var G=!0;try{e:{M=!1,U&&(U=!1,Y(Z),Z=-1),A=!0;var $=E;try{t:{for(z(b),T=l(y);T!==null&&!(T.expirationTime>b&&ae());){var se=T.callback;if(typeof se=="function"){T.callback=null,E=T.priorityLevel;var pe=se(T.expirationTime<=b);if(b=i.unstable_now(),typeof pe=="function"){T.callback=pe,z(b),G=!0;break t}T===l(y)&&a(y),z(b)}else a(y);T=l(y)}if(T!==null)G=!0;else{var N=l(g);N!==null&&de(Q,N.startTime-b),G=!1}}break e}finally{T=null,E=$,A=!1}G=void 0}}finally{G?xe():K=!1}}}var xe;if(typeof F=="function")xe=function(){F(me)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,W=he.port2;he.port1.onmessage=me,xe=function(){W.postMessage(null)}}else xe=function(){q(me,0)};function de(b,G){Z=q(function(){b(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(b){b.callback=null},i.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<b?Math.floor(1e3/b):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(b){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var $=E;E=G;try{return b()}finally{E=$}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(b,G){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=E;E=b;try{return G()}finally{E=$}},i.unstable_scheduleCallback=function(b,G,$){var se=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,b){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,b={id:x++,callback:G,priorityLevel:b,startTime:$,expirationTime:pe,sortIndex:-1},$>se?(b.sortIndex=$,t(g,b),l(y)===null&&b===l(g)&&(U?(Y(Z),Z=-1):U=!0,de(Q,$-se))):(b.sortIndex=pe,t(y,b),M||A||(M=!0,K||(K=!0,xe()))),b},i.unstable_shouldYield=ae,i.unstable_wrapCallback=function(b){var G=E;return function(){var $=E;E=G;try{return b.apply(this,arguments)}finally{E=$}}}})(Tu)),Tu}var fh;function Bv(){return fh||(fh=1,Su.exports=Pv()),Su.exports}var Eu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function Ov(){if(dh)return st;dh=1;var i=Bu();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:g,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,x)},st.flushSync=function(y){var g=m.T,x=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=g,a.p=x,a.d.f()}},st.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var x=g.as,T=p(x,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):x==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},st.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},st.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,T=p(x,g.crossOrigin);a.d.L(y,x,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},st.preloadModule=function(y,g){if(typeof y=="string")if(g){var x=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,g){return y(g)},st.useFormState=function(y,g,x){return m.H.useFormState(y,g,x)},st.useFormStatus=function(){return m.H.useHostTransitionStatus()},st.version="19.2.3",st}var mh;function Fv(){if(mh)return Eu.exports;mh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Eu.exports=Ov(),Eu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function Yv(){if(hh)return ao;hh=1;var i=Bv(),t=Bu(),l=Fv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=h;break}if(_===s){S=!0,s=d,o=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===o){S=!0,o=h,s=d;break}if(_===s){S=!0,s=h,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case q:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case K:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case F:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:W(e.type)||"Memo";case te:n=e._payload,e=e._init;try{return W(e(n))}catch{}}return null}var de=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},se=[],pe=-1;function N(e){return{current:e}}function B(e){0>pe||(e.current=se[pe],se[pe]=null,pe--)}function ee(e,n){pe++,se[pe]=e.current,e.current=n}var le=N(null),ge=N(null),X=N(null),re=N(null);function Ie(e,n){switch(ee(X,n),ee(ge,e),ee(le,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Mm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Mm(n),e=Rm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(le),ee(le,e)}function Ge(){B(le),B(ge),B(X)}function Bt(e){e.memoizedState!==null&&ee(re,e);var n=le.current,o=Rm(n,e.type);n!==o&&(ee(ge,e),ee(le,o))}function je(e){ge.current===e&&(B(le),B(ge)),re.current===e&&(B(re),to._currentValue=$)}var en,yi;function tn(e){if(en===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",yi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+e+yi}var dl=!1;function ts(e,n){if(!e||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(H){var L=H}Reflect.construct(e,[],O)}else{try{O.call()}catch(H){L=H}e.call(O.prototype)}}else{try{throw Error()}catch(H){L=H}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var C=S.split(`
`),k=_.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<k.length&&!k[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===k.length)for(s=C.length-1,d=k.length-1;1<=s&&0<=d&&C[s]!==k[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==k[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==k[d]){var V=`
`+C[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=d);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?tn(o):""}function h0(e,n){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return tn("Activity");default:return""}}function oc(e){try{var n="",o=null;do n+=h0(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,p0=i.unstable_shouldYield,g0=i.unstable_requestPaint,St=i.unstable_now,y0=i.unstable_getCurrentPriorityLevel,ac=i.unstable_ImmediatePriority,sc=i.unstable_UserBlockingPriority,go=i.unstable_NormalPriority,v0=i.unstable_LowPriority,rc=i.unstable_IdlePriority,x0=i.log,S0=i.unstable_setDisableYieldValue,ml=null,Tt=null;function Cn(e){if(typeof x0=="function"&&S0(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ml,e)}catch{}}var Et=Math.clz32?Math.clz32:_0,T0=Math.log,E0=Math.LN2;function _0(e){return e>>>=0,e===0?32:31-(T0(e)/E0|0)|0}var yo=256,vo=262144,xo=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function So(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=$n(s):(S&=_,S!==0?d=$n(S):o||(o=_&~e,o!==0&&(d=$n(o))))):(_=s&~h,_!==0?d=$n(_):S!==0?d=$n(S):o||(o=s&~e,o!==0&&(d=$n(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function hl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function A0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var e=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),e}function os(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function pl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C0(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(o=S&~o;0<o;){var V=31-Et(o),O=1<<V;_[V]=0,C[V]=-1;var L=k[V];if(L!==null)for(k[V]=null,V=0;V<L.length;V++){var H=L[V];H!==null&&(H.lane&=-536870913)}o&=~O}s!==0&&cc(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function cc(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function fc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function dc(e,n){var o=n&-n;return o=(o&42)!==0?1:as(o),(o&(e.suspendedLanes|n))!==0?0:o}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ss(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Wm(e.type))}function hc(e,n){var o=G.p;try{return G.p=e,n()}finally{G.p=o}}var bn=Math.random().toString(36).slice(2),nt="__reactFiber$"+bn,dt="__reactProps$"+bn,vi="__reactContainer$"+bn,rs="__reactEvents$"+bn,b0="__reactListeners$"+bn,N0="__reactHandles$"+bn,pc="__reactResources$"+bn,gl="__reactMarker$"+bn;function us(e){delete e[nt],delete e[dt],delete e[rs],delete e[b0],delete e[N0]}function xi(e){var n=e[nt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[vi]||o[nt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Hm(e);e!==null;){if(o=e[nt])return o;e=Hm(e)}return n}e=o,o=e.parentNode}return null}function Si(e){if(e=e[nt]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[pc];return n||(n=e[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[gl]=!0}var gc=new Set,yc={};function jn(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(yc[e]=n,e=0;e<n.length;e++)gc.add(n[e])}var w0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},xc={};function M0(e){return ns.call(xc,e)?!0:ns.call(vc,e)?!1:w0.test(e)?xc[e]=!0:(vc[e]=!0,!1)}function To(e,n,o){if(M0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Eo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function nn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function R0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cs(e){if(!e._valueTracker){var n=Sc(e)?"checked":"value";e._valueTracker=R0(e,n,""+e[n])}}function Tc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Sc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var I0=/[\n"\\]/g;function It(e){return e.replace(I0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fs(e,n,o,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Rt(n)):e.value!==""+Rt(n)&&(e.value=""+Rt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ds(e,S,Rt(n)):o!=null?ds(e,S,Rt(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Rt(_):e.removeAttribute("name")}function Ec(e,n,o,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){cs(e);return}o=o!=null?""+Rt(o):"",n=n!=null?""+Rt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),cs(e)}function ds(e,n,o){n==="number"&&_o(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function _i(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Rt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function _c(e,n,o){if(n!=null&&(n=""+Rt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Rt(o):""}function Ac(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(de(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Rt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),cs(e)}function Ai(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||D0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function bc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Cc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&Cc(e,h,n[h])}function ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(e){return U0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var hs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,bi=null;function Nc(e){var n=Si(e);if(n&&(e=n.stateNode)){var o=e[dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[dt]||null;if(!d)throw Error(a(90));fs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Tc(s)}break e;case"textarea":_c(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&_i(e,!!o.multiple,n,!1)}}}var gs=!1;function wc(e,n,o){if(gs)return e(n,o);gs=!0;try{var s=e(n);return s}finally{if(gs=!1,(Ci!==null||bi!==null)&&(fa(),Ci&&(n=Ci,e=bi,bi=Ci=null,Nc(n),e)))for(n=0;n<e.length;n++)Nc(e[n])}}function vl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[dt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(on)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){ys=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{ys=!1}var Nn=null,vs=null,Co=null;function Mc(){if(Co)return Co;var e,n=vs,o=n.length,s,d="value"in Nn?Nn.value:Nn.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return Co=d.slice(e,1<s?1-s:void 0)}function bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function Rc(){return!1}function mt(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?No:Rc,this.isPropagationStopped=Rc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=mt(Wn),Sl=T({},Wn,{view:0,detail:0}),L0=mt(Sl),xs,Ss,Tl,Mo=T({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(xs=e.screenX-Tl.screenX,Ss=e.screenY-Tl.screenY):Ss=xs=0,Tl=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),Ic=mt(Mo),z0=T({},Mo,{dataTransfer:0}),H0=mt(z0),G0=T({},Sl,{relatedTarget:0}),Ts=mt(G0),q0=T({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=mt(q0),P0=T({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B0=mt(P0),O0=T({},Wn,{data:0}),Dc=mt(O0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=J0[e])?!!n[e]:!1}function Es(){return K0}var X0=T({},Sl,{key:function(e){if(e.key){var n=F0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q0=mt(X0),Z0=T({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=mt(Z0),$0=T({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),j0=mt($0),W0=T({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=mt(W0),ty=T({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ny=mt(ty),iy=T({},Wn,{newState:0,oldState:0}),ly=mt(iy),oy=[9,13,27,32],_s=on&&"CompositionEvent"in window,El=null;on&&"documentMode"in document&&(El=document.documentMode);var ay=on&&"TextEvent"in window&&!El,Uc=on&&(!_s||El&&8<El&&11>=El),Lc=" ",zc=!1;function Hc(e,n){switch(e){case"keyup":return oy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function sy(e,n){switch(e){case"compositionend":return Gc(n);case"keypress":return n.which!==32?null:(zc=!0,Lc);case"textInput":return e=n.data,e===Lc&&zc?null:e;default:return null}}function ry(e,n){if(Ni)return e==="compositionend"||!_s&&Hc(e,n)?(e=Mc(),Co=vs=Nn=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Uc&&n.locale!=="ko"?null:n.data;default:return null}}var uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uy[e.type]:n==="textarea"}function Vc(e,n,o,s){Ci?bi?bi.push(s):bi=[s]:Ci=s,n=va(n,"onChange"),0<n.length&&(o=new wo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var _l=null,Al=null;function cy(e){_m(e,0)}function Ro(e){var n=yl(e);if(Tc(n))return e}function Pc(e,n){if(e==="change")return n}var Bc=!1;if(on){var As;if(on){var Cs="oninput"in document;if(!Cs){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),Cs=typeof Oc.oninput=="function"}As=Cs}else As=!1;Bc=As&&(!document.documentMode||9<document.documentMode)}function Fc(){_l&&(_l.detachEvent("onpropertychange",Yc),Al=_l=null)}function Yc(e){if(e.propertyName==="value"&&Ro(Al)){var n=[];Vc(n,Al,e,ps(e)),wc(cy,n)}}function fy(e,n,o){e==="focusin"?(Fc(),_l=n,Al=o,_l.attachEvent("onpropertychange",Yc)):e==="focusout"&&Fc()}function dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Al)}function my(e,n){if(e==="click")return Ro(n)}function hy(e,n){if(e==="input"||e==="change")return Ro(n)}function py(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:py;function Cl(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!ns.call(n,d)||!_t(e[d],n[d]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,n){var o=Jc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jc(o)}}function Xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_o(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=_o(e.document)}return n}function bs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var gy=on&&"documentMode"in document&&11>=document.documentMode,wi=null,Ns=null,bl=null,ws=!1;function Zc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ws||wi==null||wi!==_o(s)||(s=wi,"selectionStart"in s&&bs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bl&&Cl(bl,s)||(bl=s,s=va(Ns,"onSelect"),0<s.length&&(n=new wo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=wi)))}function ei(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Mi={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Ms={},$c={};on&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ti(e){if(Ms[e])return Ms[e];if(!Mi[e])return e;var n=Mi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in $c)return Ms[e]=n[o];return e}var jc=ti("animationend"),Wc=ti("animationiteration"),ef=ti("animationstart"),yy=ti("transitionrun"),vy=ti("transitionstart"),xy=ti("transitioncancel"),tf=ti("transitionend"),nf=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function Ot(e,n){nf.set(e,n),jn(n,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Ri=0,Is=0;function Do(){for(var e=Ri,n=Is=Ri=0;n<e;){var o=Dt[n];Dt[n++]=null;var s=Dt[n];Dt[n++]=null;var d=Dt[n];Dt[n++]=null;var h=Dt[n];if(Dt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&lf(o,d,h)}}function ko(e,n,o,s){Dt[Ri++]=e,Dt[Ri++]=n,Dt[Ri++]=o,Dt[Ri++]=s,Is|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ds(e,n,o,s){return ko(e,n,o,s),Uo(e)}function ni(e,n){return ko(e,null,null,n),Uo(e)}function lf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-Et(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function Uo(e){if(50<Xl)throw Xl=0,Pr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ii={};function Sy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,n,o,s){return new Sy(e,n,o,s)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,n){var o=e.alternate;return o===null?(o=At(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function of(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lo(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")ks(e)&&(S=1);else if(typeof e=="string")S=Cv(e,o,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=At(31,o,n,d),e.elementType=j,e.lanes=h,e;case U:return ii(o.children,d,h,n);case I:S=8,d|=24;break;case q:return e=At(12,o,n,d|2),e.elementType=q,e.lanes=h,e;case Q:return e=At(13,o,n,d),e.elementType=Q,e.lanes=h,e;case K:return e=At(19,o,n,d),e.elementType=K,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:S=10;break e;case Y:S=9;break e;case z:S=11;break e;case Z:S=14;break e;case te:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=At(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function ii(e,n,o,s){return e=At(7,e,s,n),e.lanes=o,e}function Us(e,n,o){return e=At(6,e,null,n),e.lanes=o,e}function af(e){var n=At(18,null,null,0);return n.stateNode=e,n}function Ls(e,n,o){return n=At(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sf=new WeakMap;function kt(e,n){if(typeof e=="object"&&e!==null){var o=sf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:oc(n)},sf.set(e,n),n)}return{value:e,source:n,stack:oc(n)}}var Di=[],ki=0,zo=null,Nl=0,Ut=[],Lt=0,wn=null,Qt=1,Zt="";function sn(e,n){Di[ki++]=Nl,Di[ki++]=zo,zo=e,Nl=n}function rf(e,n,o){Ut[Lt++]=Qt,Ut[Lt++]=Zt,Ut[Lt++]=wn,wn=e;var s=Qt;e=Zt;var d=32-Et(s)-1;s&=~(1<<d),o+=1;var h=32-Et(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Qt=1<<32-Et(n)+d|o<<d|s,Zt=h+e}else Qt=1<<h|o<<d|s,Zt=e}function zs(e){e.return!==null&&(sn(e,1),rf(e,1,0))}function Hs(e){for(;e===zo;)zo=Di[--ki],Di[ki]=null,Nl=Di[--ki],Di[ki]=null;for(;e===wn;)wn=Ut[--Lt],Ut[Lt]=null,Zt=Ut[--Lt],Ut[Lt]=null,Qt=Ut[--Lt],Ut[Lt]=null}function uf(e,n){Ut[Lt++]=Qt,Ut[Lt++]=Zt,Ut[Lt++]=wn,Qt=n.id,Zt=n.overflow,wn=e}var it=null,Ve=null,be=!1,Mn=null,zt=!1,Gs=Error(a(519));function Rn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(kt(n,e)),Gs}function cf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[nt]=e,n[dt]=s,o){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(o=0;o<Zl.length;o++)_e(Zl[o],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),Ec(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),Ac(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Nm(n.textContent,o)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=ln),n=!0):n=!1,n||Rn(e,!0)}function ff(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:it=it.return}}function Ui(e){if(e!==it)return!1;if(!be)return ff(e),be=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||nu(e.type,e.memoizedProps)),o=!o),o&&Ve&&Rn(e),ff(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=zm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=zm(e)}else n===27?(n=Ve,Fn(e.type)?(e=su,su=null,Ve=e):Ve=n):Ve=it?Gt(e.stateNode.nextSibling):null;return!0}function li(){Ve=it=null,be=!1}function qs(){var e=Mn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Mn=null),e}function wl(e){Mn===null?Mn=[e]:Mn.push(e)}var Vs=N(null),oi=null,rn=null;function In(e,n,o){ee(Vs,n._currentValue),n._currentValue=o}function un(e){e._currentValue=Vs.current,B(Vs)}function Ps(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Bs(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var C=0;C<n.length;C++)if(_.context===n[C]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),Ps(h.return,o,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),Ps(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Li(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;_t(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===re.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}d=d.return}e!==null&&Bs(n,e,o,s),n.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){oi=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return df(oi,e)}function Go(e,n){return oi===null&&ai(e),df(e,n)}function df(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},rn===null){if(e===null)throw Error(a(308));rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rn=rn.next=n;return o}var Ty=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Ey=i.unstable_scheduleCallback,_y=i.unstable_NormalPriority,Ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Os(){return{controller:new Ty,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&Ey(_y,function(){e.controller.abort()})}var Rl=null,Fs=0,zi=0,Hi=null;function Ay(e,n){if(Rl===null){var o=Rl=[];Fs=0,zi=Kr(),Hi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Fs++,n.then(mf,mf),n}function mf(){if(--Fs===0&&Rl!==null){Hi!==null&&(Hi.status="fulfilled");var e=Rl;Rl=null,zi=0,Hi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Cy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var hf=b.S;b.S=function(e,n){$d=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ay(e,n),hf!==null&&hf(e,n)};var si=N(null);function Ys(){var e=si.current;return e!==null?e:qe.pooledCache}function qo(e,n){n===null?ee(si,si.current):ee(si,n.pool)}function pf(){var e=Ys();return e===null?null:{parent:Ke._currentValue,pool:e}}var Gi=Error(a(460)),Js=Error(a(474)),Vo=Error(a(542)),Po={then:function(){}};function gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(ln,ln),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xf(e),e;default:if(typeof n.status=="string")n.then(ln,ln);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xf(e),e}throw ui=n,Gi}}function ri(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ui=o,Gi):o}}var ui=null;function vf(){if(ui===null)throw Error(a(459));var e=ui;return ui=null,e}function xf(e){if(e===Gi||e===Vo)throw Error(a(483))}var qi=null,Il=0;function Bo(e){var n=Il;return Il+=1,qi===null&&(qi=[]),yf(qi,e,n)}function Dl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Oo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sf(e){function n(R,w){if(e){var D=R.deletions;D===null?(R.deletions=[w],R.flags|=16):D.push(w)}}function o(R,w){if(!e)return null;for(;w!==null;)n(R,w),w=w.sibling;return null}function s(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function d(R,w){return R=an(R,w),R.index=0,R.sibling=null,R}function h(R,w,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<w?(R.flags|=67108866,w):D):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,w,D,P){return w===null||w.tag!==6?(w=Us(D,R.mode,P),w.return=R,w):(w=d(w,D),w.return=R,w)}function C(R,w,D,P){var ue=D.type;return ue===U?V(R,w,D.props.children,P,D.key):w!==null&&(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ri(ue)===w.type)?(w=d(w,D.props),Dl(w,D),w.return=R,w):(w=Lo(D.type,D.key,D.props,null,R.mode,P),Dl(w,D),w.return=R,w)}function k(R,w,D,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==D.containerInfo||w.stateNode.implementation!==D.implementation?(w=Ls(D,R.mode,P),w.return=R,w):(w=d(w,D.children||[]),w.return=R,w)}function V(R,w,D,P,ue){return w===null||w.tag!==7?(w=ii(D,R.mode,P,ue),w.return=R,w):(w=d(w,D),w.return=R,w)}function O(R,w,D){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Us(""+w,R.mode,D),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return D=Lo(w.type,w.key,w.props,null,R.mode,D),Dl(D,w),D.return=R,D;case M:return w=Ls(w,R.mode,D),w.return=R,w;case te:return w=ri(w),O(R,w,D)}if(de(w)||xe(w))return w=ii(w,R.mode,D,null),w.return=R,w;if(typeof w.then=="function")return O(R,Bo(w),D);if(w.$$typeof===F)return O(R,Go(R,w),D);Oo(R,w)}return null}function L(R,w,D,P){var ue=w!==null?w.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ue!==null?null:_(R,w,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return D.key===ue?C(R,w,D,P):null;case M:return D.key===ue?k(R,w,D,P):null;case te:return D=ri(D),L(R,w,D,P)}if(de(D)||xe(D))return ue!==null?null:V(R,w,D,P,null);if(typeof D.then=="function")return L(R,w,Bo(D),P);if(D.$$typeof===F)return L(R,w,Go(R,D),P);Oo(R,D)}return null}function H(R,w,D,P,ue){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(D)||null,_(w,R,""+P,ue);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return R=R.get(P.key===null?D:P.key)||null,C(w,R,P,ue);case M:return R=R.get(P.key===null?D:P.key)||null,k(w,R,P,ue);case te:return P=ri(P),H(R,w,D,P,ue)}if(de(P)||xe(P))return R=R.get(D)||null,V(w,R,P,ue,null);if(typeof P.then=="function")return H(R,w,D,Bo(P),ue);if(P.$$typeof===F)return H(R,w,D,Go(w,P),ue);Oo(w,P)}return null}function ie(R,w,D,P){for(var ue=null,Ne=null,oe=w,Te=w=0,Ce=null;oe!==null&&Te<D.length;Te++){oe.index>Te?(Ce=oe,oe=null):Ce=oe.sibling;var we=L(R,oe,D[Te],P);if(we===null){oe===null&&(oe=Ce);break}e&&oe&&we.alternate===null&&n(R,oe),w=h(we,w,Te),Ne===null?ue=we:Ne.sibling=we,Ne=we,oe=Ce}if(Te===D.length)return o(R,oe),be&&sn(R,Te),ue;if(oe===null){for(;Te<D.length;Te++)oe=O(R,D[Te],P),oe!==null&&(w=h(oe,w,Te),Ne===null?ue=oe:Ne.sibling=oe,Ne=oe);return be&&sn(R,Te),ue}for(oe=s(oe);Te<D.length;Te++)Ce=H(oe,R,Te,D[Te],P),Ce!==null&&(e&&Ce.alternate!==null&&oe.delete(Ce.key===null?Te:Ce.key),w=h(Ce,w,Te),Ne===null?ue=Ce:Ne.sibling=Ce,Ne=Ce);return e&&oe.forEach(function(Qn){return n(R,Qn)}),be&&sn(R,Te),ue}function ce(R,w,D,P){if(D==null)throw Error(a(151));for(var ue=null,Ne=null,oe=w,Te=w=0,Ce=null,we=D.next();oe!==null&&!we.done;Te++,we=D.next()){oe.index>Te?(Ce=oe,oe=null):Ce=oe.sibling;var Qn=L(R,oe,we.value,P);if(Qn===null){oe===null&&(oe=Ce);break}e&&oe&&Qn.alternate===null&&n(R,oe),w=h(Qn,w,Te),Ne===null?ue=Qn:Ne.sibling=Qn,Ne=Qn,oe=Ce}if(we.done)return o(R,oe),be&&sn(R,Te),ue;if(oe===null){for(;!we.done;Te++,we=D.next())we=O(R,we.value,P),we!==null&&(w=h(we,w,Te),Ne===null?ue=we:Ne.sibling=we,Ne=we);return be&&sn(R,Te),ue}for(oe=s(oe);!we.done;Te++,we=D.next())we=H(oe,R,Te,we.value,P),we!==null&&(e&&we.alternate!==null&&oe.delete(we.key===null?Te:we.key),w=h(we,w,Te),Ne===null?ue=we:Ne.sibling=we,Ne=we);return e&&oe.forEach(function(zv){return n(R,zv)}),be&&sn(R,Te),ue}function ze(R,w,D,P){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case A:e:{for(var ue=D.key;w!==null;){if(w.key===ue){if(ue=D.type,ue===U){if(w.tag===7){o(R,w.sibling),P=d(w,D.props.children),P.return=R,R=P;break e}}else if(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ri(ue)===w.type){o(R,w.sibling),P=d(w,D.props),Dl(P,D),P.return=R,R=P;break e}o(R,w);break}else n(R,w);w=w.sibling}D.type===U?(P=ii(D.props.children,R.mode,P,D.key),P.return=R,R=P):(P=Lo(D.type,D.key,D.props,null,R.mode,P),Dl(P,D),P.return=R,R=P)}return S(R);case M:e:{for(ue=D.key;w!==null;){if(w.key===ue)if(w.tag===4&&w.stateNode.containerInfo===D.containerInfo&&w.stateNode.implementation===D.implementation){o(R,w.sibling),P=d(w,D.children||[]),P.return=R,R=P;break e}else{o(R,w);break}else n(R,w);w=w.sibling}P=Ls(D,R.mode,P),P.return=R,R=P}return S(R);case te:return D=ri(D),ze(R,w,D,P)}if(de(D))return ie(R,w,D,P);if(xe(D)){if(ue=xe(D),typeof ue!="function")throw Error(a(150));return D=ue.call(D),ce(R,w,D,P)}if(typeof D.then=="function")return ze(R,w,Bo(D),P);if(D.$$typeof===F)return ze(R,w,Go(R,D),P);Oo(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,w!==null&&w.tag===6?(o(R,w.sibling),P=d(w,D),P.return=R,R=P):(o(R,w),P=Us(D,R.mode,P),P.return=R,R=P),S(R)):o(R,w)}return function(R,w,D,P){try{Il=0;var ue=ze(R,w,D,P);return qi=null,ue}catch(oe){if(oe===Gi||oe===Vo)throw oe;var Ne=At(29,oe,null,R.mode);return Ne.lanes=P,Ne.return=R,Ne}finally{}}}var ci=Sf(!0),Tf=Sf(!1),Dn=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Un(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Uo(e),lf(e,null,o),n}return ko(e,s,n,o),Uo(e)}function kl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,fc(e,o)}}function Qs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Zs=!1;function Ul(){if(Zs){var e=Hi;if(e!==null)throw e}}function Ll(e,n,o,s){Zs=!1;var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var C=_,k=C.next;C.next=null,S===null?h=k:S.next=k,S=C;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==S&&(_===null?V.firstBaseUpdate=k:_.next=k,V.lastBaseUpdate=C))}if(h!==null){var O=d.baseState;S=0,V=k=C=null,_=h;do{var L=_.lane&-536870913,H=L!==_.lane;if(H?(Ae&L)===L:(s&L)===L){L!==0&&L===zi&&(Zs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,ce=_;L=n;var ze=o;switch(ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){O=ie.call(ze,O,L);break e}O=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,L=typeof ie=="function"?ie.call(ze,O,L):ie,L==null)break e;O=T({},O,L);break e;case 2:Dn=!0}}L=_.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[L]:H.push(L))}else H={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(k=V=H,C=O):V=V.next=H,S|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);V===null&&(C=O),d.baseState=C,d.firstBaseUpdate=k,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=O}}function Ef(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function _f(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ef(o[e],n)}var Vi=N(null),Fo=N(0);function Af(e,n){e=vn,ee(Fo,e),ee(Vi,n),vn=e|n.baseLanes}function $s(){ee(Fo,vn),ee(Vi,Vi.current)}function js(){vn=Fo.current,B(Vi),B(Fo)}var Ct=N(null),Ht=null;function Ln(e){var n=e.alternate;ee(Ye,Ye.current&1),ee(Ct,e),Ht===null&&(n===null||Vi.current!==null||n.memoizedState!==null)&&(Ht=e)}function Ws(e){ee(Ye,Ye.current),ee(Ct,e),Ht===null&&(Ht=e)}function Cf(e){e.tag===22?(ee(Ye,Ye.current),ee(Ct,e),Ht===null&&(Ht=e)):zn()}function zn(){ee(Ye,Ye.current),ee(Ct,Ct.current)}function bt(e){B(Ct),Ht===e&&(Ht=null),B(Ye)}var Ye=N(0);function Yo(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ou(o)||au(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cn=0,Se=null,Ue=null,Xe=null,Jo=!1,Pi=!1,fi=!1,Ko=0,zl=0,Bi=null,by=0;function Oe(){throw Error(a(321))}function er(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!_t(e[o],n[o]))return!1;return!0}function tr(e,n,o,s,d,h){return cn=h,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?rd:gr,fi=!1,h=o(s,d),fi=!1,Pi&&(h=Nf(n,o,s,d)),bf(e),h}function bf(e){b.H=ql;var n=Ue!==null&&Ue.next!==null;if(cn=0,Xe=Ue=Se=null,Jo=!1,zl=0,Bi=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Ho(e)&&(Qe=!0))}function Nf(e,n,o,s){Se=e;var d=0;do{if(Pi&&(Bi=null),zl=0,Pi=!1,25<=d)throw Error(a(301));if(d+=1,Xe=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}b.H=ud,h=n(o,s)}while(Pi);return h}function Ny(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(Se.flags|=1024),n}function nr(){var e=Ko!==0;return Ko=0,e}function ir(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function lr(e){if(Jo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Jo=!1}cn=0,Xe=Ue=Se=null,Pi=!1,zl=Ko=0,Bi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Se.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Je(){if(Ue===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Xe===null?Se.memoizedState:Xe.next;if(n!==null)Xe=n,Ue=e;else{if(e===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?Se.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=zl;return zl+=1,Bi===null&&(Bi=[]),e=yf(Bi,e,n),n=Se,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?rd:gr),e}function Qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===F)return lt(e)}throw Error(a(438,String(e)))}function or(e){var n=null,o=Se.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Xo(),Se.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ae;return n.index++,o}function fn(e,n){return typeof n=="function"?n(e):n}function Zo(e){var n=Je();return ar(n,Ue,e)}function ar(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,C=null,k=n,V=!1;do{var O=k.lane&-536870913;if(O!==k.lane?(Ae&O)===O:(cn&O)===O){var L=k.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),O===zi&&(V=!0);else if((cn&L)===L){k=k.next,L===zi&&(V=!0);continue}else O={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(_=C=O,S=h):C=C.next=O,Se.lanes|=L,qn|=L;O=k.action,fi&&o(h,O),h=k.hasEagerState?k.eagerState:o(h,O)}else L={lane:O,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(_=C=L,S=h):C=C.next=L,Se.lanes|=O,qn|=O;k=k.next}while(k!==null&&k!==n);if(C===null?S=h:C.next=_,!_t(h,e.memoizedState)&&(Qe=!0,V&&(o=Hi,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=C,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function sr(e){var n=Je(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);_t(h,n.memoizedState)||(Qe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function wf(e,n,o){var s=Se,d=Je(),h=be;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!_t((Ue||d).memoizedState,o);if(S&&(d.memoizedState=o,Qe=!0),d=d.queue,cr(If.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Oi(9,{destroy:void 0},Rf.bind(null,s,d,o,n),null),qe===null)throw Error(a(349));h||(cn&127)!==0||Mf(s,n,o)}return o}function Mf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Se.updateQueue,n===null?(n=Xo(),Se.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Rf(e,n,o,s){n.value=o,n.getSnapshot=s,Df(n)&&kf(e)}function If(e,n,o){return o(function(){Df(n)&&kf(e)})}function Df(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!_t(e,o)}catch{return!0}}function kf(e){var n=ni(e,2);n!==null&&vt(n,e,2)}function rr(e){var n=ut();if(typeof e=="function"){var o=e;if(e=o(),fi){Cn(!0);try{o()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function Uf(e,n,o,s){return e.baseState=o,ar(e,Ue,typeof s=="function"?s:fn)}function wy(e,n,o,s,d){if(Wo(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};b.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Lf(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Lf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=b.T,S={};b.T=S;try{var _=o(d,s),C=b.S;C!==null&&C(S,_),zf(e,n,_)}catch(k){ur(e,n,k)}finally{h!==null&&S.types!==null&&(h.types=S.types),b.T=h}}else try{h=o(d,s),zf(e,n,h)}catch(k){ur(e,n,k)}}function zf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Hf(e,n,s)},function(s){return ur(e,n,s)}):Hf(e,n,o)}function Hf(e,n,o){n.status="fulfilled",n.value=o,Gf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Lf(e,o)))}function ur(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Gf(n),n=n.next;while(n!==s)}e.action=null}function Gf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qf(e,n){return n}function Vf(e,n){if(be){var o=qe.formState;if(o!==null){e:{var s=Se;if(be){if(Ve){t:{for(var d=Ve,h=zt;d.nodeType!==8;){if(!h){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ve=Gt(d.nextSibling),s=d.data==="F!";break e}}Rn(s)}s=!1}s&&(n=o[0])}}return o=ut(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:n},o.queue=s,o=od.bind(null,Se,s),s.dispatch=o,s=rr(!1),h=pr.bind(null,Se,!1,s.queue),s=ut(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=wy.bind(null,Se,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Pf(e){var n=Je();return Bf(n,Ue,e)}function Bf(e,n,o){if(n=ar(e,n,qf)[0],e=Zo(fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Hl(n)}catch(S){throw S===Gi?Vo:S}else s=n;n=Je();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(Se.flags|=2048,Oi(9,{destroy:void 0},My.bind(null,d,o),null)),[s,h,e]}function My(e,n){e.action=n}function Of(e){var n=Je(),o=Ue;if(o!==null)return Bf(n,o,e);Je(),n=n.memoizedState,o=Je();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Oi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Xo(),Se.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Ff(){return Je().memoizedState}function $o(e,n,o,s){var d=ut();Se.flags|=e,d.memoizedState=Oi(1|n,{destroy:void 0},o,s===void 0?null:s)}function jo(e,n,o,s){var d=Je();s=s===void 0?null:s;var h=d.memoizedState.inst;Ue!==null&&s!==null&&er(s,Ue.memoizedState.deps)?d.memoizedState=Oi(n,h,o,s):(Se.flags|=e,d.memoizedState=Oi(1|n,h,o,s))}function Yf(e,n){$o(8390656,8,e,n)}function cr(e,n){jo(2048,8,e,n)}function Ry(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Xo(),Se.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Jf(e){var n=Je().memoizedState;return Ry({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Kf(e,n){return jo(4,2,e,n)}function Xf(e,n){return jo(4,4,e,n)}function Qf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zf(e,n,o){o=o!=null?o.concat([e]):null,jo(4,4,Qf.bind(null,n,e),o)}function fr(){}function $f(e,n){var o=Je();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&er(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function jf(e,n){var o=Je();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&er(n,s[1]))return s[0];if(s=e(),fi){Cn(!0);try{e()}finally{Cn(!1)}}return o.memoizedState=[s,n],s}function dr(e,n,o){return o===void 0||(cn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Wd(),Se.lanes|=e,qn|=e,o)}function Wf(e,n,o,s){return _t(o,n)?o:Vi.current!==null?(e=dr(e,o,s),_t(e,n)||(Qe=!0),e):(cn&42)===0||(cn&1073741824)!==0&&(Ae&261930)===0?(Qe=!0,e.memoizedState=o):(e=Wd(),Se.lanes|=e,qn|=e,n)}function ed(e,n,o,s,d){var h=G.p;G.p=h!==0&&8>h?h:8;var S=b.T,_={};b.T=_,pr(e,!1,n,o);try{var C=d(),k=b.S;if(k!==null&&k(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=Cy(C,s);Gl(e,n,V,Mt(e))}else Gl(e,n,s,Mt(e))}catch(O){Gl(e,n,{then:function(){},status:"rejected",reason:O},Mt())}finally{G.p=h,S!==null&&_.types!==null&&(S.types=_.types),b.T=S}}function Iy(){}function mr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=td(e).queue;ed(e,d,n,$,o===null?Iy:function(){return nd(e),o(s)})}function td(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:$},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function nd(e){var n=td(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Mt())}function hr(){return lt(to)}function id(){return Je().memoizedState}function ld(){return Je().memoizedState}function Dy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Mt();e=kn(o);var s=Un(n,e,o);s!==null&&(vt(s,n,o),kl(s,n,o)),n={cache:Os()},e.payload=n;return}n=n.return}}function ky(e,n,o){var s=Mt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wo(e)?ad(n,o):(o=Ds(e,n,o,s),o!==null&&(vt(o,e,s),sd(o,n,s)))}function od(e,n,o){var s=Mt();Gl(e,n,o,s)}function Gl(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))ad(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,o);if(d.hasEagerState=!0,d.eagerState=_,_t(_,S))return ko(e,n,d,0),qe===null&&Do(),!1}catch{}finally{}if(o=Ds(e,n,d,s),o!==null)return vt(o,e,s),sd(o,n,s),!0}return!1}function pr(e,n,o,s){if(s={lane:2,revertLane:Kr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(a(479))}else n=Ds(e,o,s,2),n!==null&&vt(n,e,2)}function Wo(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function ad(e,n){Pi=Jo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function sd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,fc(e,o)}}var ql={readContext:lt,use:Qo,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};ql.useEffectEvent=Oe;var rd={readContext:lt,use:Qo,useCallback:function(e,n){return ut().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:Yf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,$o(4194308,4,Qf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return $o(4194308,4,e,n)},useInsertionEffect:function(e,n){$o(4,2,e,n)},useMemo:function(e,n){var o=ut();n=n===void 0?null:n;var s=e();if(fi){Cn(!0);try{e()}finally{Cn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=ut();if(o!==void 0){var d=o(n);if(fi){Cn(!0);try{o(n)}finally{Cn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=ky.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var n=ut();return e={current:e},n.memoizedState=e},useState:function(e){e=rr(e);var n=e.queue,o=od.bind(null,Se,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:fr,useDeferredValue:function(e,n){var o=ut();return dr(o,e,n)},useTransition:function(){var e=rr(!1);return e=ed.bind(null,Se,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Se,d=ut();if(be){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),qe===null)throw Error(a(349));(Ae&127)!==0||Mf(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,Yf(If.bind(null,s,h,e),[e]),s.flags|=2048,Oi(9,{destroy:void 0},Rf.bind(null,s,h,o,n),null),o},useId:function(){var e=ut(),n=qe.identifierPrefix;if(be){var o=Zt,s=Qt;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ko++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=by++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hr,useFormState:Vf,useActionState:Vf,useOptimistic:function(e){var n=ut();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=pr.bind(null,Se,!0,o),o.dispatch=n,[e,n]},useMemoCache:or,useCacheRefresh:function(){return ut().memoizedState=Dy.bind(null,Se)},useEffectEvent:function(e){var n=ut(),o={impl:e};return n.memoizedState=o,function(){if((Re&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},gr={readContext:lt,use:Qo,useCallback:$f,useContext:lt,useEffect:cr,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:jf,useReducer:Zo,useRef:Ff,useState:function(){return Zo(fn)},useDebugValue:fr,useDeferredValue:function(e,n){var o=Je();return Wf(o,Ue.memoizedState,e,n)},useTransition:function(){var e=Zo(fn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:wf,useId:id,useHostTransitionStatus:hr,useFormState:Pf,useActionState:Pf,useOptimistic:function(e,n){var o=Je();return Uf(o,Ue,e,n)},useMemoCache:or,useCacheRefresh:ld};gr.useEffectEvent=Jf;var ud={readContext:lt,use:Qo,useCallback:$f,useContext:lt,useEffect:cr,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:jf,useReducer:sr,useRef:Ff,useState:function(){return sr(fn)},useDebugValue:fr,useDeferredValue:function(e,n){var o=Je();return Ue===null?dr(o,e,n):Wf(o,Ue.memoizedState,e,n)},useTransition:function(){var e=sr(fn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:wf,useId:id,useHostTransitionStatus:hr,useFormState:Of,useActionState:Of,useOptimistic:function(e,n){var o=Je();return Ue!==null?Uf(o,Ue,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:or,useCacheRefresh:ld};ud.useEffectEvent=Jf;function yr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var vr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Mt(),d=kn(s);d.payload=n,o!=null&&(d.callback=o),n=Un(e,d,s),n!==null&&(vt(n,e,s),kl(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Mt(),d=kn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Un(e,d,s),n!==null&&(vt(n,e,s),kl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Mt(),s=kn(o);s.tag=2,n!=null&&(s.callback=n),n=Un(e,s,o),n!==null&&(vt(n,e,o),kl(n,e,o))}};function cd(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!Cl(o,s)||!Cl(d,h):!0}function fd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&vr.enqueueReplaceState(n,n.state,null)}function di(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function dd(e){Io(e)}function md(e){console.error(e)}function hd(e){Io(e)}function ea(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function pd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xr(e,n,o){return o=kn(o),o.tag=3,o.payload={element:null},o.callback=function(){ea(e,n)},o}function gd(e){return e=kn(e),e.tag=3,e}function yd(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){pd(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){pd(n,o,s),typeof d!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Uy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Li(n,o,d,!0),o=Ct.current,o!==null){switch(o.tag){case 31:case 13:return Ht===null?da():o.alternate===null&&Fe===0&&(Fe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Po?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Fr(e,s,d)),!1;case 22:return o.flags|=65536,s===Po?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Fr(e,s,d)),!1}throw Error(a(435,o.tag))}return Fr(e,s,d),da(),!1}if(be)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Gs&&(e=Error(a(422),{cause:s}),wl(kt(e,o)))):(s!==Gs&&(n=Error(a(423),{cause:s}),wl(kt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=kt(s,o),d=xr(e.stateNode,s,d),Qs(e,d),Fe!==4&&(Fe=2)),!1;var h=Error(a(520),{cause:s});if(h=kt(h,o),Kl===null?Kl=[h]:Kl.push(h),Fe!==4&&(Fe=2),n===null)return!0;s=kt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=xr(o.stateNode,s,e),Qs(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Vn===null||!Vn.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=gd(d),yd(d,e,o,s),Qs(o,d),!1}o=o.return}while(o!==null);return!1}var Sr=Error(a(461)),Qe=!1;function ot(e,n,o,s){n.child=e===null?Tf(n,null,o,s):ci(n,e.child,o,s)}function vd(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ai(n),s=tr(e,n,o,S,h,d),_=nr(),e!==null&&!Qe?(ir(e,n,d),dn(e,n,d)):(be&&_&&zs(n),n.flags|=1,ot(e,n,s,d),n.child)}function xd(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!ks(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Sd(e,n,h,s,d)):(e=Lo(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!wr(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:Cl,o(S,s)&&e.ref===n.ref)return dn(e,n,d)}return n.flags|=1,e=an(h,s),e.ref=n.ref,e.return=n,n.child=e}function Sd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(Cl(h,s)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=s=h,wr(e,d))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,dn(e,n,d)}return Tr(e,n,o,s,d)}function Td(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return Ed(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(n,h!==null?h.cachePool:null),h!==null?Af(n,h):$s(),Cf(n);else return s=n.lanes=536870912,Ed(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(qo(n,h.cachePool),Af(n,h),zn(),n.memoizedState=null):(e!==null&&qo(n,null),$s(),zn());return ot(e,n,d,o),n.child}function Vl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ed(e,n,o,s,d){var h=Ys();return h=h===null?null:{parent:Ke._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&qo(n,null),$s(),Cf(n),e!==null&&Li(e,n,s,!0),n.childLanes=d,null}function ta(e,n){return n=ia({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function _d(e,n,o){return ci(n,e.child,null,o),e=ta(n,n.pendingProps),e.flags|=2,bt(n),n.memoizedState=null,e}function Ly(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(be){if(s.mode==="hidden")return e=ta(n,s),n.lanes=536870912,Vl(null,e);if(Ws(n),(e=Ve)?(e=Lm(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},o=af(e),o.return=n,n.child=o,it=n,Ve=null)):e=null,e===null)throw Rn(n);return n.lanes=536870912,null}return ta(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Ws(n),d)if(n.flags&256)n.flags&=-257,n=_d(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||Li(e,n,o,!1),d=(o&e.childLanes)!==0,Qe||d){if(s=qe,s!==null&&(S=dc(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,ni(e,S),vt(s,e,S),Sr;da(),n=_d(e,n,o)}else e=h.treeContext,Ve=Gt(S.nextSibling),it=n,be=!0,Mn=null,zt=!1,e!==null&&uf(n,e),n=ta(n,s),n.flags|=4096;return n}return e=an(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function na(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Tr(e,n,o,s,d){return ai(n),o=tr(e,n,o,s,void 0,d),s=nr(),e!==null&&!Qe?(ir(e,n,d),dn(e,n,d)):(be&&s&&zs(n),n.flags|=1,ot(e,n,o,d),n.child)}function Ad(e,n,o,s,d,h){return ai(n),n.updateQueue=null,o=Nf(n,s,o,d),bf(e),s=nr(),e!==null&&!Qe?(ir(e,n,h),dn(e,n,h)):(be&&s&&zs(n),n.flags|=1,ot(e,n,o,h),n.child)}function Cd(e,n,o,s,d){if(ai(n),n.stateNode===null){var h=Ii,S=o.contextType;typeof S=="object"&&S!==null&&(h=lt(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=vr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Ks(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?lt(S):Ii,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(yr(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&vr.enqueueReplaceState(h,h.state,null),Ll(n,s,h,d),Ul(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,C=di(o,_);h.props=C;var k=h.context,V=o.contextType;S=Ii,typeof V=="object"&&V!==null&&(S=lt(V));var O=o.getDerivedStateFromProps;V=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||k!==S)&&fd(n,h,s,S),Dn=!1;var L=n.memoizedState;h.state=L,Ll(n,s,h,d),Ul(),k=n.memoizedState,_||L!==k||Dn?(typeof O=="function"&&(yr(n,o,O,s),k=n.memoizedState),(C=Dn||cd(n,o,C,s,L,k,S))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=k),h.props=s,h.state=k,h.context=S,s=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Xs(e,n),S=n.memoizedProps,V=di(o,S),h.props=V,O=n.pendingProps,L=h.context,k=o.contextType,C=Ii,typeof k=="object"&&k!==null&&(C=lt(k)),_=o.getDerivedStateFromProps,(k=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==O||L!==C)&&fd(n,h,s,C),Dn=!1,L=n.memoizedState,h.state=L,Ll(n,s,h,d),Ul();var H=n.memoizedState;S!==O||L!==H||Dn||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof _=="function"&&(yr(n,o,_,s),H=n.memoizedState),(V=Dn||cd(n,o,V,s,L,H,C)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),h.props=s,h.state=H,h.context=C,s=V):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,na(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=ci(n,e.child,null,d),n.child=ci(n,null,o,d)):ot(e,n,o,d),n.memoizedState=h.state,e=n.child):e=dn(e,n,d),e}function bd(e,n,o,s){return li(),n.flags|=256,ot(e,n,o,s),n.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _r(e){return{baseLanes:e,cachePool:pf()}}function Ar(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=wt),e}function Nd(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(be){if(d?Ln(n):zn(),(e=Ve)?(e=Lm(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},o=af(e),o.return=n,n.child=o,it=n,Ve=null)):e=null,e===null)throw Rn(n);return au(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(zn(),d=n.mode,_=ia({mode:"hidden",children:_},d),s=ii(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=_r(o),s.childLanes=Ar(e,S,o),n.memoizedState=Er,Vl(null,s)):(Ln(n),Cr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(h)n.flags&256?(Ln(n),n.flags&=-257,n=br(e,n,o)):n.memoizedState!==null?(zn(),n.child=e.child,n.flags|=128,n=null):(zn(),_=s.fallback,d=n.mode,s=ia({mode:"visible",children:s.children},d),_=ii(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ci(n,e.child,null,o),s=n.child,s.memoizedState=_r(o),s.childLanes=Ar(e,S,o),n.memoizedState=Er,n=Vl(null,s));else if(Ln(n),au(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var k=S.dgst;S=k,s=Error(a(419)),s.stack="",s.digest=S,wl({value:s,source:null,stack:null}),n=br(e,n,o)}else if(Qe||Li(e,n,o,!1),S=(o&e.childLanes)!==0,Qe||S){if(S=qe,S!==null&&(s=dc(S,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,ni(e,s),vt(S,e,s),Sr;ou(_)||da(),n=br(e,n,o)}else ou(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Ve=Gt(_.nextSibling),it=n,be=!0,Mn=null,zt=!1,e!==null&&uf(n,e),n=Cr(n,s.children),n.flags|=4096);return n}return d?(zn(),_=s.fallback,d=n.mode,C=e.child,k=C.sibling,s=an(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,k!==null?_=an(k,_):(_=ii(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Vl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=_r(o):(d=_.cachePool,d!==null?(C=Ke._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=pf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Ar(e,S,o),n.memoizedState=Er,Vl(e.child,s)):(Ln(n),o=e.child,e=o.sibling,o=an(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function Cr(e,n){return n=ia({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ia(e,n){return e=At(22,e,null,n),e.lanes=0,e}function br(e,n,o){return ci(n,e.child,null,o),e=Cr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ps(e.return,n,o)}function Nr(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function Md(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=Ye.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,ee(Ye,S),ot(e,n,s,o),s=be?Nl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,o,n);else if(e.tag===19)wd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Yo(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Nr(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Yo(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Nr(n,!0,o,null,h,s);break;case"together":Nr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function dn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),qn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Li(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=an(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=an(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function wr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function zy(e,n,o){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),In(n,Ke,e.memoizedState.cache),li();break;case 27:case 5:Bt(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Nd(e,n,o):(Ln(n),e=dn(e,n,o),e!==null?e.sibling:null);Ln(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Li(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Md(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(Ye,Ye.current),s)break;return null;case 22:return n.lanes=0,Td(e,n,o,n.pendingProps);case 24:In(n,Ke,e.memoizedState.cache)}return dn(e,n,o)}function Rd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!wr(e,o)&&(n.flags&128)===0)return Qe=!1,zy(e,n,o);Qe=(e.flags&131072)!==0}else Qe=!1,be&&(n.flags&1048576)!==0&&rf(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ri(n.elementType),n.type=e,typeof e=="function")ks(e)?(s=di(e,s),n.tag=1,n=Cd(null,n,e,s,o)):(n.tag=0,n=Tr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===z){n.tag=11,n=vd(null,n,e,s,o);break e}else if(d===Z){n.tag=14,n=xd(null,n,e,s,o);break e}}throw n=W(e)||e,Error(a(306,n,""))}}return n;case 0:return Tr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=di(s,n.pendingProps),Cd(e,n,s,d,o);case 3:e:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,Xs(e,n),Ll(n,s,null,o);var S=n.memoizedState;if(s=S.cache,In(n,Ke,s),s!==h.cache&&Bs(n,[Ke],o,!0),Ul(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=bd(e,n,s,o);break e}else if(s!==d){d=kt(Error(a(424)),n),wl(d),n=bd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Gt(e.firstChild),it=n,be=!0,Mn=null,zt=!0,o=Tf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(li(),s===d){n=dn(e,n,o);break e}ot(e,n,s,o)}n=n.child}return n;case 26:return na(e,n),e===null?(o=Pm(n.type,null,n.pendingProps,null))?n.memoizedState=o:be||(o=n.type,e=n.pendingProps,s=xa(X.current).createElement(o),s[nt]=n,s[dt]=e,at(s,o,e),We(s),n.stateNode=s):n.memoizedState=Pm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bt(n),e===null&&be&&(s=n.stateNode=Gm(n.type,n.pendingProps,X.current),it=n,zt=!0,d=Ve,Fn(n.type)?(su=d,Ve=Gt(s.firstChild)):Ve=d),ot(e,n,n.pendingProps.children,o),na(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&be&&((d=s=Ve)&&(s=dv(s,n.type,n.pendingProps,zt),s!==null?(n.stateNode=s,it=n,Ve=Gt(s.firstChild),zt=!1,d=!0):d=!1),d||Rn(n)),Bt(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,nu(d,h)?s=null:S!==null&&nu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=tr(e,n,Ny,null,null,o),to._currentValue=d),na(e,n),ot(e,n,s,o),n.child;case 6:return e===null&&be&&((e=o=Ve)&&(o=mv(o,n.pendingProps,zt),o!==null?(n.stateNode=o,it=n,Ve=null,e=!0):e=!1),e||Rn(n)),null;case 13:return Nd(e,n,o);case 4:return Ie(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ci(n,null,s,o):ot(e,n,s,o),n.child;case 11:return vd(e,n,n.type,n.pendingProps,o);case 7:return ot(e,n,n.pendingProps,o),n.child;case 8:return ot(e,n,n.pendingProps.children,o),n.child;case 12:return ot(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,In(n,n.type,s.value),ot(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ai(n),d=lt(d),s=s(d),n.flags|=1,ot(e,n,s,o),n.child;case 14:return xd(e,n,n.type,n.pendingProps,o);case 15:return Sd(e,n,n.type,n.pendingProps,o);case 19:return Md(e,n,o);case 31:return Ly(e,n,o);case 22:return Td(e,n,o,n.pendingProps);case 24:return ai(n),s=lt(Ke),e===null?(d=Ys(),d===null&&(d=qe,h=Os(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},Ks(n),In(n,Ke,d)):((e.lanes&o)!==0&&(Xs(e,n),Ll(n,null,null,o),Ul()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),In(n,Ke,s)):(s=h.cache,In(n,Ke,s),s!==d.cache&&Bs(n,[Ke],o,!0))),ot(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function mn(e){e.flags|=4}function Mr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(im())e.flags|=8192;else throw ui=Po,Js}else e.flags&=-16777217}function Id(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(n))if(im())e.flags|=8192;else throw ui=Po,Js}function la(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uc():536870912,e.lanes|=n,Ki|=n)}function Pl(e,n){if(!be)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Hy(e,n,o){var s=n.pendingProps;switch(Hs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),un(Ke),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ui(n)?mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),Pe(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(mn(n),h!==null?(Pe(n),Id(n,h)):(Pe(n),Mr(n,d,null,s,o))):h?h!==e.memoizedState?(mn(n),Pe(n),Id(n,h)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(n),Pe(n),Mr(n,d,e,s,o)),null;case 27:if(je(n),o=X.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}e=le.current,Ui(n)?cf(n):(e=Gm(d,s,o),n.stateNode=e,mn(n))}return Pe(n),null;case 5:if(je(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}if(h=le.current,Ui(n))cf(n);else{var S=xa(X.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[nt]=n,h[dt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(at(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(n)}}return Pe(n),Mr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=X.current,Ui(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=it,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[nt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Nm(e.nodeValue,o)),e||Rn(n,!0)}else e=xa(e).createTextNode(s),e[nt]=n,n.stateNode=e}return Pe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ui(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else o=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(bt(n),n):(bt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Pe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ui(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[nt]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),d=!1}else d=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(bt(n),n):(bt(n),null)}return bt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),la(n,n.updateQueue),Pe(n),null);case 4:return Ge(),e===null&&$r(n.stateNode.containerInfo),Pe(n),null;case 10:return un(n.type),Pe(n),null;case 19:if(B(Ye),s=n.memoizedState,s===null)return Pe(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Pl(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Yo(e),h!==null){for(n.flags|=128,Pl(s,!1),e=h.updateQueue,n.updateQueue=e,la(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)of(o,e),o=o.sibling;return ee(Ye,Ye.current&1|2),be&&sn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&St()>ua&&(n.flags|=128,d=!0,Pl(s,!1),n.lanes=4194304)}else{if(!d)if(e=Yo(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,la(n,e),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!be)return Pe(n),null}else 2*St()-s.renderingStartTime>ua&&o!==536870912&&(n.flags|=128,d=!0,Pl(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,o=Ye.current,ee(Ye,d?o&1|2:o&1),be&&sn(n,s.treeForkCount),e):(Pe(n),null);case 22:case 23:return bt(n),js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),o=n.updateQueue,o!==null&&la(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&B(si),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),un(Ke),Pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Gy(e,n){switch(Hs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return un(Ke),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return je(n),null;case 31:if(n.memoizedState!==null){if(bt(n),n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Ye),null;case 4:return Ge(),null;case 10:return un(n.type),null;case 22:case 23:return bt(n),js(),e!==null&&B(si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return un(Ke),null;case 25:return null;default:return null}}function Dd(e,n){switch(Hs(n),n.tag){case 3:un(Ke),Ge();break;case 26:case 27:case 5:je(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&bt(n);break;case 13:bt(n);break;case 19:B(Ye);break;case 10:un(n.type);break;case 22:case 23:bt(n),js(),e!==null&&B(si);break;case 24:un(Ke)}}function Bl(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){ke(n,n.return,_)}}function Hn(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var C=o,k=_;try{k()}catch(V){ke(d,C,V)}}}s=s.next}while(s!==h)}}catch(V){ke(n,n.return,V)}}function kd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{_f(n,o)}catch(s){ke(e,e.return,s)}}}function Ud(e,n,o){o.props=di(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){ke(e,n,s)}}function Ol(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){ke(e,n,d)}}function $t(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ke(e,n,d)}else o.current=null}function Ld(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){ke(e,e.return,d)}}function Rr(e,n,o){try{var s=e.stateNode;av(s,e.type,o,n),s[dt]=n}catch(d){ke(e,e.return,d)}}function zd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ln));else if(s!==4&&(s===27&&Fn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Dr(e,n,o),e=e.sibling;e!==null;)Dr(e,n,o),e=e.sibling}function oa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(oa(e,n,o),e=e.sibling;e!==null;)oa(e,n,o),e=e.sibling}function Hd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);at(n,s,o),n[nt]=e,n[dt]=o}catch(h){ke(e,e.return,h)}}var hn=!1,Ze=!1,kr=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,et=null;function qy(e,n){if(e=e.containerInfo,eu=ba,e=Qc(e),bs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,_=-1,C=-1,k=0,V=0,O=e,L=null;t:for(;;){for(var H;O!==o||d!==0&&O.nodeType!==3||(_=S+d),O!==h||s!==0&&O.nodeType!==3||(C=S+s),O.nodeType===3&&(S+=O.nodeValue.length),(H=O.firstChild)!==null;)L=O,O=H;for(;;){if(O===e)break t;if(L===o&&++k===d&&(_=S),L===h&&++V===s&&(C=S),(H=O.nextSibling)!==null)break;O=L,L=O.parentNode}O=H}o=_===-1||C===-1?null:{start:_,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(tu={focusedElem:e,selectionRange:o},ba=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var ie=di(o.type,d);e=s.getSnapshotBeforeUpdate(ie,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ke(o,o.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)lu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function qd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:gn(e,o),s&4&&Bl(5,o);break;case 1:if(gn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){ke(o,o.return,S)}else{var d=di(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){ke(o,o.return,S)}}s&64&&kd(o),s&512&&Ol(o,o.return);break;case 3:if(gn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{_f(e,n)}catch(S){ke(o,o.return,S)}}break;case 27:n===null&&s&4&&Hd(o);case 26:case 5:gn(e,o),n===null&&s&4&&Ld(o),s&512&&Ol(o,o.return);break;case 12:gn(e,o);break;case 31:gn(e,o),s&4&&Bd(e,o);break;case 13:gn(e,o),s&4&&Od(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Xy.bind(null,o),hv(e,o))));break;case 22:if(s=o.memoizedState!==null||hn,!s){n=n!==null&&n.memoizedState!==null||Ze,d=hn;var h=Ze;hn=s,(Ze=n)&&!h?yn(e,o,(o.subtreeFlags&8772)!==0):gn(e,o),hn=d,Ze=h}break;case 30:break;default:gn(e,o)}}function Vd(e){var n=e.alternate;n!==null&&(e.alternate=null,Vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&us(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,ht=!1;function pn(e,n,o){for(o=o.child;o!==null;)Pd(e,n,o),o=o.sibling}function Pd(e,n,o){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ml,o)}catch{}switch(o.tag){case 26:Ze||$t(o,n),pn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ze||$t(o,n);var s=Be,d=ht;Fn(o.type)&&(Be=o.stateNode,ht=!1),pn(e,n,o),jl(o.stateNode),Be=s,ht=d;break;case 5:Ze||$t(o,n);case 6:if(s=Be,d=ht,Be=null,pn(e,n,o),Be=s,ht=d,Be!==null)if(ht)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(o.stateNode)}catch(h){ke(o,n,h)}else try{Be.removeChild(o.stateNode)}catch(h){ke(o,n,h)}break;case 18:Be!==null&&(ht?(e=Be,km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),tl(e)):km(Be,o.stateNode));break;case 4:s=Be,d=ht,Be=o.stateNode.containerInfo,ht=!0,pn(e,n,o),Be=s,ht=d;break;case 0:case 11:case 14:case 15:Hn(2,o,n),Ze||Hn(4,o,n),pn(e,n,o);break;case 1:Ze||($t(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Ud(o,n,s)),pn(e,n,o);break;case 21:pn(e,n,o);break;case 22:Ze=(s=Ze)||o.memoizedState!==null,pn(e,n,o),Ze=s;break;default:pn(e,n,o)}}function Bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{tl(e)}catch(o){ke(n,n.return,o)}}}function Od(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tl(e)}catch(o){ke(n,n.return,o)}}function Vy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gd),n;default:throw Error(a(435,e.tag))}}function aa(e,n){var o=Vy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Qy.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Fn(_.type)){Be=_.stateNode,ht=!1;break e}break;case 5:Be=_.stateNode,ht=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,ht=!0;break e}_=_.return}if(Be===null)throw Error(a(160));Pd(h,S,d),Be=null,ht=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fd(n,e),n=n.sibling}var Ft=null;function Fd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),gt(e),s&4&&(Hn(3,e,e.return),Bl(3,e),Hn(5,e,e.return));break;case 1:pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),s&64&&hn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Ft;if(pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[gl]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),at(h,s,o),h[nt]=e,We(h),s=h;break e;case"link":var S=Fm("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;case"meta":if(S=Fm("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[nt]=e,We(h),s=h}e.stateNode=s}else Ym(d,e.type,e.stateNode);else e.stateNode=Om(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Ym(d,e.type,e.stateNode):Om(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,o.memoizedProps)}break;case 27:pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),o!==null&&s&4&&Rr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),e.flags&32){d=e.stateNode;try{Ai(d,"")}catch(ie){ke(e,e.return,ie)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Rr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(kr=!0);break;case 6:if(pt(n,e),gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(ie){ke(e,e.return,ie)}}break;case 3:if(Ea=null,d=Ft,Ft=Sa(n.containerInfo),pt(n,e),Ft=d,gt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(ie){ke(e,e.return,ie)}kr&&(kr=!1,Yd(e));break;case 4:s=Ft,Ft=Sa(e.stateNode.containerInfo),pt(n,e),gt(e),Ft=s;break;case 12:pt(n,e),gt(e);break;case 31:pt(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 13:pt(n,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ra=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 22:d=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,k=hn,V=Ze;if(hn=k||d,Ze=V||C,pt(n,e),Ze=V,hn=k,gt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||C||hn||Ze||mi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(h=C.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=C.stateNode;var O=C.memoizedProps.style,L=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ie){ke(C,C.return,ie)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ie){ke(C,C.return,ie)}}}else if(n.tag===18){if(o===null){C=n;try{var H=C.stateNode;d?Um(H,!0):Um(C.stateNode,!1)}catch(ie){ke(C,C.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,aa(e,o))));break;case 19:pt(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 30:break;case 21:break;default:pt(n,e),gt(e)}}function gt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(zd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Ir(e);oa(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(Ai(S,""),o.flags&=-33);var _=Ir(e);oa(e,_,S);break;case 3:case 4:var C=o.stateNode.containerInfo,k=Ir(e);Dr(e,k,C);break;default:throw Error(a(161))}}catch(V){ke(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qd(e,n.alternate,n),n=n.sibling}function mi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hn(4,n,n.return),mi(n);break;case 1:$t(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Ud(n,n.return,o),mi(n);break;case 27:jl(n.stateNode);case 26:case 5:$t(n,n.return),mi(n);break;case 22:n.memoizedState===null&&mi(n);break;case 30:mi(n);break;default:mi(n)}e=e.sibling}}function yn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:yn(d,h,o),Bl(4,h);break;case 1:if(yn(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(k){ke(s,s.return,k)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Ef(C[d],_)}catch(k){ke(s,s.return,k)}}o&&S&64&&kd(h),Ol(h,h.return);break;case 27:Hd(h);case 26:case 5:yn(d,h,o),o&&s===null&&S&4&&Ld(h),Ol(h,h.return);break;case 12:yn(d,h,o);break;case 31:yn(d,h,o),o&&S&4&&Bd(d,h);break;case 13:yn(d,h,o),o&&S&4&&Od(d,h);break;case 22:h.memoizedState===null&&yn(d,h,o),Ol(h,h.return);break;case 30:break;default:yn(d,h,o)}n=n.sibling}}function Ur(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ml(o))}function Lr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function Yt(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jd(e,n,o,s),n=n.sibling}function Jd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yt(e,n,o,s),d&2048&&Bl(9,n);break;case 1:Yt(e,n,o,s);break;case 3:Yt(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(d&2048){Yt(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ke(n,n.return,C)}}else Yt(e,n,o,s);break;case 31:Yt(e,n,o,s);break;case 13:Yt(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Yt(e,n,o,s):Fl(e,n):h._visibility&2?Yt(e,n,o,s):(h._visibility|=2,Fi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ur(S,n);break;case 24:Yt(e,n,o,s),d&2048&&Lr(n.alternate,n);break;default:Yt(e,n,o,s)}}function Fi(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=o,C=s,k=S.flags;switch(S.tag){case 0:case 11:case 15:Fi(h,S,_,C,d),Bl(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Fi(h,S,_,C,d):Fl(h,S):(V._visibility|=2,Fi(h,S,_,C,d)),d&&k&2048&&Ur(S.alternate,S);break;case 24:Fi(h,S,_,C,d),d&&k&2048&&Lr(S.alternate,S);break;default:Fi(h,S,_,C,d)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Fl(o,s),d&2048&&Ur(s.alternate,s);break;case 24:Fl(o,s),d&2048&&Lr(s.alternate,s);break;default:Fl(o,s)}n=n.sibling}}var Yl=8192;function Yi(e,n,o){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Kd(e,n,o),e=e.sibling}function Kd(e,n,o){switch(e.tag){case 26:Yi(e,n,o),e.flags&Yl&&e.memoizedState!==null&&bv(o,Ft,e.memoizedState,e.memoizedProps);break;case 5:Yi(e,n,o);break;case 3:case 4:var s=Ft;Ft=Sa(e.stateNode.containerInfo),Yi(e,n,o),Ft=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Yl,Yl=16777216,Yi(e,n,o),Yl=s):Yi(e,n,o));break;default:Yi(e,n,o)}}function Xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];et=s,Zd(s,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qd(e),e=e.sibling}function Qd(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sa(e)):Jl(e);break;default:Jl(e)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];et=s,Zd(s,e)}Xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hn(8,n,n.return),sa(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,sa(n));break;default:sa(n)}e=e.sibling}}function Zd(e,n){for(;et!==null;){var o=et;switch(o.tag){case 0:case 11:case 15:Hn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,et=s;else e:for(o=e;et!==null;){s=et;var d=s.sibling,h=s.return;if(Vd(s),s===o){et=null;break e}if(d!==null){d.return=h,et=d;break e}et=h}}}var Py={getCacheForType:function(e){var n=lt(Ke),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return lt(Ke).controller.signal}},By=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,Ee=null,Ae=0,De=0,Nt=null,Gn=!1,Ji=!1,zr=!1,vn=0,Fe=0,qn=0,hi=0,Hr=0,wt=0,Ki=0,Kl=null,yt=null,Gr=!1,ra=0,$d=0,ua=1/0,ca=null,Vn=null,$e=0,Pn=null,Xi=null,xn=0,qr=0,Vr=null,jd=null,Xl=0,Pr=null;function Mt(){return(Re&2)!==0&&Ae!==0?Ae&-Ae:b.T!==null?Kr():mc()}function Wd(){if(wt===0)if((Ae&536870912)===0||be){var e=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),wt=e}else wt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),wt}function vt(e,n,o){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),Bn(e,Ae,wt,!1)),pl(e,o),((Re&2)===0||e!==qe)&&(e===qe&&((Re&2)===0&&(hi|=o),Fe===4&&Bn(e,Ae,wt,!1)),jt(e))}function em(e,n,o){if((Re&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||hl(e,n),d=s?Yy(e,n):Or(e,n,!0),h=s;do{if(d===0){Ji&&!s&&Bn(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!Oy(o)){d=Or(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Kl;var C=_.current.memoizedState.isDehydrated;if(C&&(Qi(_,S).flags|=256),S=Or(_,S,!1),S!==2){if(zr&&!C){_.errorRecoveryDisabledLanes|=h,hi|=h,d=4;break e}h=yt,yt=d,h!==null&&(yt===null?yt=h:yt.push.apply(yt,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){Qi(e,0),Bn(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bn(s,n,wt,!Gn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ra+300-St(),10<d)){if(Bn(s,n,wt,!Gn),So(s,0,!0)!==0)break e;xn=n,s.timeoutHandle=Im(tm.bind(null,s,o,yt,ca,Gr,n,wt,hi,Ki,Gn,h,"Throttled",-0,0),d);break e}tm(s,o,yt,ca,Gr,n,wt,hi,Ki,Gn,h,null,-0,0)}}break}while(!0);jt(e)}function tm(e,n,o,s,d,h,S,_,C,k,V,O,L,H){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Kd(n,h,O);var ie=(h&62914560)===h?ra-St():(h&4194048)===h?$d-St():0;if(ie=Nv(O,ie),ie!==null){xn=h,e.cancelPendingCommit=ie(um.bind(null,e,n,h,o,s,d,S,_,C,V,O,null,L,H)),Bn(e,h,S,!k);return}}um(e,n,h,o,s,d,S,_,C)}function Oy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!_t(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n,o,s){n&=~Hr,n&=~hi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-Et(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&cc(e,o,n)}function fa(){return(Re&6)===0?(Ql(0),!1):!0}function Br(){if(Ee!==null){if(De===0)var e=Ee.return;else e=Ee,rn=oi=null,lr(e),qi=null,Il=0,e=Ee;for(;e!==null;)Dd(e.alternate,e),e=e.return;Ee=null}}function Qi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,uv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),xn=0,Br(),qe=e,Ee=o=an(e.current,null),Ae=n,De=0,Nt=null,Gn=!1,Ji=hl(e,n),zr=!1,Ki=wt=Hr=hi=qn=Fe=0,yt=Kl=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Et(s),h=1<<d;n|=e[d],s&=~h}return vn=n,Do(),o}function nm(e,n){Se=null,b.H=ql,n===Gi||n===Vo?(n=vf(),De=3):n===Js?(n=vf(),De=4):De=n===Sr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nt=n,Ee===null&&(Fe=1,ea(e,kt(n,e.current)))}function im(){var e=Ct.current;return e===null?!0:(Ae&4194048)===Ae?Ht===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Ht:!1}function lm(){var e=b.H;return b.H=ql,e===null?ql:e}function om(){var e=b.A;return b.A=Py,e}function da(){Fe=4,Gn||(Ae&4194048)!==Ae&&Ct.current!==null||(Ji=!0),(qn&134217727)===0&&(hi&134217727)===0||qe===null||Bn(qe,Ae,wt,!1)}function Or(e,n,o){var s=Re;Re|=2;var d=lm(),h=om();(qe!==e||Ae!==n)&&(ca=null,Qi(e,n)),n=!1;var S=Fe;e:do try{if(De!==0&&Ee!==null){var _=Ee,C=Nt;switch(De){case 8:Br(),S=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var k=De;if(De=0,Nt=null,Zi(e,_,C,k),o&&Ji){S=0;break e}break;default:k=De,De=0,Nt=null,Zi(e,_,C,k)}}Fy(),S=Fe;break}catch(V){nm(e,V)}while(!0);return n&&e.shellSuspendCounter++,rn=oi=null,Re=s,b.H=d,b.A=h,Ee===null&&(qe=null,Ae=0,Do()),S}function Fy(){for(;Ee!==null;)am(Ee)}function Yy(e,n){var o=Re;Re|=2;var s=lm(),d=om();qe!==e||Ae!==n?(ca=null,ua=St()+500,Qi(e,n)):Ji=hl(e,n);e:do try{if(De!==0&&Ee!==null){n=Ee;var h=Nt;t:switch(De){case 1:De=0,Nt=null,Zi(e,n,h,1);break;case 2:case 9:if(gf(h)){De=0,Nt=null,sm(n);break}n=function(){De!==2&&De!==9||qe!==e||(De=7),jt(e)},h.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:gf(h)?(De=0,Nt=null,sm(n)):(De=0,Nt=null,Zi(e,n,h,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var _=Ee;if(S?Jm(S):_.stateNode.complete){De=0,Nt=null;var C=_.sibling;if(C!==null)Ee=C;else{var k=_.return;k!==null?(Ee=k,ma(k)):Ee=null}break t}}De=0,Nt=null,Zi(e,n,h,5);break;case 6:De=0,Nt=null,Zi(e,n,h,6);break;case 8:Br(),Fe=6;break e;default:throw Error(a(462))}}Jy();break}catch(V){nm(e,V)}while(!0);return rn=oi=null,b.H=s,b.A=d,Re=o,Ee!==null?0:(qe=null,Ae=0,Do(),Fe)}function Jy(){for(;Ee!==null&&!p0();)am(Ee)}function am(e){var n=Rd(e.alternate,e,vn);e.memoizedProps=e.pendingProps,n===null?ma(e):Ee=n}function sm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Ad(o,n,n.pendingProps,n.type,void 0,Ae);break;case 11:n=Ad(o,n,n.pendingProps,n.type.render,n.ref,Ae);break;case 5:lr(n);default:Dd(o,n),n=Ee=of(n,vn),n=Rd(o,n,vn)}e.memoizedProps=e.pendingProps,n===null?ma(e):Ee=n}function Zi(e,n,o,s){rn=oi=null,lr(n),qi=null,Il=0;var d=n.return;try{if(Uy(e,d,n,o,Ae)){Fe=1,ea(e,kt(o,e.current)),Ee=null;return}}catch(h){if(d!==null)throw Ee=d,h;Fe=1,ea(e,kt(o,e.current)),Ee=null;return}n.flags&32768?(be||s===1?e=!0:Ji||(Ae&536870912)!==0?e=!1:(Gn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),rm(n,e)):ma(n)}function ma(e){var n=e;do{if((n.flags&32768)!==0){rm(n,Gn);return}e=n.return;var o=Hy(n.alternate,n,vn);if(o!==null){Ee=o;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);Fe===0&&(Fe=5)}function rm(e,n){do{var o=Gy(e.alternate,e);if(o!==null){o.flags&=32767,Ee=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=o}while(e!==null);Fe=6,Ee=null}function um(e,n,o,s,d,h,S,_,C){e.cancelPendingCommit=null;do ha();while($e!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Is,C0(e,o,h,S,_,C),e===qe&&(Ee=qe=null,Ae=0),Xi=n,Pn=e,xn=o,qr=h,Vr=d,jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zy(go,function(){return hm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=b.T,b.T=null,d=G.p,G.p=2,S=Re,Re|=4;try{qy(e,n,o)}finally{Re=S,G.p=d,b.T=s}}$e=1,cm(),fm(),dm()}}function cm(){if($e===1){$e=0;var e=Pn,n=Xi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=b.T,b.T=null;var s=G.p;G.p=2;var d=Re;Re|=4;try{Fd(n,e);var h=tu,S=Qc(e.containerInfo),_=h.focusedElem,C=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&Xc(_.ownerDocument.documentElement,_)){if(C!==null&&bs(_)){var k=C.start,V=C.end;if(V===void 0&&(V=k),"selectionStart"in _)_.selectionStart=k,_.selectionEnd=Math.min(V,_.value.length);else{var O=_.ownerDocument||document,L=O&&O.defaultView||window;if(L.getSelection){var H=L.getSelection(),ie=_.textContent.length,ce=Math.min(C.start,ie),ze=C.end===void 0?ce:Math.min(C.end,ie);!H.extend&&ce>ze&&(S=ze,ze=ce,ce=S);var R=Kc(_,ce),w=Kc(_,ze);if(R&&w&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==w.node||H.focusOffset!==w.offset)){var D=O.createRange();D.setStart(R.node,R.offset),H.removeAllRanges(),ce>ze?(H.addRange(D),H.extend(w.node,w.offset)):(D.setEnd(w.node,w.offset),H.addRange(D))}}}}for(O=[],H=_;H=H.parentNode;)H.nodeType===1&&O.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var P=O[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ba=!!eu,tu=eu=null}finally{Re=d,G.p=s,b.T=o}}e.current=n,$e=2}}function fm(){if($e===2){$e=0;var e=Pn,n=Xi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=b.T,b.T=null;var s=G.p;G.p=2;var d=Re;Re|=4;try{qd(e,n.alternate,n)}finally{Re=d,G.p=s,b.T=o}}$e=3}}function dm(){if($e===4||$e===3){$e=0,g0();var e=Pn,n=Xi,o=xn,s=jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Xi=Pn=null,mm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Vn=null),ss(o),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ml,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=b.T,d=G.p,G.p=2,b.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{b.T=n,G.p=d}}(xn&3)!==0&&ha(),jt(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Pr?Xl++:(Xl=0,Pr=e):Xl=0,Ql(0)}}function mm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function ha(){return cm(),fm(),dm(),hm()}function hm(){if($e!==5)return!1;var e=Pn,n=qr;qr=0;var o=ss(xn),s=b.T,d=G.p;try{G.p=32>o?32:o,b.T=null,o=Vr,Vr=null;var h=Pn,S=xn;if($e=0,Xi=Pn=null,xn=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,Qd(h.current),Jd(h,h.current,S,o),Re=_,Ql(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ml,h)}catch{}return!0}finally{G.p=d,b.T=s,mm(e,n)}}function pm(e,n,o){n=kt(o,n),n=xr(e.stateNode,n,2),e=Un(e,n,2),e!==null&&(pl(e,2),jt(e))}function ke(e,n,o){if(e.tag===3)pm(e,e,o);else for(;n!==null;){if(n.tag===3){pm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vn===null||!Vn.has(s))){e=kt(o,e),o=gd(2),s=Un(n,o,2),s!==null&&(yd(o,s,n,e),pl(s,2),jt(s));break}}n=n.return}}function Fr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new By;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(zr=!0,d.add(o),e=Ky.bind(null,e,n,o),n.then(e,e))}function Ky(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,qe===e&&(Ae&o)===o&&(Fe===4||Fe===3&&(Ae&62914560)===Ae&&300>St()-ra?(Re&2)===0&&Qi(e,0):Hr|=o,Ki===Ae&&(Ki=0)),jt(e)}function gm(e,n){n===0&&(n=uc()),e=ni(e,n),e!==null&&(pl(e,n),jt(e))}function Xy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),gm(e,o)}function Qy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),gm(e,o)}function Zy(e,n){return is(e,n)}var pa=null,$i=null,Yr=!1,ga=!1,Jr=!1,On=0;function jt(e){e!==$i&&e.next===null&&($i===null?pa=$i=e:$i=$i.next=e),ga=!0,Yr||(Yr=!0,jy())}function Ql(e,n){if(!Jr&&ga){Jr=!0;do for(var o=!1,s=pa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-Et(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Sm(s,h))}else h=Ae,h=So(s,s===qe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||hl(s,h)||(o=!0,Sm(s,h));s=s.next}while(o);Jr=!1}}function $y(){ym()}function ym(){ga=Yr=!1;var e=0;On!==0&&rv()&&(e=On);for(var n=St(),o=null,s=pa;s!==null;){var d=s.next,h=vm(s,n);h===0?(s.next=null,o===null?pa=d:o.next=d,d===null&&($i=o)):(o=s,(e!==0||(h&3)!==0)&&(ga=!0)),s=d}$e!==0&&$e!==5||Ql(e),On!==0&&(On=0)}function vm(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Et(h),_=1<<S,C=d[S];C===-1?((_&o)===0||(_&s)!==0)&&(d[S]=A0(_,n)):C<=n&&(e.expiredLanes|=_),h&=~_}if(n=qe,o=Ae,o=So(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ls(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||hl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&ls(s),ss(o)){case 2:case 8:o=sc;break;case 32:o=go;break;case 268435456:o=rc;break;default:o=go}return s=xm.bind(null,e),o=is(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&ls(s),e.callbackPriority=2,e.callbackNode=null,2}function xm(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ha()&&e.callbackNode!==o)return null;var s=Ae;return s=So(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(em(e,s,n),vm(e,St()),e.callbackNode!=null&&e.callbackNode===o?xm.bind(null,e):null)}function Sm(e,n){if(ha())return null;em(e,n,!0)}function jy(){cv(function(){(Re&6)!==0?is(ac,$y):ym()})}function Kr(){if(On===0){var e=zi;e===0&&(e=yo,yo<<=1,(yo&261888)===0&&(yo=256)),On=e}return On}function Tm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ao(""+e)}function Em(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Wy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=Tm((d[dt]||null).action),S=s.submitter;S&&(n=(n=S[dt]||null)?Tm(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new wo("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(On!==0){var C=S?Em(d,S):new FormData(d);mr(o,{pending:!0,data:C,method:d.method,action:h},null,C)}}else typeof h=="function"&&(_.preventDefault(),C=S?Em(d,S):new FormData(d),mr(o,{pending:!0,data:C,method:d.method,action:h},h,C))},currentTarget:d}]})}}for(var Xr=0;Xr<Rs.length;Xr++){var Qr=Rs[Xr],ev=Qr.toLowerCase(),tv=Qr[0].toUpperCase()+Qr.slice(1);Ot(ev,"on"+tv)}Ot(jc,"onAnimationEnd"),Ot(Wc,"onAnimationIteration"),Ot(ef,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(yy,"onTransitionRun"),Ot(vy,"onTransitionStart"),Ot(xy,"onTransitionCancel"),Ot(tf,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function _m(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],C=_.instance,k=_.currentTarget;if(_=_.listener,C!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=k;try{h(d)}catch(V){Io(V)}d.currentTarget=null,h=C}else for(S=0;S<s.length;S++){if(_=s[S],C=_.instance,k=_.currentTarget,_=_.listener,C!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=k;try{h(d)}catch(V){Io(V)}d.currentTarget=null,h=C}}}}function _e(e,n){var o=n[rs];o===void 0&&(o=n[rs]=new Set);var s=e+"__bubble";o.has(s)||(Am(n,e,2,!1),o.add(s))}function Zr(e,n,o){var s=0;n&&(s|=4),Am(o,e,s,n)}var ya="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[ya]){e[ya]=!0,gc.forEach(function(o){o!=="selectionchange"&&(nv.has(o)||Zr(o,!1,e),Zr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ya]||(n[ya]=!0,Zr("selectionchange",!1,n))}}function Am(e,n,o,s){switch(Wm(n)){case 2:var d=Rv;break;case 8:d=Iv;break;default:d=du}o=d.bind(null,n,o,e),d=void 0,!ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function jr(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=xi(_),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=h=S;continue e}_=_.parentNode}}s=s.return}wc(function(){var k=h,V=ps(o),O=[];e:{var L=nf.get(e);if(L!==void 0){var H=wo,ie=e;switch(e){case"keypress":if(bo(o)===0)break e;case"keydown":case"keyup":H=Q0;break;case"focusin":ie="focus",H=Ts;break;case"focusout":ie="blur",H=Ts;break;case"beforeblur":case"afterblur":H=Ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=j0;break;case jc:case Wc:case ef:H=V0;break;case tf:H=ey;break;case"scroll":case"scrollend":H=L0;break;case"wheel":H=ny;break;case"copy":case"cut":case"paste":H=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=kc;break;case"toggle":case"beforetoggle":H=ly}var ce=(n&4)!==0,ze=!ce&&(e==="scroll"||e==="scrollend"),R=ce?L!==null?L+"Capture":null:L;ce=[];for(var w=k,D;w!==null;){var P=w;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||R===null||(P=vl(w,R),P!=null&&ce.push($l(w,P,D))),ze)break;w=w.return}0<ce.length&&(L=new H(L,ie,null,o,V),O.push({event:L,listeners:ce}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&o!==hs&&(ie=o.relatedTarget||o.fromElement)&&(xi(ie)||ie[vi]))break e;if((H||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,H?(ie=o.relatedTarget||o.toElement,H=k,ie=ie?xi(ie):null,ie!==null&&(ze=f(ie),ce=ie.tag,ie!==ze||ce!==5&&ce!==27&&ce!==6)&&(ie=null)):(H=null,ie=k),H!==ie)){if(ce=Ic,P="onMouseLeave",R="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ce=kc,P="onPointerLeave",R="onPointerEnter",w="pointer"),ze=H==null?L:yl(H),D=ie==null?L:yl(ie),L=new ce(P,w+"leave",H,o,V),L.target=ze,L.relatedTarget=D,P=null,xi(V)===k&&(ce=new ce(R,w+"enter",ie,o,V),ce.target=D,ce.relatedTarget=ze,P=ce),ze=P,H&&ie)t:{for(ce=iv,R=H,w=ie,D=0,P=R;P;P=ce(P))D++;P=0;for(var ue=w;ue;ue=ce(ue))P++;for(;0<D-P;)R=ce(R),D--;for(;0<P-D;)w=ce(w),P--;for(;D--;){if(R===w||w!==null&&R===w.alternate){ce=R;break t}R=ce(R),w=ce(w)}ce=null}else ce=null;H!==null&&Cm(O,L,H,ce,!1),ie!==null&&ze!==null&&Cm(O,ze,ie,ce,!0)}}e:{if(L=k?yl(k):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Ne=Pc;else if(qc(L))if(Bc)Ne=hy;else{Ne=dy;var oe=fy}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?k&&ms(k.elementType)&&(Ne=Pc):Ne=my;if(Ne&&(Ne=Ne(e,k))){Vc(O,Ne,o,V);break e}oe&&oe(e,L,k),e==="focusout"&&k&&L.type==="number"&&k.memoizedProps.value!=null&&ds(L,"number",L.value)}switch(oe=k?yl(k):window,e){case"focusin":(qc(oe)||oe.contentEditable==="true")&&(wi=oe,Ns=k,bl=null);break;case"focusout":bl=Ns=wi=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,Zc(O,o,V);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":Zc(O,o,V)}var Te;if(_s)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ni?Hc(e,o)&&(Ce="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(Uc&&o.locale!=="ko"&&(Ni||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ni&&(Te=Mc()):(Nn=V,vs="value"in Nn?Nn.value:Nn.textContent,Ni=!0)),oe=va(k,Ce),0<oe.length&&(Ce=new Dc(Ce,e,null,o,V),O.push({event:Ce,listeners:oe}),Te?Ce.data=Te:(Te=Gc(o),Te!==null&&(Ce.data=Te)))),(Te=ay?sy(e,o):ry(e,o))&&(Ce=va(k,"onBeforeInput"),0<Ce.length&&(oe=new Dc("onBeforeInput","beforeinput",null,o,V),O.push({event:oe,listeners:Ce}),oe.data=Te)),Wy(O,e,k,o,V)}_m(O,n)})}function $l(e,n,o){return{instance:e,listener:n,currentTarget:o}}function va(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=vl(e,o),d!=null&&s.unshift($l(e,d,h)),d=vl(e,n),d!=null&&s.push($l(e,d,h))),e.tag===3)return s;e=e.return}return[]}function iv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cm(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var _=o,C=_.alternate,k=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||k===null||(C=k,d?(k=vl(o,h),k!=null&&S.unshift($l(o,k,C))):d||(k=vl(o,h),k!=null&&S.push($l(o,k,C)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var lv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(ov,"")}function Nm(e,n){return n=bm(n),bm(e)===n}function Le(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ai(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ai(e,""+s);break;case"className":Eo(e,"class",s);break;case"tabIndex":Eo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(e,o,s);break;case"style":bc(e,s,h);break;case"data":if(n!=="object"){Eo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ao(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&Le(e,n,"name",d.name,d,null),Le(e,n,"formEncType",d.formEncType,d,null),Le(e,n,"formMethod",d.formMethod,d,null),Le(e,n,"formTarget",d.formTarget,d,null)):(Le(e,n,"encType",d.encType,d,null),Le(e,n,"method",d.method,d,null),Le(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ao(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=ln);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Ao(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),To(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":To(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=k0.get(o)||o,To(e,o,s))}}function Wr(e,n,o,s,d,h){switch(o){case"style":bc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Ai(e,s):(typeof s=="number"||typeof s=="bigint")&&Ai(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[dt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):To(e,o,s)}}}function at(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,h,S,o,null)}}d&&Le(e,n,"srcSet",o.srcSet,o,null),s&&Le(e,n,"src",o.src,o,null);return;case"input":_e("invalid",e);var _=h=S=d=null,C=null,k=null;for(s in o)if(o.hasOwnProperty(s)){var V=o[s];if(V!=null)switch(s){case"name":d=V;break;case"type":S=V;break;case"checked":C=V;break;case"defaultChecked":k=V;break;case"value":h=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Le(e,n,s,V,o,null)}}Ec(e,h,_,C,k,S,d,!1);return;case"select":_e("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Le(e,n,d,_,o,null)}n=h,o=S,e.multiple=!!s,n!=null?_i(e,!!s,n,!1):o!=null&&_i(e,!!s,o,!0);return;case"textarea":_e("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Le(e,n,S,_,o,null)}Ac(e,s,d,h);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,C,s,o,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Zl.length;s++)_e(Zl[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in o)if(o.hasOwnProperty(k)&&(s=o[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,k,s,o,null)}return;default:if(ms(n)){for(V in o)o.hasOwnProperty(V)&&(s=o[V],s!==void 0&&Wr(e,n,V,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Le(e,n,_,s,o,null))}function av(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,C=null,k=null,V=null;for(H in o){var O=o[H];if(o.hasOwnProperty(H)&&O!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=O;default:s.hasOwnProperty(H)||Le(e,n,H,null,s,O)}}for(var L in s){var H=s[L];if(O=o[L],s.hasOwnProperty(L)&&(H!=null||O!=null))switch(L){case"type":h=H;break;case"name":d=H;break;case"checked":k=H;break;case"defaultChecked":V=H;break;case"value":S=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==O&&Le(e,n,L,H,s,O)}}fs(e,S,_,C,k,V,h,d);return;case"select":H=S=_=L=null;for(h in o)if(C=o[h],o.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":H=C;default:s.hasOwnProperty(h)||Le(e,n,h,null,s,C)}for(d in s)if(h=s[d],C=o[d],s.hasOwnProperty(d)&&(h!=null||C!=null))switch(d){case"value":L=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==C&&Le(e,n,d,h,s,C)}n=_,o=S,s=H,L!=null?_i(e,!!o,L,!1):!!s!=!!o&&(n!=null?_i(e,!!o,n,!0):_i(e,!!o,o?[]:"",!1));return;case"textarea":H=L=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":L=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Le(e,n,S,d,s,h)}_c(e,L,H);return;case"option":for(var ie in o)if(L=o[ie],o.hasOwnProperty(ie)&&L!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Le(e,n,ie,null,s,L)}for(C in s)if(L=s[C],H=o[C],s.hasOwnProperty(C)&&L!==H&&(L!=null||H!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Le(e,n,C,L,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)L=o[ce],o.hasOwnProperty(ce)&&L!=null&&!s.hasOwnProperty(ce)&&Le(e,n,ce,null,s,L);for(k in s)if(L=s[k],H=o[k],s.hasOwnProperty(k)&&L!==H&&(L!=null||H!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Le(e,n,k,L,s,H)}return;default:if(ms(n)){for(var ze in o)L=o[ze],o.hasOwnProperty(ze)&&L!==void 0&&!s.hasOwnProperty(ze)&&Wr(e,n,ze,void 0,s,L);for(V in s)L=s[V],H=o[V],!s.hasOwnProperty(V)||L===H||L===void 0&&H===void 0||Wr(e,n,V,L,s,H);return}}for(var R in o)L=o[R],o.hasOwnProperty(R)&&L!=null&&!s.hasOwnProperty(R)&&Le(e,n,R,null,s,L);for(O in s)L=s[O],H=o[O],!s.hasOwnProperty(O)||L===H||L==null&&H==null||Le(e,n,O,L,s,H)}function wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&wm(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var C=o[s],k=C.startTime;if(k>_)break;var V=C.transferSize,O=C.initiatorType;V&&wm(O)&&(C=C.responseEnd,S+=V*(C<_?1:(_-k)/(C-k)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function xa(e){return e.nodeType===9?e:e.ownerDocument}function Mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var iu=null;function rv(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var Im=typeof setTimeout=="function"?setTimeout:void 0,uv=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(fv)}:Im;function fv(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function km(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),tl(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")jl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,jl(o);for(var h=o.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[gl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&jl(e.ownerDocument.body);o=d}while(o);tl(n)}function Um(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lu(o),us(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function dv(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[gl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function mv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Gt(e.nextSibling),e===null))return null;return e}function Lm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function ou(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var su=null;function zm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Gt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Hm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Gm(e,n,o){switch(n=xa(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);us(e)}var qt=new Map,qm=new Set;function Sa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=G.d;G.d={f:pv,r:gv,D:yv,C:vv,L:xv,m:Sv,X:Ev,S:Tv,M:_v};function pv(){var e=Sn.f(),n=fa();return e||n}function gv(e){var n=Si(e);n!==null&&n.tag===5&&n.type==="form"?nd(n):Sn.r(e)}var ji=typeof document>"u"?null:document;function Vm(e,n,o){var s=ji;if(s&&typeof n=="string"&&n){var d=It(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),qm.has(d)||(qm.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function yv(e){Sn.D(e),Vm("dns-prefetch",e,null)}function vv(e,n){Sn.C(e,n),Vm("preconnect",e,n)}function xv(e,n,o){Sn.L(e,n,o);var s=ji;if(s&&e&&n){var d='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+It(o.imageSizes)+'"]')):d+='[href="'+It(e)+'"]';var h=d;switch(n){case"style":h=Wi(e);break;case"script":h=el(e)}qt.has(h)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),qt.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Wl(h))||n==="script"&&s.querySelector(eo(h))||(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function Sv(e,n){Sn.m(e,n);var o=ji;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=el(e)}if(!qt.has(h)&&(e=T({rel:"modulepreload",href:e},n),qt.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eo(h)))return}s=o.createElement("link"),at(s,"link",e),We(s),o.head.appendChild(s)}}}function Tv(e,n,o){Sn.S(e,n,o);var s=ji;if(s&&e){var d=Ti(s).hoistableStyles,h=Wi(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Wl(h)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=qt.get(h))&&ru(e,o);var C=S=s.createElement("link");We(C),at(C,"link",e),C._p=new Promise(function(k,V){C.onload=k,C.onerror=V}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ta(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function Ev(e,n){Sn.X(e,n);var o=ji;if(o&&e){var s=Ti(o).hoistableScripts,d=el(e),h=s.get(d);h||(h=o.querySelector(eo(d)),h||(e=T({src:e,async:!0},n),(n=qt.get(d))&&uu(e,n),h=o.createElement("script"),We(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function _v(e,n){Sn.M(e,n);var o=ji;if(o&&e){var s=Ti(o).hoistableScripts,d=el(e),h=s.get(d);h||(h=o.querySelector(eo(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&uu(e,n),h=o.createElement("script"),We(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Pm(e,n,o,s){var d=(d=X.current)?Sa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Wi(o.href),o=Ti(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Wi(o.href);var h=Ti(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(Wl(e)))&&!h._p&&(S.instance=h,S.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),h||Av(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(o),o=Ti(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wi(e){return'href="'+It(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Av(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),at(n,"link",o),We(n),e.head.appendChild(n))}function el(e){return'[src="'+It(e)+'"]'}function eo(e){return"script[async]"+e}function Om(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+It(o.href)+'"]');if(s)return n.instance=s,We(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),at(s,"style",d),Ta(s,o.precedence,e),n.instance=s;case"stylesheet":d=Wi(o.href);var h=e.querySelector(Wl(d));if(h)return n.state.loading|=4,n.instance=h,We(h),h;s=Bm(o),(d=qt.get(d))&&ru(s,d),h=(e.ownerDocument||e).createElement("link"),We(h);var S=h;return S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),at(h,"link",s),n.state.loading|=4,Ta(h,o.precedence,e),n.instance=h;case"script":return h=el(o.src),(d=e.querySelector(eo(h)))?(n.instance=d,We(d),d):(s=o,(d=qt.get(h))&&(s=T({},o),uu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),We(d),at(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ta(s,o.precedence,e));return n.instance}function Ta(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ea=null;function Fm(e,n,o){if(Ea===null){var s=new Map,d=Ea=new Map;d.set(o,s)}else d=Ea,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[gl]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Ym(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Cv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bv(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Wi(s.href),h=n.querySelector(Wl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_a.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,We(h);return}h=n.ownerDocument||n,s=Bm(s),(d=qt.get(d))&&ru(s,d),h=h.createElement("link"),We(h);var S=h;S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),at(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=_a.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var cu=0;function Nv(e,n){return e.stylesheets&&e.count===0&&Ca(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&cu===0&&(cu=62500*sv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>cu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function _a(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ca(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Aa=null;function Ca(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Aa=new Map,n.forEach(wv,e),Aa=null,_a.call(e))}function wv(e,n){if(!(n.state.loading&4)){var o=Aa.get(e);if(o)var s=o.get(null);else{o=new Map,Aa.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=_a.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var to={$$typeof:F,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Mv(e,n,o,s,d,h,S,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Km(e,n,o,s,d,h,S,_,C,k,V,O){return e=new Mv(e,n,o,S,C,k,V,O,_),n=1,h===!0&&(n|=24),h=At(3,null,null,n),e.current=h,h.stateNode=e,n=Os(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},Ks(h),e}function Xm(e){return e?(e=Ii,e):Ii}function Qm(e,n,o,s,d,h){d=Xm(d),s.context===null?s.context=d:s.pendingContext=d,s=kn(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=Un(e,s,n),o!==null&&(vt(o,e,n),kl(o,e,n))}function Zm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function fu(e,n){Zm(e,n),(e=e.alternate)&&Zm(e,n)}function $m(e){if(e.tag===13||e.tag===31){var n=ni(e,67108864);n!==null&&vt(n,e,67108864),fu(e,67108864)}}function jm(e){if(e.tag===13||e.tag===31){var n=Mt();n=as(n);var o=ni(e,n);o!==null&&vt(o,e,n),fu(e,n)}}var ba=!0;function Rv(e,n,o,s){var d=b.T;b.T=null;var h=G.p;try{G.p=2,du(e,n,o,s)}finally{G.p=h,b.T=d}}function Iv(e,n,o,s){var d=b.T;b.T=null;var h=G.p;try{G.p=8,du(e,n,o,s)}finally{G.p=h,b.T=d}}function du(e,n,o,s){if(ba){var d=mu(s);if(d===null)jr(e,n,s,Na,o),eh(e,s);else if(kv(d,e,n,o,s))s.stopPropagation();else if(eh(e,s),n&4&&-1<Dv.indexOf(e)){for(;d!==null;){var h=Si(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=$n(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var C=1<<31-Et(S);_.entanglements[1]|=C,S&=~C}jt(h),(Re&6)===0&&(ua=St()+500,Ql(0))}}break;case 31:case 13:_=ni(h,2),_!==null&&vt(_,h,2),fa(),fu(h,2)}if(h=mu(s),h===null&&jr(e,n,s,Na,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else jr(e,n,s,null,o)}}function mu(e){return e=ps(e),hu(e)}var Na=null;function hu(e){if(Na=null,e=xi(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Na=e,null}function Wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y0()){case ac:return 2;case sc:return 8;case go:case v0:return 32;case rc:return 268435456;default:return 32}default:return 32}}var pu=!1,Yn=null,Jn=null,Kn=null,no=new Map,io=new Map,Xn=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eh(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function lo(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Si(n),n!==null&&$m(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function kv(e,n,o,s,d){switch(n){case"focusin":return Yn=lo(Yn,e,n,o,s,d),!0;case"dragenter":return Jn=lo(Jn,e,n,o,s,d),!0;case"mouseover":return Kn=lo(Kn,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return no.set(h,lo(no.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,io.set(h,lo(io.get(h)||null,e,n,o,s,d)),!0}return!1}function th(e){var n=xi(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,hc(e.priority,function(){jm(o)});return}}else if(n===31){if(n=p(o),n!==null){e.blockedOn=n,hc(e.priority,function(){jm(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=mu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);hs=s,o.target.dispatchEvent(s),hs=null}else return n=Si(o),n!==null&&$m(n),e.blockedOn=o,!1;n.shift()}return!0}function nh(e,n,o){wa(e)&&o.delete(n)}function Uv(){pu=!1,Yn!==null&&wa(Yn)&&(Yn=null),Jn!==null&&wa(Jn)&&(Jn=null),Kn!==null&&wa(Kn)&&(Kn=null),no.forEach(nh),io.forEach(nh)}function Ma(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Uv)))}var Ra=null;function ih(e){Ra!==e&&(Ra=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ra===e&&(Ra=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(hu(s||o)===null)continue;break}var h=Si(o);h!==null&&(e.splice(n,3),n-=3,mr(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function tl(e){function n(C){return Ma(C,e)}Yn!==null&&Ma(Yn,e),Jn!==null&&Ma(Jn,e),Kn!==null&&Ma(Kn,e),no.forEach(n),io.forEach(n);for(var o=0;o<Xn.length;o++){var s=Xn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xn.length&&(o=Xn[0],o.blockedOn===null);)th(o),o.blockedOn===null&&Xn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[dt]||null;if(typeof h=="function")S||ih(o);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[dt]||null)_=S.formAction;else if(hu(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),ih(o)}}}function lh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function gu(e){this._internalRoot=e}Ia.prototype.render=gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Mt();Qm(o,s,e,n,null,null)},Ia.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qm(e.current,2,null,e,null,null),fa(),n[vi]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=mc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Xn.length&&n!==0&&n<Xn[o].priority;o++);Xn.splice(o,0,e),o===0&&th(e)}};var oh=t.version;if(oh!=="19.2.3")throw Error(a(527,oh,"19.2.3"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Lv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{ml=Da.inject(Lv),Tt=Da}catch{}}return ao.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=dd,h=md,S=hd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Km(e,1,!1,null,null,o,s,null,d,h,S,lh),e[vi]=n.current,$r(e),new gu(n)},ao.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=dd,S=md,_=hd,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=Km(e,1,!0,n,o??null,s,d,C,h,S,_,lh),n.context=Xm(null),o=n.current,s=Mt(),s=as(s),d=kn(s),d.callback=null,Un(o,d,s),o=s,n.current.lanes=o,pl(n,o),jt(n),e[vi]=n.current,$r(e),new Ia(n)},ao.version="19.2.3",ao}var ph;function Jv(){if(ph)return xu.exports;ph=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xu.exports=Yv(),xu.exports}var Kv=Jv();const Xv=ng(Kv);var He=(i=>(i.Home="home",i.Quran="quran",i.Tasbih="tasbih",i.Calendar="calendar",i.Adhan="adhan",i.Dua="dua",i.Explore="explore",i.Qiblah="qiblah",i.Settings="settings",i))(He||{});const Qv="NoorOfflineDB",gh=2;class Zv{constructor(){this.db=null}async init(){return new Promise((t,l)=>{try{const a=indexedDB.open(Qv,gh);a.onupgradeneeded=r=>{const f=r.target.result;console.log("Upgrading IndexedDB to version",gh),f.objectStoreNames.contains("surahs")||f.createObjectStore("surahs",{keyPath:"number"}),f.objectStoreNames.contains("ayahs")||f.createObjectStore("ayahs",{keyPath:"id"}),f.objectStoreNames.contains("prayerTimes")||f.createObjectStore("prayerTimes",{keyPath:"date"}),f.objectStoreNames.contains("adhanAudios")||f.createObjectStore("adhanAudios",{keyPath:"id"})},a.onsuccess=r=>{this.db=r.target.result,console.log("IndexedDB initialized successfully"),t()},a.onerror=r=>{console.error("IndexedDB initialization error:",r),l("Failed to open IndexedDB. This might happen in private browsing mode.")}}catch(a){console.error("IndexedDB catch-all error:",a),l("IndexedDB is not supported in this browser environment.")}})}async saveAdhanAudio(t,l){if(!this.db)throw new Error("Database not initialized");return new Promise((a,r)=>{const p=this.db.transaction("adhanAudios","readwrite").objectStore("adhanAudios").put({id:t,audioBlob:l});p.onsuccess=()=>a(),p.onerror=()=>r(p.error)})}async getAdhanAudio(t){return this.db?new Promise(l=>{const f=this.db.transaction("adhanAudios","readonly").objectStore("adhanAudios").get(t);f.onsuccess=()=>{var m;return l(((m=f.result)==null?void 0:m.audioBlob)||null)},f.onerror=()=>l(null)}):null}async deleteAdhanAudio(t){if(this.db)return new Promise(l=>{const f=this.db.transaction("adhanAudios","readwrite").objectStore("adhanAudios").delete(t);f.onsuccess=()=>l(),f.onerror=()=>l()})}async getAllDownloadedAdhanIds(){return this.db?new Promise(t=>{const r=this.db.transaction("adhanAudios","readonly").objectStore("adhanAudios").getAllKeys();r.onsuccess=()=>t(r.result),r.onerror=()=>t([])}):[]}async saveSurahs(t){if(!this.db)return;const l=this.db.transaction("surahs","readwrite"),a=l.objectStore("surahs");return t.forEach(r=>a.put(r)),new Promise(r=>l.oncomplete=()=>r())}async getSurahs(){if(!this.db)return[];const a=this.db.transaction("surahs","readonly").objectStore("surahs").getAll();return new Promise(r=>a.onsuccess=()=>r(a.result))}async saveSurahContent(t,l){if(!this.db)return;const a=this.db.transaction(["ayahs","surahs"],"readwrite"),r=a.objectStore("ayahs"),f=a.objectStore("surahs");l.forEach(p=>r.put({...p,id:`${t}_${p.numberInSurah}`,surahNumber:t}));const m=f.get(t);return m.onsuccess=()=>{m.result&&f.put({...m.result,isDownloaded:!0})},new Promise(p=>a.oncomplete=()=>p())}async getSurahContent(t){if(!this.db)return[];const r=this.db.transaction("ayahs","readonly").objectStore("ayahs").getAll();return new Promise(f=>r.onsuccess=()=>{const m=r.result.filter(p=>p.surahNumber===t);f(m)})}async removeSurahContent(t){if(!this.db)return;const l=this.db.transaction(["ayahs","surahs"],"readwrite"),a=l.objectStore("ayahs"),r=l.objectStore("surahs"),f=a.getAll();f.onsuccess=()=>{f.result.forEach(p=>{p.surahNumber===t&&a.delete(p.id)})};const m=r.get(t);return m.onsuccess=()=>{m.result&&r.put({...m.result,isDownloaded:!1})},new Promise(p=>l.oncomplete=()=>p())}async saveMonthlyPrayer(t,l){if(!this.db)return;this.db.transaction("prayerTimes","readwrite").objectStore("prayerTimes").put({date:t,times:l})}async getPrayerTimes(t){if(!this.db)return null;const a=this.db.transaction("prayerTimes","readonly").objectStore("prayerTimes").get(t);return new Promise(r=>a.onsuccess=()=>{var f;return r(((f=a.result)==null?void 0:f.times)||null)})}}const Wt=new Zv;var $v={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jv,Wv;function ex(){return{geminiUrl:jv,vertexUrl:Wv}}function tx(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const m=ex();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(f=m.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{}function ne(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const m=t[f];if(m.endsWith("[]")){const p=m.slice(0,-2);if(!(p in i))if(Array.isArray(l))i[p]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(l))for(let g=0;g<y.length;g++){const x=y[g];c(x,t.slice(f+1),l[g])}else for(const g of y)c(g,t.slice(f+1),l)}return}else if(m.endsWith("[0]")){const p=m.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];c(y[0],t.slice(f+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(p=>u(p,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function nx(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),m=new Set;let p=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){p=y;break}if(p!==-1&&f.length>p)for(let y=p;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}bu(i,r,f,0,m)}}function bu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const m=f.slice(0,-2),p=i;if(m in p&&Array.isArray(p[m]))for(const y of p[m])bu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,p=Object.keys(m).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of p)y[g]=m[g];for(const[g,x]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(g):T.push(E);c(m,T,x)}for(const g of p)delete m[g]}}else{const m=i;f in m&&bu(m[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function lx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],ax(m)),t}function ox(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],sx(m)),t}function ax(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>rx(m))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function sx(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>ux(m))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function rx(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],px(l)),t}function ux(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],gx(l)),t}function cx(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function fx(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function dx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],mx(m)),t}function mx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ig(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],hx(m)),t}function hx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function px(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function gx(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yh||(yh={}));var vh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(vh||(vh={}));var xh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(xh||(xh={}));var xt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(xt||(xt={}));var Sh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Sh||(Sh={}));var Th;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Th||(Th={}));var Eh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Eh||(Eh={}));var _h;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_h||(_h={}));var Ah;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ah||(Ah={}));var Ch;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Ch||(Ch={}));var bh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bh||(bh={}));var Nh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Nh||(Nh={}));var wh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(wh||(wh={}));var Mh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Mh||(Mh={}));var Rh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Rh||(Rh={}));var Ih;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ih||(Ih={}));var Dh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dh||(Dh={}));var kh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(kh||(kh={}));var Uh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Uh||(Uh={}));var Pa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Pa||(Pa={}));var Lh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lh||(Lh={}));var zh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zh||(zh={}));var Hh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var Nu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nu||(Nu={}));var Gh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gh||(Gh={}));var qh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qh||(qh={}));var Vh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Vh||(Vh={}));var Ph;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Ph||(Ph={}));var Bh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Bh||(Bh={}));var Oh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Oh||(Oh={}));var Fh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Fh||(Fh={}));var Yh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Yh||(Yh={}));var Jh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Jh||(Jh={}));var Kh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Kh||(Kh={}));var Xh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xh||(Xh={}));var Qh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qh||(Qh={}));var Zh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zh||(Zh={}));var $h;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($h||($h={}));var jh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(jh||(jh={}));var Wh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Wh||(Wh={}));var ep;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(ep||(ep={}));var tp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(tp||(tp={}));var np;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(np||(np={}));var ip;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ip||(ip={}));var lp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(lp||(lp={}));var op;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(op||(op={}));var ap;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ap||(ap={}));var sp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(sp||(sp={}));var rp;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rp||(rp={}));var up;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(up||(up={}));var cp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cp||(cp={}));var fp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(fp||(fp={}));var dp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dp||(dp={}));var mp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mp||(mp={}));var hp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(hp||(hp={}));var ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ll||(ll={}));class wu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class so{get text(){var t,l,a,r,f,m,p,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const T=[];for(const E of(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&T.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,g+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var t,l,a,r,f,m,p,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const T of(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(T))E!=="inlineData"&&(A!==null||A!==void 0)&&x.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,l,a,r,f,m,p,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,l,a,r,f,m,p,y,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,l,a,r,f,m,p,y,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class pp{}class gp{}class yx{}class vx{}class xx{}class Sx{}class yp{}class vp{}class xp{}class Tx{}class Ba{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ba;let r;const f=t;return l?r=ox(f):r=lx(f),Object.assign(a,r),a}}class Sp{}class Tp{}class Ep{}class _p{}class Ex{}class _x{}class Ax{}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fu,f=dx(t);return Object.assign(a,f),a}}class Cx{}class bx{}class Nx{}class Ap{}class wx{get text(){var t,l,a;let r="",f=!1;const m=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,r+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[p,y]of Object.entries(m))p!=="inlineData"&&y!==null&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Mx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Yu,f=ig(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function lg(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function og(i){return Array.isArray(i)?i.map(t=>Oa(t)):[Oa(i)]}function Oa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ag(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sg(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Cp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function rg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Cp(t)):[Cp(i)]}function Mu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function bp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Np(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function rt(i){if(i==null)throw new Error("ContentUnion is required");return Mu(i)?i:{role:"user",parts:rg(i)}}function Ju(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=rt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=rt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>rt(l)):[rt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(bp(i)||Np(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(i)]}const t=[],l=[],a=Mu(i[0]);for(const r of i){const f=Mu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(bp(r)||Np(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:rg(l)}),t}function Rx(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(xt).includes(l[0].toUpperCase())?l[0].toUpperCase():xt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(xt).includes(a.toUpperCase())?a.toUpperCase():xt.TYPE_UNSPECIFIED})}}function al(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&Rx(i.type,t);for(const[m,p]of Object.entries(i))if(p!=null)if(m=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(xt).includes(p.toUpperCase())?p.toUpperCase():xt.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=al(p);else if(a.includes(m)){const y=[];for(const g of p){if(g.type=="null"){t.nullable=!0;continue}y.push(al(g))}t[m]=y}else if(r.includes(m)){const y={};for(const[g,x]of Object.entries(p))y[g]=al(x);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=p}return t}function Ku(i){return al(i)}function Xu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ul(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=al(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=al(t.response));return i}function cl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function Ix(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function An(i,t){if(typeof t!="string")throw new Error("name must be a string");return Ix(i,t,"cachedContents")}function ug(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Zn(i){return Ou(i)}function Dx(i){return i!=null&&typeof i=="object"&&"name"in i}function kx(i){return i!=null&&typeof i=="object"&&"video"in i}function Ux(i){return i!=null&&typeof i=="object"&&"uri"in i}function cg(i){var t;let l;if(Dx(i)&&(l=i.name),!(Ux(i)&&(l=i.uri,l===void 0))&&!(kx(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function fg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function dg(i){for(const t of["models","tunedModels","publisherModels"])if(Lx(i,t))return i[t];return[]}function Lx(i,t){return i!==null&&typeof i=="object"&&t in i}function zx(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Hx(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const m=zx(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function mg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Gx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function fl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function pg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>xS(m))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["inlinedEmbedContentResponses"],f)}return t}function Vx(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Px(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],pg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const p=u(i,["metadata","updateTime"]);p!=null&&c(t,["updateTime"],p);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&c(t,["dest"],qx(hg(g))),t}function Ru(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],pg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const p=u(i,["startTime"]);p!=null&&c(t,["startTime"],p);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],Bx(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],Vx(hg(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function Bx(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Ox(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>vS(i,m))),c(l,["requests","requests"],f)}return l}function Fx(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Yx(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function Kx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function Xx(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],Qx(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const p=u(i,["groundingMetadata"]);p!=null&&c(t,["groundingMetadata"],p);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function Qx(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function gg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>bS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Zx(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function $x(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Px(Gx(r))),l}function wp(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],Ox(i,mg(i,r)));const f=u(t,["config"]);return f!=null&&Zx(f,l),l}function jx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],Fx(mg(i,r)));const f=u(t,["config"]);return f!=null&&$x(f,l),l}function Wx(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function eS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],sS(i,r));const f=u(t,["config"]);return f!=null&&Wx(f,l),l}function tS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function nS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function iS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function lS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function oS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Ju(i,a);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],aS(r,l)),nx(l,{"requests[].*":"requests[].request.*"})),l}function aS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function sS(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],oS(i,r)),l}function rS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function uS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cS(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function fS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],gg(rt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const p=u(t,["topK"]);p!=null&&c(a,["topK"],p);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const U=u(t,["seed"]);U!=null&&c(a,["seed"],U);const I=u(t,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],Ku(q));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&c(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let he=F;Array.isArray(he)&&(he=he.map(W=>NS(W))),c(l,["safetySettings"],he)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let he=cl(z);Array.isArray(he)&&(he=he.map(W=>MS(ul(W)))),c(l,["tools"],he)}const Q=u(t,["toolConfig"]);if(l!==void 0&&Q!=null&&c(l,["toolConfig"],wS(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],An(i,K));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const te=u(t,["mediaResolution"]);te!=null&&c(a,["mediaResolution"],te);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],Xu(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&c(a,["thinkingConfig"],ae);const me=u(t,["imageConfig"]);me!=null&&c(a,["imageConfig"],yS(me));const xe=u(t,["enableEnhancedCivicAnswers"]);return xe!=null&&c(a,["enableEnhancedCivicAnswers"],xe),a}function dS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>Xx(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const p=u(i,["usageMetadata"]);return p!=null&&c(t,["usageMetadata"],p),t}function mS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function hS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],fl(i,a)),l}function pS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function gS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function yS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function vS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(y=>gg(y))),c(l,["request","contents"],p)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(t,["config"]);return m!=null&&c(l,["request","generationConfig"],fS(i,m,u(l,["request"],{}))),l}function xS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],dS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function SS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function TS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function ES(i){const t={},l=u(i,["config"]);return l!=null&&SS(l,t),t}function _S(i){const t={},l=u(i,["config"]);return l!=null&&TS(l,t),t}function AS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>qa(m))),c(t,["batchJobs"],f)}return t}function CS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Ru(m))),c(t,["batchJobs"],f)}return t}function bS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],rS(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],uS(m));const p=u(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Yx(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function NS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function wS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],cS(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function MS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],pS(p));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],gS(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class gi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=wp(this.apiClient,t),a=l._url,r=ne("{model}:batchGenerateContent",a),p=l.batch.inputConfig.requests,y=p.requests,g=[];for(const x of y){const T=Object.assign({},x);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=E,T.request=A}g.push(T)}return p.requests=g,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),m=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=jx(this.apiClient,t);return p=ne("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Ru(x))}else{const g=wp(this.apiClient,t);return p=ne("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>qa(x))}}async createEmbeddingsInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eS(this.apiClient,t);return f=ne("{model}:asyncBatchEmbedContent",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>qa(y))}}async get(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=hS(this.apiClient,t);return p=ne("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Ru(x))}else{const g=mS(this.apiClient,t);return p=ne("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>qa(x))}}async cancel(t){var l,a,r,f;let m="",p={};if(this.apiClient.isVertexAI()){const y=Kx(this.apiClient,t);m=ne("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Jx(this.apiClient,t);m=ne("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=_S(t);return p=ne("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=CS(x),E=new Ap;return Object.assign(E,T),E})}else{const g=ES(t);return p=ne("batches",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=AS(x),E=new Ap;return Object.assign(E,T),E})}}async delete(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=nS(this.apiClient,t);return p=ne("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>lS(x))}else{const g=tS(this.apiClient,t);return p=ne("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>iS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Mp(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>eT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function DS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=Vt(m);Array.isArray(x)&&(x=x.map(T=>Mp(T))),c(t,["contents"],x)}const p=u(i,["systemInstruction"]);t!==void 0&&p!=null&&c(t,["systemInstruction"],Mp(rt(p)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>nT(T))),c(t,["tools"],x)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],tT(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function kS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=Vt(m);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const p=u(i,["systemInstruction"]);t!==void 0&&p!=null&&c(t,["systemInstruction"],rt(p));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>iT(E))),c(t,["tools"],T)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),l}function US(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],lg(i,a));const r=u(t,["config"]);return r!=null&&DS(r,l),l}function LS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],lg(i,a));const r=u(t,["config"]);return r!=null&&kS(r,l),l}function zS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(i,a)),l}function HS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(i,a)),l}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function qS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function VS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function PS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BS(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function OS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const p=u(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function FS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(i,a)),l}function YS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(i,a)),l}function JS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function KS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function XS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function QS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function ZS(i){const t={},l=u(i,["config"]);return l!=null&&XS(l,t),t}function $S(i){const t={},l=u(i,["config"]);return l!=null&&QS(l,t),t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function WS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function eT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],VS(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],PS(m));const p=u(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],IS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function tT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],BS(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function nT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],JS(p));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],KS(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function iT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>OS(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=u(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function lT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function oT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function aT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],An(i,a));const r=u(t,["config"]);return r!=null&&lT(r,l),l}function sT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],An(i,a));const r=u(t,["config"]);return r!=null&&oT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=LS(this.apiClient,t);return p=ne("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=US(this.apiClient,t);return p=ne("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=YS(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=FS(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=HS(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=qS(x),E=new Ep;return Object.assign(E,T),E})}else{const g=zS(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=GS(x),E=new Ep;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=sT(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=aT(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=$S(t);return p=ne("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=WS(x),E=new _p;return Object.assign(E,T),E})}else{const g=ZS(t);return p=ne("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=jS(x),E=new _p;return Object.assign(E,T),E})}}}function Fa(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Rp(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(i){return this instanceof ye?(this.v=i,this):new ye(i)}function Jt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(A){return function(M){return Promise.resolve(M).then(A,T)}}function p(A,M){a[A]&&(r[A]=function(U){return new Promise(function(I,q){f.push([A,U,I,q])>1||y(A,U)})},M&&(r[A]=M(r[A])))}function y(A,M){try{g(a[A](M))}catch(U){E(f[0][3],U)}}function g(A){A.value instanceof ye?Promise.resolve(A.value.v).then(x,T):E(f[0][2],A)}function x(A){y("next",A)}function T(A){y("throw",A)}function E(A,M){A(M),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Kt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Rp=="function"?Rp(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(m){return new Promise(function(p,y){m=i[f](m),r(p,y,m.done,m.value)})}}function r(f,m,p,y){Promise.resolve(y).then(function(g){f({value:g,done:p})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:yg(l)}function yg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function cT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ip(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!yg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class fT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new dT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class dT{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),cT(f)}async sendMessage(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,p;const y=await r,g=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];x!=null&&(E=(p=x.slice(T))!==null&&p!==void 0?p:[]);const A=g?[g]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Ip(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Jt(this,arguments,function*(){var r,f,m,p,y,g;const x=[];try{for(var T=!0,E=Kt(t),A;A=yield ye(E.next()),r=A.done,!r;T=!0){p=A.value,T=!1;const M=p;if(uT(M)){const U=(g=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;U!==void 0&&x.push(U)}yield yield ye(M)}}catch(M){f={error:M}}finally{try{!T&&!r&&(m=E.return)&&(yield ye(m.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,x)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Ip(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function hT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function pT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function gT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function yT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function vT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function xT(i){const t={},l=u(i,["config"]);return l!=null&&vT(l,t),t}function ST(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xT(t);return f=ne("files",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=ST(y),x=new Cx;return Object.assign(x,g),x})}}async createInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=mT(t);return f=ne("upload/v1beta/files",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=hT(y),x=new bx;return Object.assign(x,g),x})}}async get(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yT(t);return f=ne("files/{file}",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pT(t);return f=ne("files/{file}",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=gT(y),x=new Nx;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Va(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ET(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>GT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function _T(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function AT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const p=u(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function bT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const p=u(i,["frequencyPenalty"]);p!=null&&c(t,["frequencyPenalty"],p);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const I=u(i,["routingConfig"]);I!=null&&c(t,["routingConfig"],I);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const Y=u(i,["speechConfig"]);Y!=null&&c(t,["speechConfig"],Y);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const Q=u(i,["thinkingConfig"]);Q!=null&&c(t,["thinkingConfig"],Q);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function NT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function wT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function MT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=u(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],ET(rt(M)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let K=cl(U);Array.isArray(K)&&(K=K.map(Z=>VT(ul(Z)))),c(t,["setup","tools"],K)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],qT(I));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function RT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],bT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=u(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],rt(M));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let Z=cl(U);Array.isArray(Z)&&(Z=Z.map(te=>PT(ul(te)))),c(t,["setup","tools"],Z)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],I);const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q);const K=u(i,["explicitVadSignal"]);return t!==void 0&&K!=null&&c(t,["setup","explicitVadSignal"],K),l}function IT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],MT(r,l)),l}function DT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],RT(r,l)),l}function kT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function UT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function LT(i){const t={},l=u(i,["media"]);if(l!=null){let g=og(l);Array.isArray(g)&&(g=g.map(x=>Va(x))),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Va(sg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Va(ag(f)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const p=u(i,["activityStart"]);p!=null&&c(t,["activityStart"],p);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function zT(i){const t={},l=u(i,["media"]);if(l!=null){let g=og(l);Array.isArray(g)&&(g=g.map(x=>x)),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],sg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],ag(f));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const p=u(i,["activityStart"]);p!=null&&c(t,["activityStart"],p);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function HT(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],BT(m));const p=u(i,["goAway"]);p!=null&&c(t,["goAway"],p);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);return g!=null&&c(t,["voiceActivityDetectionSignal"],g),t}function GT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],_T(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],AT(m));const p=u(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Va(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function qT(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function VT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],NT(p));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],wT(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function PT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>CT(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=u(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function BT(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const p=u(i,["totalTokenCount"]);p!=null&&c(t,["totalTokenCount"],p);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["promptTokensDetails"],A)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["cacheTokensDetails"],A)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["responseTokensDetails"],A)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function FT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],YT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const p=u(i,["groundingMetadata"]);p!=null&&c(t,["groundingMetadata"],p);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function YT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function JT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let f=Vt(r);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["contents"],f)}return l}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function XT(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],QT(a)),t}function QT(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Qa(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>l_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function ZT(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function $T(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function jT(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],rt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>Tg(p))),c(t,["tools"],m)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],OE(f)),l}function WT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(p=>Qa(p))),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&$T(f),l}function eE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(p=>p)),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&jT(f,l),l}function tE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function nE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function iE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function lE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function oE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function aE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function sE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const p=u(i,["guidanceScale"]);t!==void 0&&p!=null&&c(t,["parameters","guidanceScale"],p);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&c(t,["parameters","addWatermark"],I);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const Y=u(i,["editMode"]);t!==void 0&&Y!=null&&c(t,["parameters","editMode"],Y);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),l}function rE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>c_(y))),c(l,["instances[0]","referenceImages"],p)}const m=u(t,["config"]);return m!=null&&sE(m,l),l}function uE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Za(f))),c(t,["generatedImages"],r)}return t}function cE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function fE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const p=u(i,["autoTruncate"]);return t!==void 0&&p!=null&&c(t,["parameters","autoTruncate"],p),l}function dE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ju(i,r);Array.isArray(p)&&(p=p.map(y=>y)),c(l,["requests[]","content"],p)}const f=u(t,["config"]);f!=null&&cE(f,l);const m=u(t,["model"]);return m!==void 0&&c(l,["requests[]","model"],Me(i,m)),l}function mE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Ju(i,r);Array.isArray(m)&&(m=m.map(p=>p)),c(l,["instances[]","content"],m)}const f=u(t,["config"]);return f!=null&&fE(f,l),l}function hE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function pE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>XT(m))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function gE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function yE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function SE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const p=u(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function TE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Qa(rt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const p=u(t,["topK"]);p!=null&&c(a,["topK"],p);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const U=u(t,["seed"]);U!=null&&c(a,["seed"],U);const I=u(t,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],Ku(q));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&c(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let he=F;Array.isArray(he)&&(he=he.map(W=>f_(W))),c(l,["safetySettings"],he)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let he=cl(z);Array.isArray(he)&&(he=he.map(W=>v_(ul(W)))),c(l,["tools"],he)}const Q=u(t,["toolConfig"]);if(l!==void 0&&Q!=null&&c(l,["toolConfig"],y_(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],An(i,K));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const te=u(t,["mediaResolution"]);te!=null&&c(a,["mediaResolution"],te);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],Xu(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&c(a,["thinkingConfig"],ae);const me=u(t,["imageConfig"]);me!=null&&c(a,["imageConfig"],XE(me));const xe=u(t,["enableEnhancedCivicAnswers"]);return xe!=null&&c(a,["enableEnhancedCivicAnswers"],xe),a}function EE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],rt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const p=u(t,["topK"]);p!=null&&c(a,["topK"],p);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const U=u(t,["seed"]);U!=null&&c(a,["seed"],U);const I=u(t,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],Ku(q));const Y=u(t,["responseJsonSchema"]);Y!=null&&c(a,["responseJsonSchema"],Y);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const z=u(t,["modelSelectionConfig"]);z!=null&&c(a,["modelConfig"],z);const Q=u(t,["safetySettings"]);if(l!==void 0&&Q!=null){let b=Q;Array.isArray(b)&&(b=b.map(G=>G)),c(l,["safetySettings"],b)}const K=u(t,["tools"]);if(l!==void 0&&K!=null){let b=cl(K);Array.isArray(b)&&(b=b.map(G=>Tg(ul(G)))),c(l,["tools"],b)}const Z=u(t,["toolConfig"]);l!==void 0&&Z!=null&&c(l,["toolConfig"],Z);const te=u(t,["labels"]);l!==void 0&&te!=null&&c(l,["labels"],te);const j=u(t,["cachedContent"]);l!==void 0&&j!=null&&c(l,["cachedContent"],An(i,j));const ae=u(t,["responseModalities"]);ae!=null&&c(a,["responseModalities"],ae);const me=u(t,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const xe=u(t,["speechConfig"]);xe!=null&&c(a,["speechConfig"],Xu(xe));const he=u(t,["audioTimestamp"]);he!=null&&c(a,["audioTimestamp"],he);const W=u(t,["thinkingConfig"]);W!=null&&c(a,["thinkingConfig"],W);const de=u(t,["imageConfig"]);if(de!=null&&c(a,["imageConfig"],QE(de)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Dp(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(p=>Qa(p))),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],TE(i,f,l)),l}function kp(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(p=>p)),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],EE(i,f,l)),l}function Up(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>FT(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const p=u(i,["usageMetadata"]);return p!=null&&c(t,["usageMetadata"],p),t}function Lp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>x)),c(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function _E(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function AE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const p=u(i,["guidanceScale"]);t!==void 0&&p!=null&&c(t,["parameters","guidanceScale"],p);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&c(t,["parameters","addWatermark"],I);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const Y=u(i,["imageSize"]);t!==void 0&&Y!=null&&c(t,["parameters","sampleImageSize"],Y);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),l}function CE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&_E(f,l),l}function bE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&AE(f,l),l}function NE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>qE(m))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],xg(r)),t}function wE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>Za(m))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Sg(r)),t}function ME(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const p=u(i,["personGeneration"]);if(t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],$a(x));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>I_(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function RE(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=u(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const M=u(i,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const U=u(i,["lastFrame"]);t!==void 0&&U!=null&&c(t,["instances[0]","lastFrame"],Xt(U));const I=u(i,["referenceImages"]);if(t!==void 0&&I!=null){let F=I;Array.isArray(F)&&(F=F.map(z=>D_(z))),c(t,["instances[0]","referenceImages"],F)}const q=u(i,["mask"]);t!==void 0&&q!=null&&c(t,["instances[0]","mask"],R_(q));const Y=u(i,["compressionQuality"]);return t!==void 0&&Y!=null&&c(t,["parameters","compressionQuality"],Y),l}function IE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],LE(m)),t}function DE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],zE(m)),t}function kE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],$a(f));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],Eg(m));const p=u(t,["source"]);p!=null&&HE(p,l);const y=u(t,["config"]);return y!=null&&ME(y,l),l}function UE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Xt(f));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],_g(m));const p=u(t,["source"]);p!=null&&GE(p,l);const y=u(t,["config"]);return y!=null&&RE(y,l),l}function LE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>PE(m))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function zE(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>BE(m))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function HE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$a(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Eg(f)),l}function GE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],_g(f)),l}function qE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],ZE(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],xg(r)),t}function Za(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],vg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Sg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function VE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],vg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function PE(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],w_(l)),t}function BE(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],M_(l)),t}function OE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const p=u(i,["frequencyPenalty"]);p!=null&&c(t,["frequencyPenalty"],p);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const I=u(i,["routingConfig"]);I!=null&&c(t,["routingConfig"],I);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const Y=u(i,["speechConfig"]);Y!=null&&c(t,["speechConfig"],Y);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const Q=u(i,["thinkingConfig"]);Q!=null&&c(t,["thinkingConfig"],Q);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function FE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function YE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function JE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function KE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function XE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function QE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function ZE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Zn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $a(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Zn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Xt(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $E(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const p=u(t,["queryBase"]);return l!==void 0&&p!=null&&c(l,["_url","models_url"],fg(i,p)),a}function jE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const p=u(t,["queryBase"]);return l!==void 0&&p!=null&&c(l,["_url","models_url"],fg(i,p)),a}function WE(i,t){const l={},a=u(t,["config"]);return a!=null&&$E(i,a,l),l}function e_(i,t){const l={},a=u(t,["config"]);return a!=null&&jE(i,a,l),l}function t_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(m=>Iu(m))),c(t,["models"],f)}return t}function n_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(m=>Du(m))),c(t,["models"],f)}return t}function i_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Iu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],x_(m));const p=u(i,["inputTokenLimit"]);p!=null&&c(t,["inputTokenLimit"],p);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=u(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const M=u(i,["thinking"]);return M!=null&&c(t,["thinking"],M),t}function Du(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>gE(E))),c(t,["endpoints"],T)}const p=u(i,["labels"]);p!=null&&c(t,["labels"],p);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],S_(y));const g=u(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const x=u(i,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function l_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],yE(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],vE(m));const p=u(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],OT(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function o_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Xt(l)),t}function a_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function s_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&u_(r,l);const f=u(t,["config"]);return f!=null&&a_(f,l),l}function r_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Za(r))),c(t,["generatedImages"],a)}return t}function u_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Xt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>o_(p))),c(t,["instances[0]","productImages"],m)}return l}function c_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Xt(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],i_(f));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],ZT(m));const p=u(i,["styleImageConfig"]);p!=null&&c(t,["styleImageConfig"],p);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function xg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Sg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function f_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function d_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Xt(l)),t}function m_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const p=u(i,["binaryColorThreshold"]);t!==void 0&&p!=null&&c(t,["parameters","binaryColorThreshold"],p);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function h_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&g_(r,l);const f=u(t,["config"]);return f!=null&&m_(f,l),l}function p_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>VE(r))),c(t,["generatedMasks"],a)}return t}function g_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],d_(f)),l}function y_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],xE(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function v_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],JE(p));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],KE(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function Tg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>SE(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=u(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function x_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function S_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function T_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function E_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function __(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Me(i,a));const r=u(t,["config"]);return r!=null&&T_(r,l),l}function A_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&E_(r,l),l}function C_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const p=u(i,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function b_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Xt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(t,["config"]);return m!=null&&C_(m,l),l}function N_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Za(f))),c(t,["generatedImages"],r)}return t}function w_(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Zn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function M_(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function R_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Xt(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function I_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],$a(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function D_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Xt(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Eg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function _g(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function U_(i){const t={},l=u(i,["config"]);return l!=null&&k_(l,t),t}function L_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function z_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&L_(a,t),t}function H_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function G_(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function q_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],P_(m)),t}function V_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&G_(r,t),t}function P_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function B_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function O_(i){const t={},l=u(i,["config"]);return l!=null&&B_(l,t),t}function F_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["fileSearchStores"],f)}return t}function Ag(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),c(t,["customMetadata"],p)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),l}function Y_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Ag(a,t),t}function J_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K_="Content-Type",X_="X-Server-Timeout",Q_="User-Agent",ku="x-goog-api-client",Z_="1.34.0",$_=`google-genai-sdk/${Z_}`,j_="v1beta1",W_="v1beta";class e1{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:j_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:W_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[m,p]of Object.entries(t.queryParams))r.searchParams.append(m,String(p));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,m=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const p=setTimeout(()=>f.abort(),l.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=m}return l&&l.extraBody!==null&&t1(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await zp(r),new wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await zp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Jt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:x}=yield ye(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(x,{stream:!0});try{const M=JSON.parse(T);if("error"in M){const U=JSON.parse(JSON.stringify(M.error)),I=U.status,q=U.code,Y=`got status: ${I}. ${JSON.stringify(M)}`;if(q>=400&&q<600)throw new Xa({message:Y,status:q})}}catch(M){if(M.name==="ApiError")throw M}m+=T;let E=-1,A=0;for(;;){E=-1,A=0;for(const I of y){const q=m.indexOf(I);q!==-1&&(E===-1||q<E)&&(E=q,A=I.length)}if(E===-1)break;const M=m.substring(0,E);m=m.substring(E+A);const U=M.trim();if(U.startsWith(p)){const I=U.substring(p.length).trim();try{const q=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ye(new wu(q))}catch(q){throw new Error(`exception parsing stream chunk ${I}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=$_+" "+this.clientOptions.userAgentExtra;return t[Q_]=l,t[ku]=l,t[K_]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(X_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(t);r.sizeBytes=String(m.size);const p=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const y={file:r},g=this.getFileName(t),x=ne("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,g,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,m=await f.stat(l),p=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(l),T={};a!=null&&Ag(a,T);const E=await this.fetchUploadUrl(g,p,y,x,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,m){var p;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function zp(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Xa({message:r,status:l}):new Error(r)}}function t1(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,m){const p=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],x=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?p[y]=a(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n1="mcp_used/unknown";let i1=!1;function Cg(i){for(const t of i)if(l1(t)||typeof t=="object"&&"inputSchema"in t)return!0;return i1}function bg(i){var t;const l=(t=i[ku])!==null&&t!==void 0?t:"";i[ku]=(l+` ${n1}`).trimStart()}function l1(i){return i!==null&&typeof i=="object"&&i instanceof Zu}function o1(i){return Jt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const m=yield ye(l.listTools({cursor:r}));for(const p of m.tools)yield yield ye(p),f++;if(!m.nextCursor)break;r=m.nextCursor}})}class Zu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Zu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const x of this.mcpClients)try{for(var p=!0,y=(l=void 0,Kt(o1(x))),g;g=await y.next(),t=g.done,!t;p=!0){r=g.value,p=!1;const T=r;m.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=x}}catch(T){l={error:T}}finally{try{!p&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Hx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function a1(i,t,l){const a=new Mx;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class s1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=c1(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const x=new Promise(F=>{g=F}),T=t.callbacks,E=function(){g({})},A=this.apiClient,M={onopen:E,onmessage:F=>{a1(A,T.onmessage,F)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(F){}},U=this.webSocketFactory.create(y,u1(m),M);U.connect(),await x;const Y={setup:{model:Me(this.apiClient,t.model)}};return U.send(JSON.stringify(Y)),new r1(U,this.apiClient)}}class r1{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=UT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=kT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ll.PLAY)}pause(){this.sendPlaybackControl(ll.PAUSE)}stop(){this.sendPlaybackControl(ll.STOP)}resetContext(){this.sendPlaybackControl(ll.RESET_CONTEXT)}close(){this.conn.close()}}function u1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function c1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function d1(i,t,l){const a=new wx;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const m=HT(f);Object.assign(a,m)}else Object.assign(a,f);t(a)}class m1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new s1(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,m,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Cg(t.config.tools)&&bg(T);const E=y1(T);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const j=this.apiClient.getApiKey();let ae="BidiGenerateContent",me="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",me="access_token"),x=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ae}?${me}=${j}`}let A=()=>{};const M=new Promise(j=>{A=j}),U=t.callbacks,I=function(){var j;(j=U==null?void 0:U.onopen)===null||j===void 0||j.call(U),A({})},q=this.apiClient,Y={onopen:I,onmessage:j=>{d1(q,U.onmessage,j)},onerror:(l=U==null?void 0:U.onerror)!==null&&l!==void 0?l:function(j){},onclose:(a=U==null?void 0:U.onclose)!==null&&a!==void 0?a:function(j){}},F=this.webSocketFactory.create(x,g1(E),Y);F.connect(),await M;let z=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const j=this.apiClient.getProject(),ae=this.apiClient.getLocation();z=`projects/${j}/locations/${ae}/`+z}let Q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pa.AUDIO]}:t.config.responseModalities=[Pa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(p=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[],Z=[];for(const j of K)if(this.isCallableTool(j)){const ae=j;Z.push(await ae.tool())}else Z.push(j);Z.length>0&&(t.config.tools=Z);const te={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Q=DT(this.apiClient,te):Q=IT(this.apiClient,te),delete Q.config,F.send(JSON.stringify(Q)),new p1(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const h1={turnComplete:!0};class p1{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Vt(l.turns),t.isVertexAI()||(a=a.map(r=>Qa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(f1)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},h1),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:zT(t)}:l={realtimeInput:LT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function g1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function y1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hp=10;function Gp(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(sl(m)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function sl(i){return"callTool"in i&&typeof i.callTool=="function"}function v1(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>sl(r)))!==null&&a!==void 0?a:!1}function qp(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(sl(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Vp(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x1 extends _n{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,m,p;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!v1(l)||Gp(l.config))return await this.generateContentInternal(y);const g=qp(l);if(g.length>0){const U=g.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let x,T;const E=Vt(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Hp;let M=0;for(;M<A&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const U=x.candidates[0].content,I=[];for(const q of(p=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[])if(sl(q)){const F=await q.callTool(x.functionCalls);I.push(...F)}M++,T={role:"user",parts:I},y.contents=Vt(y.contents),y.contents.push(U),y.contents.push(T),Vp(y.config)&&(E.push(U),E.push(T))}return Vp(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async l=>{var a,r,f,m,p;if(this.maybeMoveToResponseJsonSchem(l),Gp(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=qp(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,x=(p=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let p;return f?p={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:p={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},p}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new gi(En.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,m,p,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(f=l.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(p=l.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const m=await Promise.all(f.map(async y=>sl(y)?await y.tool():y)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(p.config.tools=m,t.config&&t.config.tools&&Cg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),bg(g),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const m of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(sl(m)){const p=m,y=await p.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,p)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Hp;let m=!1,p=0;const y=await this.initAfcToolsMap(t);return(function(g,x,T){return Jt(this,arguments,function*(){for(var E,A,M,U,I,q;p<f;){m&&(p++,m=!1);const Q=yield ye(g.processParamsMaybeAddMcpUsage(T)),K=yield ye(g.generateContentStreamInternal(Q)),Z=[],te=[];try{for(var Y=!0,F=(A=void 0,Kt(K)),z;z=yield ye(F.next()),E=z.done,!E;Y=!0){U=z.value,Y=!1;const j=U;if(yield yield ye(j),j.candidates&&(!((I=j.candidates[0])===null||I===void 0)&&I.content)){te.push(j.candidates[0].content);for(const ae of(q=j.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(p<f&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ae.functionCall.name)){const me=yield ye(x.get(ae.functionCall.name).callTool([ae.functionCall]));Z.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(j){A={error:j}}finally{try{!Y&&!E&&(M=F.return)&&(yield ye(M.call(F)))}finally{if(A)throw A.error}}if(Z.length>0){m=!0;const j=new so;j.candidates=[{content:{role:"user",parts:Z}}],yield yield ye(j);const ae=[];ae.push(...te),ae.push({role:"user",parts:Z});const me=Vt(T.contents).concat(ae);T.contents=me}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=kp(this.apiClient,t);return p=ne("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Lp(x),E=new so;return Object.assign(E,T),E})}else{const g=Dp(this.apiClient,t);return p=ne("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Up(x),E=new so;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=kp(this.apiClient,t);return p=ne("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(T){return Jt(this,arguments,function*(){var E,A,M,U;try{for(var I=!0,q=Kt(T),Y;Y=yield ye(q.next()),E=Y.done,!E;I=!0){U=Y.value,I=!1;const F=U,z=Lp(yield ye(F.json()));z.sdkHttpResponse={headers:F.headers};const Q=new so;Object.assign(Q,z),yield yield ye(Q)}}catch(F){A={error:F}}finally{try{!I&&!E&&(M=q.return)&&(yield ye(M.call(q)))}finally{if(A)throw A.error}}})})}else{const g=Dp(this.apiClient,t);return p=ne("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(T){return Jt(this,arguments,function*(){var E,A,M,U;try{for(var I=!0,q=Kt(T),Y;Y=yield ye(q.next()),E=Y.done,!E;I=!0){U=Y.value,I=!1;const F=U,z=Up(yield ye(F.json()));z.sdkHttpResponse={headers:F.headers};const Q=new so;Object.assign(Q,z),yield yield ye(Q)}}catch(F){A={error:F}}finally{try{!I&&!E&&(M=q.return)&&(yield ye(M.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=mE(this.apiClient,t);return p=ne("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=pE(x),E=new pp;return Object.assign(E,T),E})}else{const g=dE(this.apiClient,t);return p=ne("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=hE(x),E=new pp;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=bE(this.apiClient,t);return p=ne("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=wE(x),E=new gp;return Object.assign(E,T),E})}else{const g=CE(this.apiClient,t);return p=ne("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=NE(x),E=new gp;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=rE(this.apiClient,t);return f=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=uE(y),x=new yx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=b_(this.apiClient,t);return f=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=N_(y),x=new vx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=s_(this.apiClient,t);return f=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=r_(y),x=new xx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=h_(this.apiClient,t);return f=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=p_(y),x=new Sx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=YE(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Du(x))}else{const g=FE(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Iu(x))}}async listInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=e_(this.apiClient,t);return p=ne("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=n_(x),E=new yp;return Object.assign(E,T),E})}else{const g=WE(this.apiClient,t);return p=ne("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=t_(x),E=new yp;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=A_(this.apiClient,t);return p=ne("{model}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Du(x))}else{const g=__(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Iu(x))}}async delete(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=lE(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=aE(x),E=new vp;return Object.assign(E,T),E})}else{const g=iE(this.apiClient,t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=oE(x),E=new vp;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=eE(this.apiClient,t);return p=ne("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=nE(x),E=new xp;return Object.assign(E,T),E})}else{const g=WT(this.apiClient,t);return p=ne("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=tE(x),E=new xp;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=JT(this.apiClient,t);return f=ne("{model}:computeTokens",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=KT(y),x=new Tx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=UE(this.apiClient,t);return p=ne("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>{const T=DE(x),E=new Ba;return Object.assign(E,T),E})}else{const g=kE(this.apiClient,t);return p=ne("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const T=IE(x),E=new Ba;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S1 extends _n{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=fx(t);return p=ne("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m}else{const g=cx(t);return p=ne("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=ix(t);return f=ne("{resourceName}:fetchPredictOperation",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function E1(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>I1(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function _1(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const m=u(t,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const p=u(t,["liveConnectConstraints"]);l!==void 0&&p!=null&&c(l,["bidiGenerateContentSetup"],R1(i,p));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function A1(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],_1(i,a,l)),l}function C1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function b1(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function N1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function w1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function M1(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=u(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],E1(rt(M)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let K=cl(U);Array.isArray(K)&&(K=K.map(Z=>k1(ul(Z)))),c(t,["setup","tools"],K)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],D1(I));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function R1(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],M1(r,l)),l}function I1(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],C1(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],b1(m));const p=u(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],T1(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function D1(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function k1(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],N1(p));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],w1(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function L1(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=U1(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class z1 extends _n{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=A1(this.apiClient,t);f=ne("auth_tokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query;const y=L1(p,t.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H1(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function G1(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&H1(a,t),t}function q1(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function V1(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function P1(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&V1(a,t),t}function B1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1 extends _n{constructor(t){super(),this.apiClient=t,this.list=async l=>new gi(En.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=q1(t);return f=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=G1(t);r=ne("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=P1(t);return f=ne("{parent}/documents",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=B1(y),x=new Ex;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F1 extends _n{constructor(t,l=new O1(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new gi(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=U_(t);return f=ne("fileSearchStores",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=H_(t);return f=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=z_(t);r=ne("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=O_(t);return f=ne("fileSearchStores",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=F_(y),x=new _x;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Y_(t);return f=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=J_(y),x=new Ax;return Object.assign(x,g),x})}}async importFile(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=V_(t);return f=ne("{file_search_store_name}:importFile",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=q_(y),x=new Fu;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ng=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Ng=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const Y1=()=>Ng();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Lu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ft extends Pt{constructor(t,l,a,r){super(`${ft.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new ja({message:a,cause:Lu(l)});const f=l;return t===400?new Mg(t,f,a,r):t===401?new Rg(t,f,a,r):t===403?new Ig(t,f,a,r):t===404?new Dg(t,f,a,r):t===409?new kg(t,f,a,r):t===422?new Ug(t,f,a,r):t===429?new Lg(t,f,a,r):t>=500?new zg(t,f,a,r):new ft(t,f,a,r)}}class zu extends ft{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ja extends ft{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class wg extends ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Mg extends ft{}class Rg extends ft{}class Ig extends ft{}class Dg extends ft{}class kg extends ft{}class Ug extends ft{}class Lg extends ft{}class zg extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J1=/^[a-z][a-z0-9+.-]*:/i,K1=i=>J1.test(i);let Hu=i=>(Hu=Array.isArray,Hu(i));const X1=Hu;let Q1=X1;const Pp=Q1;function Z1(i){if(!i)return!0;for(const t in i)return!1;return!0}function $1(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const j1=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},W1=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const il="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nA=()=>{var i,t,l,a,r;const f=tA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":Op(Deno.build.os),"X-Stainless-Arch":Bp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":Op((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Bp((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=iA();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function iA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${f}.${m}`}}}return null}const Bp=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Op=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ka;const lA=()=>ka??(ka=nA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function aA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Hg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Gg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function sA(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _u(i,t,l){return qg(),new File(i,t??"unknown_file",l)}function uA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const cA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",fA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Vg(i),dA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function mA(i,t,l){if(qg(),i=await i,fA(i))return i instanceof File?i:_u([await i.arrayBuffer()],i.name);if(dA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),_u(await Gu(r),t,l)}const a=await Gu(i);if(t||(t=uA(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return _u(a,t,l)}async function Gu(i){var t,l,a,r,f;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(Vg(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(cA(i))try{for(var p=!0,y=Kt(i),g;g=await y.next(),t=g.done,!t;p=!0){r=g.value,p=!1;const x=r;m.push(...await Gu(x))}}catch(x){l={error:x}}finally{try{!p&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const x=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${hA(i)}`)}return m}function hA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pg{constructor(t){this._client=t}}Pg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Fp=Object.freeze(Object.create(null)),pA=(i=Bg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],m=l.reduce((x,T,E)=>{var A,M,U;/[?#]/.test(T)&&(r=!0);const I=a[E];let q=(r?encodeURIComponent:i)(""+I);return E!==a.length&&(I==null||typeof I=="object"&&I.toString===((U=Object.getPrototypeOf((M=Object.getPrototypeOf((A=I.hasOwnProperty)!==null&&A!==void 0?A:Fp))!==null&&M!==void 0?M:Fp))===null||U===void 0?void 0:U.toString))&&(q=I+"",f.push({start:x.length+T.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),x+T+(E===a.length?"":q)},""),p=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(p))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((x,T)=>x.start-T.start),f.length>0){let x=0;const T=f.reduce((E,A)=>{const M=" ".repeat(A.start-x),U="^".repeat(A.length);return x=A.start+A.length,E+M+U},"");throw new Pt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${m}
${T}`)}return m}),Ua=pA(Bg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Og extends Pg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Fa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ua`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ua`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ua`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:m=this._client.apiVersion}=f,p=Fa(f,["api_version"]);return this._client.get(Ua`/${m}/interactions/${t}`,Object.assign(Object.assign({query:p},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Og._key=Object.freeze(["interactions"]);class Fg extends Og{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let La;function $u(i){let t;return(La??(t=new globalThis.TextEncoder,La=t.encode.bind(t)))(i)}let za;function Yp(i){let t;return(za??(t=new globalThis.TextDecoder,za=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?$u(t):t;this.buffer=gA([this.buffer,l]);const a=[];let r;for(;(r=yA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Yp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=Yp(this.buffer.subarray(0,f));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Wa.NEWLINE_CHARS=new Set([`
`,"\r"]);Wa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function vA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ya={off:0,error:200,warn:300,info:400,debug:500},Jp=(i,t,l)=>{if(i){if($1(Ya,i))return i;ct(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ya))}`)}};function uo(){}function Ha(i,t,l){return!t||Ya[i]>Ya[l]?uo:t[i].bind(t)}const xA={error:uo,warn:uo,info:uo,debug:uo};let Kp=new WeakMap;function ct(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return xA;const r=Kp.get(l);if(r&&r[0]===a)return r[1];const f={error:Ha("error",l,a),warn:Ha("warn",l,a),info:Ha("info",l,a),debug:Ha("debug",l,a)};return Kp.set(l,[a,f]),f}const pi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?ct(a):console;function m(){return Jt(this,arguments,function*(){var y,g,x,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,M=Kt(SA(t,l)),U;U=yield ye(M.next()),y=U.done,!y;A=!0){T=U.value,A=!1;const I=T;if(!E)if(I.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ye(JSON.parse(I.data))}catch(q){throw f.error("Could not parse message into JSON:",I.data),f.error("From chunk:",I.raw),q}}}catch(I){g={error:I}}finally{try{!A&&!y&&(x=M.return)&&(yield ye(x.call(M)))}finally{if(g)throw g.error}}E=!0}catch(I){if(Uu(I))return yield ye(void 0);throw I}finally{E||l.abort()}})}return new ol(m,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Jt(this,arguments,function*(){var y,g,x,T;const E=new Wa,A=Gg(t);try{for(var M=!0,U=Kt(A),I;I=yield ye(U.next()),y=I.done,!y;M=!0){T=I.value,M=!1;const q=T;for(const Y of E.decode(q))yield yield ye(Y)}}catch(q){g={error:q}}finally{try{!M&&!y&&(x=U.return)&&(yield ye(x.call(U)))}finally{if(g)throw g.error}}for(const q of E.flush())yield yield ye(q)})}function m(){return Jt(this,arguments,function*(){var y,g,x,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,M=Kt(f()),U;U=yield ye(M.next()),y=U.done,!y;A=!0){T=U.value,A=!1;const I=T;E||I&&(yield yield ye(JSON.parse(I)))}}catch(I){g={error:I}}finally{try{!A&&!y&&(x=M.return)&&(yield ye(x.call(M)))}finally{if(g)throw g.error}}E=!0}catch(I){if(Uu(I))return yield ye(void 0);throw I}finally{E||l.abort()}})}return new ol(m,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const m=a.next();t.push(m),l.push(m)}return f.shift()}});return[new ol(()=>r(t),this.controller,this.client),new ol(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Hg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const m=$u(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function SA(i,t){return Jt(this,arguments,function*(){var a,r,f,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const p=new EA,y=new Wa,g=Gg(i.body);try{for(var x=!0,T=Kt(TA(g)),E;E=yield ye(T.next()),a=E.done,!a;x=!0){m=E.value,x=!1;const A=m;for(const M of y.decode(A)){const U=p.decode(M);U&&(yield yield ye(U))}}}catch(A){r={error:A}}finally{try{!x&&!a&&(f=T.return)&&(yield ye(f.call(T)))}finally{if(r)throw r.error}}for(const A of y.flush()){const M=p.decode(A);M&&(yield yield ye(M))}})}function TA(i){return Jt(this,arguments,function*(){var l,a,r,f;let m=new Uint8Array;try{for(var p=!0,y=Kt(i),g;g=yield ye(y.next()),l=g.done,!l;p=!0){f=g.value,p=!1;const x=f;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?$u(x):x;let E=new Uint8Array(m.length+T.length);E.set(m),E.set(T,m.length),m=E;let A;for(;(A=vA(m))!==-1;)yield yield ye(m.slice(0,A)),m=m.slice(A)}}catch(x){a={error:x}}finally{try{!p&&!l&&(r=y.return)&&(yield ye(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield ye(m))})}class EA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=_A(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function _A(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AA(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,m=await(async()=>{var p;if(t.options.stream)return ct(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):ol.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),g=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await l.json():await l.text()})();return ct(i).debug(`[${a}] response parsed`,pi({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-f})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ju extends Promise{constructor(t,l,a=AA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new ju(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=Symbol("brand.privateNullableHeaders");function*CA(i){if(!i)return;if(Yg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Pp(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Pp(a[1])?a[1]:[a[1]];let m=!1;for(const p of f)p!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,p])}}const ro=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,m]of CA(a)){const p=f.toLowerCase();r.has(p)||(t.delete(f),r.add(p)),m===null?(t.delete(f),l.add(p)):(t.append(f,m),l.delete(p))}}return{[Yg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Au=i=>{var t,l,a,r,f,m;if(typeof globalThis.process<"u")return(a=(l=(t=$v)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;class es{constructor(t){var l,a,r,f,m,p,y,{baseURL:g=Au("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(l=Au("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Fa(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:x,apiVersion:T},E),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:es.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(m=(f=Jp(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Jp(Au("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:M,this.fetchOptions=A.fetchOptions,this.maxRetries=(p=A.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:oA(),this.encoder=rA,this._options=A,this.apiKey=x,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ro([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ro([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ro([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${il}`}defaultIdempotencyKey(){return`stainless-node-retry-${Y1()}`}makeStatusError(t,l,a,r){return ft.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=K1(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return Z1(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new ju(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,m;const p=await t,y=(r=p.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(p);const{req:g,url:x,timeout:T}=await this.buildRequest(p,{retryCount:y-l});await this.prepareRequest(g,{url:x,options:p});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(ct(this).debug(`[${E}] sending request`,pi({retryOfRequestLogID:a,method:p.method,url:x,options:p,headers:g.headers})),!((f=p.signal)===null||f===void 0)&&f.aborted)throw new zu;const U=new AbortController,I=await this.fetchWithTimeout(x,g,T,U).catch(Lu),q=Date.now();if(I instanceof globalThis.Error){const F=`retrying, ${l} attempts remaining`;if(!((m=p.signal)===null||m===void 0)&&m.aborted)throw new zu;const z=Uu(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(l)return ct(this).info(`[${E}] connection ${z?"timed out":"failed"} - ${F}`),ct(this).debug(`[${E}] connection ${z?"timed out":"failed"} (${F})`,pi({retryOfRequestLogID:a,url:x,durationMs:q-M,message:I.message})),this.retryRequest(p,l,a??E);throw ct(this).info(`[${E}] connection ${z?"timed out":"failed"} - error; no more retries left`),ct(this).debug(`[${E}] connection ${z?"timed out":"failed"} (error; no more retries left)`,pi({retryOfRequestLogID:a,url:x,durationMs:q-M,message:I.message})),z?new wg:new ja({cause:I})}const Y=`[${E}${A}] ${g.method} ${x} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${q-M}ms`;if(!I.ok){const F=await this.shouldRetry(I);if(l&&F){const j=`retrying, ${l} attempts remaining`;return await sA(I.body),ct(this).info(`${Y} - ${j}`),ct(this).debug(`[${E}] response error (${j})`,pi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:q-M})),this.retryRequest(p,l,a??E,I.headers)}const z=F?"error; no more retries left":"error; not retryable";ct(this).info(`${Y} - ${z}`);const Q=await I.text().catch(j=>Lu(j).message),K=W1(Q),Z=K?void 0:Q;throw ct(this).debug(`[${E}] response error (${z})`,pi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,message:Z,durationMs:Date.now()-M})),this.makeStatusError(I.status,K,Z,I.headers)}return ct(this).info(Y),ct(this).debug(`[${E}] response start`,pi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:q-M})),{response:I,options:p,controller:U,requestLogID:E,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:m,method:p}=f,y=Fa(f,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),a),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);p&&(T.method=p.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let m;const p=r==null?void 0:r.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(m=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const g=parseFloat(y);Number.isNaN(g)?m=Date.parse(y)-Date.now():m=g*1e3}if(!(m&&0<=m&&m<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,g)}return await eA(m),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,m=Math.min(.5*Math.pow(2,f),8),p=1-Math.random()*.25;return m*p*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const m=Object.assign({},t),{method:p,path:y,query:g,defaultBaseURL:x}=m,T=this.buildURL(y,g,x);"timeout"in m&&j1("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:m}),M=await this.buildHeaders({options:t,method:p,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:M},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=m.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let p=ro([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),lA()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=ro([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:aA(t)}:this.encoder({body:t,headers:a})}}es.DEFAULT_TIMEOUT=6e4;class tt extends es{constructor(){super(...arguments),this.interactions=new Fg(this)}}Jg=tt;tt.GeminiNextGenAPIClient=Jg;tt.GeminiNextGenAPIClientError=Pt;tt.APIError=ft;tt.APIConnectionError=ja;tt.APIConnectionTimeoutError=wg;tt.APIUserAbortError=zu;tt.NotFoundError=Dg;tt.ConflictError=kg;tt.RateLimitError=Lg;tt.BadRequestError=Mg;tt.AuthenticationError=Rg;tt.InternalServerError=zg;tt.PermissionDeniedError=Ig;tt.UnprocessableEntityError=Ug;tt.toFile=mA;tt.Interactions=Fg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function NA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function wA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function MA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function RA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(i,["batchSize"]);t!==void 0&&p!=null&&c(t,["tuningTask","hyperparameters","batchSize"],p);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function IA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Xp(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Xp(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let p=u(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(p==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(x==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function DA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&OA(f);const m=u(i,["config"]);return m!=null&&RA(m,l),l}function kA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&FA(f,l,t);const m=u(i,["config"]);return m!=null&&IA(m,l,t),l}function UA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function LA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function zA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function HA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function GA(i,t){const l={},a=u(i,["config"]);return a!=null&&zA(a,l),l}function qA(i,t){const l={},a=u(i,["config"]);return a!=null&&HA(a,l),l}function VA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>Kg(p))),c(l,["tuningJobs"],m)}return l}function PA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>qu(p))),c(l,["tuningJobs"],m)}return l}function BA(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function OA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function FA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Kg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const p=u(i,["tuningTask","startTime"]);p!=null&&c(l,["startTime"],p);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(l,["updateTime"],g);const x=u(i,["description"]);x!=null&&c(l,["description"],x);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],BA(E)),l}function qu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const p=u(i,["startTime"]);p!=null&&c(l,["startTime"],p);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(l,["updateTime"],g);const x=u(i,["error"]);x!=null&&c(l,["error"],x);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const M=u(i,["preTunedModel"]);M!=null&&c(l,["preTunedModel"],M);const U=u(i,["supervisedTuningSpec"]);U!=null&&c(l,["supervisedTuningSpec"],U);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&c(l,["preferenceOptimizationSpec"],I);const q=u(i,["tuningDataStats"]);q!=null&&c(l,["tuningDataStats"],q);const Y=u(i,["encryptionSpec"]);Y!=null&&c(l,["encryptionSpec"],Y);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(l,["partnerModelTuningSpec"],F);const z=u(i,["customBaseModel"]);z!=null&&c(l,["customBaseModel"],z);const Q=u(i,["experiment"]);Q!=null&&c(l,["experiment"],Q);const K=u(i,["labels"]);K!=null&&c(l,["labels"],K);const Z=u(i,["outputUri"]);Z!=null&&c(l,["outputUri"],Z);const te=u(i,["pipelineJob"]);te!=null&&c(l,["pipelineJob"],te);const j=u(i,["serviceAccount"]);j!=null&&c(l,["serviceAccount"],j);const ae=u(i,["tunedModelDisplayName"]);ae!=null&&c(l,["tunedModelDisplayName"],ae);const me=u(i,["veoTuningSpec"]);return me!=null&&c(l,["veoTuningSpec"],me),l}function YA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const p=u(i,["error"]);return p!=null&&c(l,["error"],p),l}function Xp(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JA extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:Nu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=LA(t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>qu(x))}else{const g=UA(t);return p=ne("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>Kg(x))}}async listInternal(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=qA(t);return p=ne("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=PA(x),E=new Sp;return Object.assign(E,T),E})}else{const g=GA(t);return p=ne("tunedModels",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=VA(x),E=new Sp;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=NA(t);return p=ne("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=MA(x),E=new Tp;return Object.assign(E,T),E})}else{const g=bA(t);return p=ne("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=wA(x),E=new Tp;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI()){const p=kA(t,t);return f=ne("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>qu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=DA(t);return f=ne("tunedModels",p._url),m=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>YA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XA=1024*1024*8,QA=3,ZA=1e3,$A=2,Ja="x-goog-upload-status";async function jA(i,t,l){var a;const r=await Xg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function WA(i,t,l){var a;const r=await Xg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=ig(f),p=new Yu;return Object.assign(p,m),p}async function Xg(i,t,l){var a,r;let f=0,m=0,p=new wu(new Response),y="upload";for(f=i.size;m<f;){const g=Math.min(XA,f-m),x=i.slice(m,m+g);m+g>=f&&(y+=", finalize");let T=0,E=ZA;for(;T<QA&&(p=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(g)}}}),!(!((a=p==null?void 0:p.headers)===null||a===void 0)&&a[Ja]));)T++,await tC(E),E=E*$A;if(m+=g,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[Ja])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function eC(i){return{size:i.size,type:i.type}}function tC(i){return new Promise(t=>setTimeout(t,i))}class nC{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await eC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC{create(t,l,a){return new lC(t,l,a)}}class lC{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp="x-goog-api-key";class oC{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Qp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Qp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aC="gl-node/";class fo{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=tx(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new oC(this.apiKey);this.apiClient=new e1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:aC+"web",uploader:new nC,downloader:new KA}),this.models=new x1(this.apiClient),this.live=new m1(this.apiClient,r,new iC),this.batches=new RS(this.apiClient),this.chats=new fT(this.models,this.apiClient),this.caches=new rT(this.apiClient),this.files=new TT(this.apiClient),this.operations=new S1(this.apiClient),this.authTokens=new z1(this.apiClient),this.tunings=new JA(this.apiClient),this.fileSearchStores=new F1(this.apiClient)}}const Vu="https://api.alquran.cloud/v1",Qg="https://api.aladhan.com/v1",Zg=i=>{try{const t=i.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(t)}catch(t){throw console.error("JSON Parse Error",t,i),new Error("Invalid AI response format from server.")}},$g=()=>{try{return localStorage&&localStorage.getItem("noor_runtime_gemini_key")||void 0||"AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk"}catch{return"AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk"}},sC=async()=>{const i=await Wt.getSurahs();if(i.length>0)return i;try{const l=await(await fetch(`${Vu}/surah`)).json();return await Wt.saveSurahs(l.data),l.data}catch{return i}},Zp=async(i,t="ar.alafasy",l="en.sahih")=>{const a=await Wt.getSurahContent(i);if(a.length>0)return a;try{const[r,f]=await Promise.all([fetch(`${Vu}/surah/${i}/${t}`),fetch(`${Vu}/surah/${i}/${l}`)]);if(!r.ok||!f.ok)throw new Error(`API error: ${r.statusText||f.statusText}`);const m=await r.json(),p=await f.json();return m.data.ayahs.map((y,g)=>({...y,translation:p.data.ayahs[g].text}))}catch(r){return console.error(`Failed to fetch ayahs for surah ${i}:`,r),a}},$p=async i=>{var l,a;if(!i||i.length<2)return[];const t=$g();if(!t)throw new Error("API_KEY_MISSING");try{const f=await new fo({apiKey:t}).models.generateContent({model:"gemini-3-flash-preview",contents:`List 5 real-world cities or locations matching "${i}". Include the country name for clarity. Return only as a JSON string array.`,config:{responseMimeType:"application/json",responseSchema:{type:xt.ARRAY,items:{type:xt.STRING}}}});return Zg(f.text)}catch(r){if(console.error("Suggestion error",r),(l=r.message)!=null&&l.includes("API_KEY")||(a=r.message)!=null&&a.includes("not found"))throw new Error("API_KEY_MISSING");return[]}},rC=async i=>{var l,a;const t=$g();if(!t)throw new Error("API_KEY_MISSING");try{const f=await new fo({apiKey:t}).models.generateContent({model:"gemini-3-flash-preview",contents:`Find the precise coordinates (latitude, longitude) and official full name for the location: "${i}". Return the data as a JSON object with properties 'lat', 'lng', and 'name'.`,config:{responseMimeType:"application/json",responseSchema:{type:xt.OBJECT,properties:{lat:{type:xt.NUMBER},lng:{type:xt.NUMBER},name:{type:xt.STRING}},required:["lat","lng","name"]}}}),m=Zg(f.text);if(typeof m.lat!="number"||typeof m.lng!="number")throw new Error("Could not resolve coordinates for this location.");return m}catch(r){throw(l=r.message)!=null&&l.includes("API_KEY")||(a=r.message)!=null&&a.includes("not found")?new Error("API_KEY_MISSING"):r}},uC=async(i,t,l,a)=>{const r=`${Qg}/calendar?latitude=${l}&longitude=${a}&method=4&month=${t}&year=${i}`;try{const f=await fetch(r);if(!f.ok)throw new Error(`API returned ${f.status}`);const m=await f.json();return m.data&&Array.isArray(m.data)?m.data:m.data&&typeof m.data=="object"?Object.keys(m.data).sort((p,y)=>parseInt(p)-parseInt(y)).map(p=>m.data[p]):[]}catch(f){return console.error("fetchHijriCalendar failed:",f),[]}},Wu=async(i,t,l=4,a=0,r,f)=>{const m=new Date().toISOString().split("T")[0];let p=`${Qg}/timings?latitude=${i}&longitude=${t}&method=${l}&school=${a}`;if(r||f){const x=`${r||"null"},null,${f||"null"}`;p+=`&methodSettings=${x}`}const y=`${m}_${l}_${a}_${r||0}_${f||0}_${i.toFixed(2)}_${t.toFixed(2)}`,g=await Wt.getPrayerTimes(y);try{const T=await(await fetch(p)).json();if(!T.data)throw new Error("Invalid API response");const E=T.data.timings,A=T.data.date.hijri;return Wt.saveMonthlyPrayer(y,E),{times:E,hijriDate:`${A.day} ${A.month.en} ${A.year} AH`,hijriArabic:`${A.day} ${A.month.ar} ${A.year} `,locationName:T.data.meta.timezone,rawHijri:A}}catch(x){if(g)return{times:g,hijriDate:"Offline Mode",hijriArabic:"",locationName:"",rawHijri:null};throw x}},cC=[{id:"ar.alafasy",name:"Mishary Rashid Alafasy"},{id:"ar.abdulsamad",name:"Abdul Basit Abdus Samad"},{id:"ar.saoodshuraym",name:"Saood bin Ibrahim Ash-Shuraym"},{id:"ar.minshawi",name:"Mohamed Siddiq El-Minshawi"}],fC=[{id:"en.sahih",name:"English (Sahih Intl)"},{id:"bn.bengali",name:"Bengali (Muhiuddin Khan)"},{id:"ur.jalandhry",name:"Urdu (Fateh Muhammad Jalandhry)"},{id:"fr.hamidullah",name:"French (Hamidullah)"}],Ka=[{id:"makkah",name:"Makkah Adhan",muezzin:"Sheikh Ali Mullah",url:"https://www.islamcan.com/audio/adhan/azan1.mp3"},{id:"madinah",name:"Madinah Adhan",muezzin:"Sheikh Essam Bukhari",url:"https://www.islamcan.com/audio/adhan/azan2.mp3"},{id:"mishary",name:"Mishary Rashid",muezzin:"Sheikh Mishary Rashid Alafasy",url:"https://www.islamcan.com/audio/adhan/azan3.mp3"},{id:"alaqsa",name:"Al-Aqsa Adhan",muezzin:"Al-Aqsa Mosque",url:"https://www.islamcan.com/audio/adhan/azan4.mp3"},{id:"egypt",name:"Egyptian Adhan",muezzin:"Egyptian Style",url:"https://www.islamcan.com/audio/adhan/azan5.mp3"}],jp=["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-ula","Jumada al-akhira","Rajab","Sha'ban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],Wp=[{month:9,day:1,name:"Start of Ramadan",color:"bg-emerald-100 text-emerald-700"},{month:10,day:1,name:"Eid al-Fitr",color:"bg-amber-100 text-amber-700"},{month:12,day:10,name:"Eid al-Adha",color:"bg-sky-100 text-sky-700"},{month:1,day:10,name:"Ashura",color:"bg-rose-100 text-rose-700"},{month:7,day:27,name:"Isra' and Mi'raj",color:"bg-indigo-100 text-indigo-700"}],jg=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:2,name:"Islamic Society of North America (ISNA)"},{id:3,name:"Muslim World League (MWL)"},{id:4,name:"Umm Al-Qura University, Makkah"},{id:5,name:"Egyptian General Authority of Survey"},{id:7,name:"Institute of Geophysics, University of Tehran"},{id:8,name:"Gulf Region"},{id:9,name:"Kuwait"},{id:10,name:"Qatar"},{id:11,name:"Majlis Ugama Islam Singapura, Singapore"},{id:12,name:"Union Organization islamic de France"}],Wg=[{id:0,name:"Shafi (Standard)"},{id:1,name:"Hanafi"}];/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e0=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=J.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:m,...p},y)=>J.createElement("svg",{ref:y,...mC,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:e0("lucide",r),...p},[...m.map(([g,x])=>J.createElement(g,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(i,t)=>{const l=J.forwardRef(({className:a,...r},f)=>J.createElement(hC,{ref:f,iconNode:t,className:e0(`lucide-${dC(i)}`,a),...r}));return l.displayName=`${i}`,l};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=fe("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=fe("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=fe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=fe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=fe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=fe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=fe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=fe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=fe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=fe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=fe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=fe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=fe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=fe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qC=i=>{if(!i)return"--:--";const[t,l]=i.split(":").map(Number),a=t>=12?"PM":"AM";return`${t%12||12}:${l.toString().padStart(2,"0")} ${a}`},VC=({onNavigate:i,location:t,adhanSettings:l,isAudioReady:a})=>{var Z;const[r,f]=J.useState(null),[m,p]=J.useState(""),[y,g]=J.useState(""),[x,T]=J.useState(null),[E,A]=J.useState(""),[M,U]=J.useState(!1),[I,q]=J.useState(!1),Y=J.useRef(null),F=J.useMemo(()=>Ka.find(te=>te.id===l.voiceId)||Ka[0],[l.voiceId]);J.useEffect(()=>{t&&(U(!0),Wu(t.lat,t.lng,l.method,l.school).then(te=>{f(te.times),p(te.hijriDate||""),g(te.hijriArabic||""),z(te.times),U(!1)}).catch(()=>U(!1)))},[t,l.method,l.school]),J.useEffect(()=>{if(!x)return;const te=setInterval(()=>{const j=new Date,[ae,me]=x.time.split(":").map(Number),xe=new Date;xe.setHours(ae,me,0,0),xe<j&&xe.setDate(xe.getDate()+1);const he=xe.getTime()-j.getTime(),W=Math.floor(he/(1e3*60*60)),de=Math.floor(he%(1e3*60*60)/(1e3*60)),b=Math.floor(he%(1e3*60)/1e3);A(`${W}h ${de}m ${b}s`)},1e3);return()=>clearInterval(te)},[x]);const z=te=>{const j=new Date,ae=j.getHours()*60+j.getMinutes(),me=[{name:"Fajr",time:te.Fajr},{name:"Sunrise",time:te.Sunrise},{name:"Dhuhr",time:te.Dhuhr},{name:"Asr",time:te.Asr},{name:"Maghrib",time:te.Maghrib},{name:"Isha",time:te.Isha}];for(let xe of me){const[he,W]=xe.time.split(":").map(Number);if(he*60+W>ae){T(xe);return}}T(me[0])},Q=async()=>{if(Y.current)if(I)Y.current.pause(),q(!1);else try{const te=await Wt.getAdhanAudio(l.voiceId);Y.current.src=te?URL.createObjectURL(te):F.url,await Y.current.play(),q(!0)}catch{alert("Audio blocked. Ensure your device isn't on silent/mute mode.")}},K=m?m.split(" "):["--","...","----"];return v.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f2f6f4] relative",children:[v.jsx("audio",{ref:Y,onEnded:()=>q(!1),className:"hidden",crossOrigin:"anonymous"}),v.jsxs("div",{className:"fixed inset-0 z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#064e3b] via-[#065f46] to-[#f2f6f4]"}),v.jsx("div",{className:"absolute inset-0 opacity-[0.04] mix-blend-overlay",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/islamic-art.png')"}})]}),v.jsxs("div",{className:"relative z-10 flex flex-col",children:[v.jsxs("div",{className:"pt-14 pb-16 px-6 flex flex-col items-center text-center",children:[v.jsxs("div",{className:`flex items-center gap-3 mb-10 backdrop-blur-xl px-5 py-2.5 rounded-full border shadow-xl transition-all ${a?"bg-emerald-400/10 border-emerald-400/20 text-emerald-400":"bg-white/10 border-white/20 text-white"}`,children:[a?v.jsx(UC,{size:14}):v.jsx(gC,{size:14,className:"animate-pulse"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:a?"Engine Ready":"Monitoring"})]}),v.jsx("div",{className:"mb-14 w-full px-4",children:M?v.jsxs("div",{className:"flex flex-col items-center gap-4 py-20",children:[v.jsx(Tn,{className:"animate-spin text-white/50",size:40}),v.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Calculating Times..."})]}):t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-[11px] font-black uppercase tracking-[0.5em] text-emerald-400 mb-5",children:[(x==null?void 0:x.name)||"Syncing"," Adhan"]}),v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsx("h1",{className:"text-[6rem] sm:text-[7rem] font-black tracking-tighter text-white leading-none drop-shadow-2xl",children:x?qC(x.time).split(" ")[0]:"--:--"}),v.jsx("button",{onClick:Q,className:`p-4 rounded-full transition-all active:scale-90 flex items-center justify-center shadow-2xl ${I?"bg-amber-500 text-emerald-950 animate-pulse":"bg-white/10 text-white hover:bg-white/20"}`,children:I?v.jsx(GC,{size:24}):v.jsx(lc,{size:24})})]}),v.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[v.jsx("div",{className:"px-8 py-3.5 rounded-full bg-amber-500 text-emerald-950 shadow-2xl flex items-center gap-3 border border-amber-400/50 scale-105",children:v.jsx("span",{className:"text-xs font-black tracking-widest uppercase",children:E||"..."})}),v.jsxs("div",{className:"flex flex-col items-center gap-1 opacity-80",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(mo,{size:12,className:"text-white fill-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.3em]",children:(t==null?void 0:t.name)||"Searching..."})]}),v.jsxs("p",{className:"text-[8px] font-black text-emerald-300/60 uppercase tracking-widest mt-1",children:["Voice: ",F.name]})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center gap-6 py-10",children:[v.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-3xl flex items-center justify-center text-white",children:v.jsx(NC,{size:32})}),v.jsx("button",{onClick:()=>i(He.Adhan),className:"bg-amber-500 text-emerald-950 px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl active:scale-95",children:"Set Location"})]})})]}),v.jsx("div",{className:"px-6 -mt-10 mb-10",children:v.jsxs("div",{onClick:()=>i(He.Calendar),className:"bg-white p-7 rounded-[3rem] shadow-premium flex items-center justify-between border border-white relative overflow-hidden group cursor-pointer active:scale-[0.98] transition-all",children:[v.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[v.jsxs("div",{className:"w-16 h-16 rounded-[1.8rem] bg-emerald-950 flex flex-col items-center justify-center text-white shadow-xl",children:[v.jsx("span",{className:"text-xl font-black leading-none mb-0.5",children:K[0]||"--"}),v.jsx("span",{className:"text-[8px] uppercase font-black text-emerald-400 tracking-tighter",children:((Z=K[1])==null?void 0:Z.substring(0,3))||"..."})]}),v.jsxs("div",{className:"flex flex-col text-left",children:[v.jsx("h2",{className:"arabic-text text-2xl font-bold text-emerald-900 leading-none mb-2",children:y||" ..."}),v.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] flex items-center gap-1.5",children:m||"Determining Date"})]})]}),v.jsx("button",{className:"w-14 h-14 flex items-center justify-center bg-slate-50 text-emerald-900 rounded-3xl group-hover:bg-emerald-950 group-hover:text-white transition-all border border-slate-100",children:v.jsx(rl,{size:24})})]})}),v.jsx("div",{className:"bg-[#f2f6f4] rounded-t-[4rem] px-6 pt-4 pb-36 space-y-10",children:v.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[v.jsx(nl,{icon:v.jsx(ec,{size:24}),label:"Quran",onClick:()=>i(He.Quran),color:"bg-emerald-800"}),v.jsx(nl,{icon:v.jsx(SC,{size:24}),label:"Tasbih",onClick:()=>i(He.Tasbih),color:"bg-emerald-700"}),v.jsx(nl,{icon:v.jsx(CC,{size:24}),label:"Dua",onClick:()=>i(He.Dua),color:"bg-emerald-600"}),v.jsx(nl,{icon:v.jsx(TC,{size:24}),label:"Adhan",onClick:()=>i(He.Adhan),color:"bg-emerald-500"}),v.jsx(nl,{icon:v.jsx(n0,{size:24}),label:"Calendar",onClick:()=>i(He.Calendar),color:"bg-amber-600"}),v.jsx(nl,{icon:v.jsx(o0,{size:24}),label:"Qiblah",onClick:()=>i(He.Qiblah),color:"bg-emerald-400"})]})})]})]})},nl=({icon:i,label:t,onClick:l,color:a})=>v.jsxs("button",{onClick:l,className:"flex flex-col items-center gap-3 group",children:[v.jsx("div",{className:`w-full aspect-square rounded-[2.2rem] flex items-center justify-center text-white shadow-xl ${a} active:scale-90 transition-all group-hover:-translate-y-2 duration-500 border border-white/10`,children:i}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400 group-hover:text-emerald-900 transition-colors",children:t})]}),PC="   ",BC=({settings:i,onUpdateSettings:t})=>{var de;const[l,a]=J.useState([]),[r,f]=J.useState(null),[m,p]=J.useState([]),[y,g]=J.useState(!1),[x,T]=J.useState(null),[E,A]=J.useState(!1),[M,U]=J.useState(()=>{const b=localStorage.getItem("noor_bookmarks");return b?JSON.parse(b):[]}),[I,q]=J.useState(null),[Y,F]=J.useState(null),z=J.useRef(null),Q=J.useRef({});J.useEffect(()=>{sC().then(a)},[]),J.useEffect(()=>{r&&(g(!0),Q.current={},Zp(r.number,i.reciterId,i.translationId).then(b=>{p(b),g(!1)}))},[r,i.reciterId,i.translationId]),J.useEffect(()=>{var b;if(Y!==null){const G=(b=m[Y])==null?void 0:b.numberInSurah,$=Q.current[G];$&&$.scrollIntoView({behavior:"smooth",block:"center"})}},[Y,m]),J.useEffect(()=>{if(!y&&m.length>0&&I!==null){const b=setTimeout(()=>{const G=Q.current[I];G&&(G.scrollIntoView({behavior:"smooth",block:"center"}),G.style.transition="background-color 0.5s ease",G.style.backgroundColor="#ecfdf5",setTimeout(()=>{G.style.backgroundColor="white"},2e3),q(null))},500);return()=>clearTimeout(b)}},[m,y,I]),J.useEffect(()=>{localStorage.setItem("noor_bookmarks",JSON.stringify(M))},[M]);const K=()=>{t&&t({...i,showTranslation:!i.showTranslation})},Z=async(b,G)=>{if(b.stopPropagation(),G.isDownloaded){confirm(`Remove ${G.englishName} from offline storage?`)&&(await Wt.removeSurahContent(G.number),a(l.map($=>$.number===G.number?{...$,isDownloaded:!1}:$)));return}T(G.number);try{const $=await Zp(G.number,i.reciterId,i.translationId);await Wt.saveSurahContent(G.number,$),a(l.map(se=>se.number===G.number?{...se,isDownloaded:!0}:se))}catch{alert("Download failed. Check your connection.")}finally{T(null)}},te=b=>M.some(G=>G.surahNumber===(r==null?void 0:r.number)&&G.ayahNumber===b),j=b=>{if(!r)return;const G=M.findIndex($=>$.surahNumber===r.number&&$.ayahNumber===b.numberInSurah);if(G!==-1)U(M.filter(($,se)=>se!==G));else{const $={id:Date.now().toString(),surahNumber:r.number,surahName:r.englishName,ayahNumber:b.numberInSurah,timestamp:Date.now()};U([$,...M])}},ae=b=>{const G=l.find($=>$.number===b.surahNumber);G&&(q(b.ayahNumber),f(G),A(!1))},me=b=>{var G;Y===b?((G=z.current)==null||G.pause(),F(null)):(F(b),z.current&&(z.current.src=m[b].audio,z.current.play()))},xe=()=>{i.continuousPlay&&Y!==null&&Y<m.length-1?me(Y+1):F(null)},he=()=>{if(r&&r.number<114){const b=l.find(G=>G.number===r.number+1);b&&(f(b),window.scrollTo(0,0))}},W=(b,G)=>{if(b.numberInSurah===1&&G!==1&&G!==9){const se=b.text.trim().split(/\s+/);if(se.length>=4&&se[0].includes(""))return se.slice(4).join(" ").trim()}return b.text};return r?v.jsxs("div",{className:"bg-[#f8f6f0] min-h-screen flex flex-col pb-10",children:[v.jsxs("header",{className:"sticky top-0 bg-emerald-950 text-white p-5 flex items-center justify-between shadow-2xl z-20 rounded-b-[2.5rem]",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>f(null),className:"p-2 bg-white/10 rounded-2xl active:scale-90 transition-all",children:v.jsx(tc,{size:20})}),v.jsxs("div",{className:"max-w-[120px]",children:[v.jsx("h2",{className:"font-black text-xl tracking-tight truncate",children:r.englishName}),v.jsx("p",{className:"text-[10px] text-emerald-400 font-black uppercase tracking-[0.2em] truncate",children:r.name})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:K,className:`p-3 rounded-2xl transition-all border border-white/10 flex items-center gap-2 ${i.showTranslation?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"bg-white/5 text-emerald-400"}`,title:"Toggle Translation",children:[v.jsx(s0,{size:18}),v.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest hidden sm:inline",children:"Translate"})]}),v.jsxs("button",{onClick:()=>A(!0),className:"p-3 bg-white/10 rounded-2xl active:scale-90 transition-all border border-white/5 relative",children:[v.jsx(Cu,{size:18}),M.length>0&&v.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-emerald-500 rounded-full border border-emerald-950"})]})]})]}),v.jsx("div",{className:"flex-1 p-5 space-y-8 max-w-lg mx-auto w-full",children:y?v.jsxs("div",{className:"flex flex-col items-center justify-center p-24 space-y-6",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-[2rem] flex items-center justify-center shadow-xl",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-800"})}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-900",children:"Fetching Ayahs..."})]}):v.jsxs(v.Fragment,{children:[r.number!==1&&r.number!==9&&v.jsxs("div",{className:"py-10 text-center animate-in fade-in zoom-in duration-700",children:[v.jsx("p",{className:"arabic-text text-4xl text-emerald-900/80 font-bold",style:{fontFamily:i.fontFamily},children:PC}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-emerald-200 to-transparent"})})]}),m.map((b,G)=>{const $=W(b,r.number),se=te(b.numberInSurah),pe=Y===G;return v.jsxs("div",{ref:N=>{Q.current[b.numberInSurah]=N},className:`p-7 rounded-[3rem] transition-all duration-500 border ${pe?"bg-emerald-50 border-emerald-300 shadow-2xl scale-[1.02] ring-4 ring-emerald-500/10":"bg-white border-white/50 shadow-premium"} ${se?"border-amber-200":""}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-[12px] font-black shadow-lg transition-colors ${pe?"bg-emerald-600 text-white":"bg-emerald-900 text-white"}`,children:b.numberInSurah}),v.jsx("button",{onClick:()=>j(b),className:`${se?"text-amber-500":"text-slate-200"} transition-all p-2 hover:scale-110 active:scale-95`,children:v.jsx(Cu,{size:18,fill:se?"currentColor":"none"})})]}),v.jsxs("button",{onClick:()=>me(G),className:`p-4 rounded-2xl transition-all active:scale-90 border flex items-center gap-2 ${pe?"bg-emerald-600 text-white border-emerald-400":"bg-emerald-50 text-emerald-800 border-emerald-100/50"}`,children:[pe?v.jsx(r0,{size:18,fill:"currentColor"}):v.jsx(u0,{size:18,fill:"currentColor"}),pe&&v.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest animate-pulse",children:"Playing"})]})]}),v.jsx("p",{className:"arabic-text text-right mb-6 leading-[2.6] font-bold text-slate-900 transition-all",style:{fontSize:`${i.fontSize}px`,fontFamily:i.fontFamily},children:$}),i.showTranslation&&v.jsx("div",{className:"text-slate-500 text-sm font-medium leading-relaxed italic border-t border-slate-50 pt-6 animate-in slide-in-from-top-2 duration-300",children:b.translation})]},`${r.number}_${b.numberInSurah}`)}),r.number<114&&v.jsxs("button",{onClick:he,className:"w-full bg-emerald-950 text-white p-8 rounded-[3.5rem] flex items-center justify-between group active:scale-[0.98] transition-all shadow-2xl shadow-emerald-950/40 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-transparent"}),v.jsxs("div",{className:"relative z-10 text-left",children:[v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500 mb-2",children:"Continue Journey"}),v.jsx("h4",{className:"font-black text-2xl tracking-tight",children:(de=l.find(b=>b.number===r.number+1))==null?void 0:de.englishName})]}),v.jsx("div",{className:"relative z-10 bg-white/10 p-5 rounded-3xl group-hover:bg-white/20 transition-all group-hover:translate-x-1",children:v.jsx(rl,{size:28})})]})]})}),v.jsx("audio",{ref:z,onEnded:xe,className:"hidden"}),E&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-end justify-center",onClick:()=>A(!1),children:v.jsxs("div",{className:"bg-[#f8f6f0] w-full max-w-lg rounded-t-[4rem] p-10 h-[75vh] flex flex-col shadow-2xl border-t border-white/20",onClick:b=>b.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h3",{className:"text-2xl font-black tracking-tighter",children:"Bookmarks"}),v.jsx("button",{onClick:()=>A(!1),className:"p-3 bg-white rounded-full shadow-sm",children:v.jsx(ho,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pb-10 no-scrollbar",children:M.length===0?v.jsx("div",{className:"text-center py-20",children:v.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-[10px]",children:"Your journey starts here"})}):M.map(b=>v.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] flex items-center justify-between border border-white/50 shadow-premium hover:border-emerald-200 active:scale-95 transition-all",children:[v.jsxs("button",{onClick:()=>ae(b),className:"flex-1 text-left",children:[v.jsx("h4",{className:"font-black text-slate-800 tracking-tight",children:b.surahName}),v.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:["Ayah ",b.ayahNumber,"  ",new Date(b.timestamp).toLocaleDateString()]})]}),v.jsx("button",{onClick:()=>U(M.filter(G=>G.id!==b.id)),className:"text-rose-300 p-3 hover:bg-rose-50 hover:text-rose-500 rounded-2xl transition-all",children:v.jsx(ic,{size:18})})]},b.id))})]})})]}):v.jsxs("div",{className:"p-4 sm:p-6 bg-[#f2f6f4] min-h-screen pb-32",children:[v.jsxs("div",{className:"flex justify-between items-center mb-10 px-2",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Holy Quran"}),v.jsxs("button",{onClick:()=>A(!0),className:"p-4 bg-white text-emerald-900 rounded-[1.8rem] shadow-premium relative border border-white/50 group active:scale-90 transition-all",children:[v.jsx(Cu,{size:24}),M.length>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-amber-500 text-white text-[11px] flex items-center justify-center rounded-full font-black border-2 border-white shadow-lg",children:M.length})]})]}),v.jsx("div",{className:"space-y-4 px-1 pb-20",children:l.map(b=>{const G=M.filter($=>$.surahNumber===b.number).length;return v.jsxs("button",{onClick:()=>f(b),className:"w-full bg-white p-4 sm:p-6 rounded-[2.8rem] border border-white/50 shadow-premium flex items-center gap-3 sm:gap-5 text-left active:scale-[0.97] transition-all group hover:border-emerald-100 overflow-hidden",children:[v.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 shrink-0 rounded-[1.5rem] sm:rounded-3xl flex items-center justify-center font-black text-base sm:text-lg shadow-inner transition-all ${b.isDownloaded?"bg-emerald-900 text-white":"bg-emerald-50 text-emerald-800"}`,children:b.number}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-base sm:text-lg truncate mb-0.5 sm:mb-1",children:b.englishName}),v.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 font-black uppercase tracking-widest truncate",children:b.englishNameTranslation})]}),v.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 shrink-0",children:[v.jsxs("div",{className:"text-right flex flex-col items-end",children:[v.jsx("p",{className:"arabic-text font-black text-xl sm:text-2xl text-emerald-950 leading-none mb-1",children:b.name}),G>0&&v.jsxs("span",{className:"text-[7px] sm:text-[8px] bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-black uppercase tracking-tighter shadow-sm whitespace-nowrap",children:[G," SAVED"]})]}),v.jsx("button",{onClick:$=>Z($,b),className:`p-2 rounded-xl transition-all ${b.isDownloaded?"text-emerald-600 bg-emerald-50":"text-slate-300 hover:text-emerald-500 bg-slate-50"}`,children:x===b.number?v.jsx(Tn,{size:16,className:"animate-spin"}):b.isDownloaded?v.jsx(xC,{size:16}):v.jsx(_C,{size:16})})]})]},b.number)})})]})},OC=()=>{const[i,t]=J.useState("list"),[l,a]=J.useState(()=>{const W=localStorage.getItem("noor_dhikr_list");return W?JSON.parse(W):[]}),[r,f]=J.useState(null),[m,p]=J.useState(""),[y,g]=J.useState(""),[x,T]=J.useState(33),[E,A]=J.useState(),[M,U]=J.useState(!1),[I,q]=J.useState(!1),[Y,F]=J.useState(!1),z=J.useRef(null),Q=J.useRef(null);J.useEffect(()=>{z.current=new Audio("https://www.soundjay.com/buttons/sounds/button-16.mp3"),Q.current=new Audio("https://www.soundjay.com/buttons/sounds/button-30.mp3")},[]),J.useEffect(()=>{localStorage.setItem("noor_dhikr_list",JSON.stringify(l))},[l]);const K=J.useMemo(()=>l.find(W=>W.id===r),[l,r]),Z=()=>{r&&(z.current&&(z.current.currentTime=0,z.current.play().catch(()=>{})),a(W=>W.map(de=>{var b;if(de.id===r){const G=de.completedCount+1;return G===de.targetCount&&(navigator.vibrate&&navigator.vibrate([150,50,150]),(b=Q.current)==null||b.play().catch(()=>{})),{...de,completedCount:G}}return de})))},te=W=>{confirm("Reset progress for this item?")&&a(de=>de.map(b=>b.id===W?{...b,completedCount:0}:b))},j=(W,de)=>{W.preventDefault(),W.stopPropagation(),window.confirm("Remove this Dhikr from your daily list?")&&a(b=>b.filter(G=>G.id!==de))},ae=async()=>{const W=window.SpeechRecognition||window.webkitSpeechRecognition;if(!W){alert("Speech recognition not supported.");return}const de=new W;de.lang="en-US",de.onstart=()=>q(!0),de.onend=()=>q(!1),de.onresult=async b=>{var $,se;const G=b.results[0][0].transcript;U(!0);try{const pe="AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk",B=await new fo({apiKey:pe}).models.generateContent({model:"gemini-3-flash-preview",contents:`Convert this Dhikr description into classical Arabic text only. Transcript: "${G}"`});g((($=B.text)==null?void 0:$.trim())||""),m||p(G)}catch(pe){if(console.error("AI Error",pe),(pe==null?void 0:pe.message)==="API_KEY_MISSING"&&(se=window==null?void 0:window.aistudio)!=null&&se.openSelectKey)try{await window.aistudio.openSelectKey(),F(!1)}catch{}}finally{U(!1)}},de.start()},me=W=>{var b;const de=(b=W.target.files)==null?void 0:b[0];if(de){const G=new FileReader;G.onloadend=async()=>{var se,pe;const $=G.result.split(",")[1];A(G.result),U(!0);try{const N="AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk",ee=await new fo({apiKey:N}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:$,mimeType:de.type}},{text:"Extract the Arabic Dhikr text from this image."}]}});g(((se=ee.text)==null?void 0:se.trim())||"")}catch(N){if(console.error("AI Error",N),(N==null?void 0:N.message)==="API_KEY_MISSING"&&(pe=window==null?void 0:window.aistudio)!=null&&pe.openSelectKey)try{await window.aistudio.openSelectKey(),F(!1)}catch{}}finally{U(!1)}},G.readAsDataURL(de)}},xe=()=>{if(!m&&!y)return;const W={id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:m||"Daily Dhikr",arabicText:y,targetCount:x,completedCount:0,image:E,date:new Date().toLocaleDateString()};a([W,...l]),t("list"),he()},he=()=>{p(""),g(""),T(33),A(void 0)};if(i==="counter"&&K){const W=Math.min(K.completedCount/K.targetCount*100,100);return v.jsxs("div",{className:"flex flex-col min-h-screen bg-[#060a08] text-white animate-in fade-in duration-500",children:[v.jsxs("header",{className:"p-6 flex justify-between items-center bg-black/40 backdrop-blur-md",children:[v.jsx("button",{onClick:()=>t("list"),className:"p-3 bg-white/5 rounded-2xl active:scale-90 transition-all",children:v.jsx(tc,{size:20})}),v.jsxs("div",{className:"text-center px-4 truncate",children:[v.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em] text-emerald-500 truncate",children:K.title}),v.jsxs("p",{className:"text-[9px] font-bold text-white/30 tracking-widest",children:[K.completedCount," / ",K.targetCount]})]}),v.jsx("button",{onClick:()=>te(K.id),className:"p-3 bg-white/5 rounded-2xl active:scale-90 transition-all",children:v.jsx(RC,{size:20,className:"text-rose-400"})})]}),v.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 pb-20",children:[v.jsx("div",{className:"w-full text-center mb-12 px-4",children:K.image?v.jsx("div",{className:"w-full h-40 rounded-3xl overflow-hidden border border-emerald-500/20 shadow-2xl mb-4",children:v.jsx("img",{src:K.image,className:"w-full h-full object-cover",alt:"Dhikr"})}):v.jsx("p",{className:"arabic-text text-4xl text-emerald-50 drop-shadow-[0_0_15px_rgba(16,185,129,0.3)] leading-relaxed font-bold",children:K.arabicText||K.title})}),v.jsxs("div",{className:"relative w-72 h-72 flex items-center justify-center mb-16",children:[v.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[v.jsx("circle",{cx:"50%",cy:"50%",r:"46%",fill:"none",stroke:"rgba(255,255,255,0.03)",strokeWidth:"8"}),v.jsx("circle",{cx:"50%",cy:"50%",r:"46%",fill:"none",stroke:"#10b981",strokeWidth:"12",strokeDasharray:"289%",strokeDashoffset:`${289*(1-W/100)}%`,strokeLinecap:"round",className:"transition-all duration-500 ease-out",strokeOpacity:.9})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"text-8xl font-black tabular-nums tracking-tighter text-emerald-50 block",children:K.completedCount}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-emerald-900 bg-emerald-400/10 px-4 py-1.5 rounded-full",children:"Taps"})]})]}),v.jsxs("button",{onClick:Z,className:"w-64 h-64 rounded-full bg-gradient-to-tr from-emerald-950 via-emerald-800 to-emerald-600 shadow-[0_20px_100px_-20px_rgba(16,185,129,0.6)] active:scale-90 transition-all duration-75 flex items-center justify-center border-4 border-white/5 relative group overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-white/5 group-active:bg-transparent"}),v.jsx("span",{className:"text-3xl font-black text-white drop-shadow-md uppercase tracking-[0.2em]",children:"Tasbih"})]})]})]})}return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsxs("header",{className:"flex justify-between items-end mb-10 px-2",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(n0,{size:14,className:"text-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]}),v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:"My Dhikr"})]}),v.jsx("button",{onClick:()=>t("add"),className:"p-5 bg-emerald-950 text-white rounded-[2.5rem] shadow-2xl active:scale-95 transition-all border border-white/5 flex items-center gap-3",children:v.jsx(c0,{size:24})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-premium border border-white flex flex-col gap-1",children:[v.jsx(HC,{size:16,className:"text-emerald-500 mb-1"}),v.jsx("span",{className:"text-xl font-black text-slate-800 tabular-nums",children:l.reduce((W,de)=>W+de.completedCount,0)}),v.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Total Taps"})]}),v.jsxs("div",{className:"bg-emerald-900 p-6 rounded-[2.5rem] shadow-xl text-white flex flex-col gap-1",children:[v.jsx(zC,{size:16,className:"text-emerald-400 mb-1"}),v.jsx("span",{className:"text-xl font-black tabular-nums",children:l.filter(W=>W.completedCount>=W.targetCount).length}),v.jsx("span",{className:"text-[9px] font-black text-emerald-400/60 uppercase tracking-widest",children:"Finished"})]})]}),v.jsx("div",{className:"space-y-4",children:l.length===0?v.jsxs("div",{className:"py-20 flex flex-col items-center text-center px-10",children:[v.jsx("div",{className:"w-20 h-20 bg-white rounded-[2.5rem] flex items-center justify-center shadow-premium mb-6",children:v.jsx(po,{size:32,className:"text-emerald-200"})}),v.jsx("p",{className:"text-slate-400 font-bold text-sm leading-relaxed italic",children:"Add your daily targets to stay consistent."})]}):l.map(W=>{const de=Math.min(W.completedCount/W.targetCount*100,100);return v.jsx("div",{onClick:()=>{f(W.id),t("counter")},className:"group relative bg-white p-6 rounded-[2.8rem] shadow-premium border border-white active:scale-[0.98] transition-all cursor-pointer overflow-hidden",children:v.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[v.jsx("div",{className:`w-14 h-14 rounded-3xl flex items-center justify-center transition-all ${de>=100?"bg-emerald-600 text-white":"bg-emerald-50 text-emerald-800"}`,children:de>=100?v.jsx(i0,{size:24}):v.jsxs("span",{className:"text-xs font-black",children:[Math.round(de),"%"]})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-lg truncate mb-1",children:W.title}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest tabular-nums",children:[W.completedCount," / ",W.targetCount]}),v.jsx("div",{className:"h-1.5 flex-1 bg-slate-50 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${de}%`}})})]})]}),v.jsx("button",{type:"button",onPointerDown:b=>j(b,W.id),className:"p-4 text-slate-300 hover:text-rose-500 transition-colors bg-slate-50 rounded-2xl active:scale-90",title:"Remove Dhikr",children:v.jsx(ic,{size:16})})]})},W.id)})}),i==="add"&&v.jsx("div",{className:"fixed inset-0 bg-emerald-950/40 backdrop-blur-md z-[100] flex items-end justify-center p-4 animate-in fade-in",onClick:()=>{M||t("list")},children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-[4rem] p-8 shadow-2xl animate-in slide-in-from-bottom border-t border-white",onClick:W=>W.stopPropagation(),children:[v.jsxs("header",{className:"flex justify-between items-center mb-10",children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"New Goal"}),v.jsx("button",{onClick:()=>t("list"),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto no-scrollbar pb-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] block mb-3 ml-2",children:"Name"}),v.jsx("input",{value:m,onChange:W=>p(W.target.value),placeholder:"e.g. Istighfar",className:"w-full bg-slate-50 border border-slate-100 rounded-[1.8rem] p-5 text-sm font-bold outline-none"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:ae,className:`p-6 rounded-[2.5rem] border-2 border-dashed flex flex-col items-center gap-3 transition-all ${I?"bg-rose-50 border-rose-200":"bg-slate-50 border-slate-100"}`,children:[v.jsx(wC,{size:24,className:I?"animate-pulse text-rose-500":"text-slate-300"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Voice to Arabic"})]}),v.jsxs("div",{className:"relative group cursor-pointer",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:me,className:"absolute inset-0 opacity-0 cursor-pointer z-10"}),v.jsxs("div",{className:"p-6 rounded-[2.5rem] bg-slate-50 border-2 border-dashed border-slate-100 flex flex-col items-center gap-3",children:[v.jsx(a0,{size:24,className:"text-slate-300"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Image to Arabic"})]})]})]}),(y||M)&&v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-[2.5rem] border border-emerald-100 relative",children:[M&&v.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center z-10",children:v.jsx(Tn,{size:24,className:"animate-spin text-emerald-600"})}),v.jsx("textarea",{value:y,onChange:W=>g(W.target.value),className:"w-full bg-transparent border-none text-right arabic-text text-3xl font-bold resize-none h-24"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-4 ml-2",children:"Target"}),v.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-6 rounded-[2rem]",children:[v.jsx("input",{type:"range",min:"1",max:"1000",step:"1",value:x,onChange:W=>T(parseInt(W.target.value)),className:"flex-1 accent-emerald-600"}),v.jsx("span",{className:"text-xl font-black text-emerald-950 tabular-nums w-16 text-right",children:x})]})]}),v.jsx("button",{onClick:xe,disabled:M||!m&&!y,className:"w-full bg-emerald-950 text-white p-7 rounded-[2.8rem] font-black uppercase tracking-[0.2em] shadow-xl disabled:opacity-30",children:"Create Daily Goal"})]})]})})]})},tg=i=>{if(!i)return"--:--";const[t,l]=i.split(":").map(Number),a=t>=12?"PM":"AM";return`${t%12||12}:${l.toString().padStart(2,"0")} ${a}`},FC=({location:i,settings:t,onUpdateSettings:l,onUpdateLocation:a})=>{var ge;const[r,f]=J.useState(null),[m,p]=J.useState(!!i),[y,g]=J.useState("times"),[x,T]=J.useState(null),[E,A]=J.useState([]),[M,U]=J.useState(null),[I,q]=J.useState(null),Y=J.useRef(null),[F,z]=J.useState(!i),[Q,K]=J.useState(""),[Z,te]=J.useState([]),[j,ae]=J.useState(!1),[me,xe]=J.useState(!1),[he,W]=J.useState(null),[de,b]=J.useState(!1),G=J.useRef(null);J.useEffect(()=>(Wt.getAllDownloadedAdhanIds().then(A),()=>{Y.current&&(Y.current.pause(),Y.current.removeAttribute("src"),Y.current.load())}),[]),J.useEffect(()=>{i&&(p(!0),Wu(i.lat,i.lng,t.method,t.school,t.fajrAngle,t.ishaAngle).then(X=>{f(X.times),p(!1)}).catch(()=>{p(!1)}))},[i,t.method,t.school,t.fajrAngle,t.ishaAngle]);const $=J.useMemo(()=>r?[{name:"Fajr",time:r.Fajr,icon:""},{name:"Sunrise",time:r.Sunrise,icon:""},{name:"Dhuhr",time:r.Dhuhr,icon:""},{name:"Asr",time:r.Asr,icon:""},{name:"Maghrib",time:r.Maghrib,icon:""},{name:"Isha",time:r.Isha,icon:""}]:[],[r]),se=J.useMemo(()=>{if(!r)return{current:null,next:null};const X=new Date,re=X.getHours()*60+X.getMinutes();let Ie="Isha",Ge=0;const Bt=$.map(je=>{const[en,yi]=je.time.split(":").map(Number);return en*60+yi});for(let je=0;je<Bt.length;je++)re>=Bt[je]&&(Ie=$[je].name,Ge=(je+1)%$.length);return re<Bt[0]&&(Ie="Isha",Ge=0),{current:Ie,next:$[Ge]}},[$,r]);J.useEffect(()=>{if(!se.next)return;const X=()=>{const Ie=new Date,[Ge,Bt]=se.next.time.split(":").map(Number),je=new Date;je.setHours(Ge,Bt,0,0),je<Ie&&je.setDate(je.getDate()+1);const en=je.getTime()-Ie.getTime(),yi=Math.floor(en/(1e3*60*60)),tn=Math.floor(en%(1e3*60*60)/(1e3*60)),dl=Math.floor(en%(1e3*60)/1e3);T({name:se.next.name,time:se.next.time,remaining:`${yi}h ${tn}m ${dl}s`})};X();const re=setInterval(X,1e3);return()=>clearInterval(re)},[se]),J.useEffect(()=>{if(G.current&&window.clearTimeout(G.current),!Q||Q.length<2){te([]);return}return xe(!0),G.current=window.setTimeout(async()=>{try{const X=await $p(Q);te(X),b(!1)}catch(X){X.message==="API_KEY_MISSING"&&b(!0)}finally{xe(!1)}},600),()=>{G.current&&window.clearTimeout(G.current)}},[Q]);const pe=(X,re)=>{if(Y.current){if(I===X){Y.current.pause(),q(null);return}q(X),Y.current.pause(),Y.current.src=re,Y.current.load(),Y.current.play().catch(()=>q(null))}},N=async X=>{ae(!0),W(null);try{const re=await rC(X);a({...re,isManual:!0}),z(!1),K(""),te([])}catch(re){re.message==="API_KEY_MISSING"?b(!0):W(re.message||"Failed to find coordinates for this location.")}finally{ae(!1)}},B=async()=>{Q.trim()&&N(Q)},ee=()=>{ae(!0),W(null),navigator.geolocation.getCurrentPosition(X=>{a({lat:X.coords.latitude,lng:X.coords.longitude,name:"Current Location",isManual:!1}),z(!1),ae(!1)},()=>{W("Location access denied or GPS disabled."),ae(!1)},{timeout:1e4})},le=async()=>{var X;if((X=window.aistudio)!=null&&X.openSelectKey&&(await window.aistudio.openSelectKey(),b(!1),Q.length>=2))try{const re=await $p(Q);te(re)}catch(re){console.error("Retry failed",re)}};return m?v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-screen bg-[#f2f6f4]",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600 mb-4",size:40}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em]",children:"Adjusting Angles..."})]}):v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsx("audio",{ref:Y,onEnded:()=>q(null),className:"hidden"}),v.jsx("header",{className:"mb-8 px-2",children:v.jsxs("div",{className:"flex justify-between items-end mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter mb-1",children:"Adhan"}),v.jsxs("button",{onClick:()=>{W(null),z(!0)},className:"flex items-center gap-2 text-emerald-600 group",children:[v.jsx(mo,{size:12,fill:"currentColor",className:"group-hover:animate-bounce"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:(i==null?void 0:i.name)||"Set Location"})]})]}),v.jsxs("div",{className:"flex bg-white p-1.5 rounded-[1.8rem] shadow-premium border border-white",children:[v.jsx("button",{onClick:()=>g("times"),className:`px-5 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="times"?"bg-emerald-800 text-white shadow-lg":"text-slate-400"}`,children:"Times"}),v.jsx("button",{onClick:()=>g("calc"),className:`px-5 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="calc"?"bg-emerald-800 text-white shadow-lg":"text-slate-400"}`,children:"Config"})]})]})}),y==="times"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[x&&v.jsxs("div",{className:"bg-emerald-950 rounded-[3rem] p-8 mb-4 text-white shadow-2xl relative overflow-hidden group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-400 block mb-2",children:["Up Next: ",x.name]}),v.jsxs("div",{className:"flex items-baseline gap-3",children:[v.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:tg(x.time)}),v.jsx("span",{className:"text-xs text-emerald-100/60 font-black uppercase tracking-widest",children:x.remaining})]})]})]}),$.map(X=>{const re=X.name===se.current,Ie=t.notifications[X.name];return v.jsxs("div",{className:`flex items-center gap-5 p-6 rounded-[2.8rem] transition-all ${re?"bg-emerald-700 text-white shadow-xl scale-[1.02]":"bg-white text-slate-800 border border-white"}`,children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-black/5 flex items-center justify-center text-xl",children:X.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:X.name}),v.jsx("p",{className:"text-xl font-black tracking-tight",children:tg(X.time)})]}),X.name!=="Sunrise"&&v.jsx("button",{onClick:()=>l({...t,notifications:{...t.notifications,[X.name]:!Ie}}),className:`p-3 rounded-xl transition-all ${Ie?"text-amber-400 bg-black/10":"text-slate-200 bg-slate-50"}`,children:Ie?v.jsx(yC,{size:18,fill:"currentColor"}):v.jsx(pC,{size:18})})]},X.name)}),v.jsxs("button",{onClick:()=>g("voices"),className:"w-full bg-white p-7 rounded-[2.5rem] border border-white flex items-center justify-between group active:scale-[0.98] transition-all mt-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center",children:v.jsx(lc,{size:24})}),v.jsxs("div",{className:"text-left",children:[v.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] tracking-widest",children:"Adhan Voice"}),v.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["Current: ",(ge=Ka.find(X=>X.id===t.voiceId))==null?void 0:ge.name]})]})]}),v.jsx(rl,{className:"text-slate-200 group-hover:translate-x-1 transition-transform"})]})]}),y==="calc"&&v.jsx("div",{className:"space-y-8 animate-in slide-in-from-right duration-500",children:v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] shadow-premium border border-white space-y-8",children:[v.jsxs("header",{className:"flex items-center gap-3 mb-2",children:[v.jsx(t0,{className:"text-emerald-600",size:20}),v.jsx("h2",{className:"font-black text-lg tracking-tight",children:"Calculation Engine"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Method"}),v.jsx("select",{value:t.method,onChange:X=>l({...t,method:parseInt(X.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none ring-2 ring-transparent focus:ring-emerald-500/20 transition-all",children:jg.map(X=>v.jsx("option",{value:X.id,children:X.name},X.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Jurist School (Asr)"}),v.jsx("div",{className:"flex bg-slate-50 p-1.5 rounded-2xl",children:Wg.map(X=>v.jsx("button",{onClick:()=>l({...t,school:X.id}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${t.school===X.id?"bg-white text-emerald-900 shadow-sm":"text-slate-400"}`,children:X.name},X.id))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Fajr Angle"}),v.jsx("input",{type:"number",step:"0.1",value:t.fajrAngle||18,onChange:X=>l({...t,fajrAngle:parseFloat(X.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Isha Angle"}),v.jsx("input",{type:"number",step:"0.1",value:t.ishaAngle||18,onChange:X=>l({...t,ishaAngle:parseFloat(X.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]})]})]}),v.jsxs("div",{className:"p-5 bg-amber-50 rounded-[2rem] flex gap-4",children:[v.jsx(co,{size:18,className:"text-amber-600 shrink-0"}),v.jsx("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed",children:"Adjusting angles is recommended only for high-latitude regions or specific local requirements."})]})]})}),y==="voices"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[v.jsx("button",{onClick:()=>g("times"),className:"p-2 bg-white rounded-xl shadow-sm text-slate-400",children:v.jsx(ho,{size:18})}),v.jsx("h2",{className:"font-black text-xl tracking-tight",children:"Adhan Voices"})]}),Ka.map(X=>{const re=t.voiceId===X.id,Ie=I===X.id;return v.jsxs("div",{className:`p-6 rounded-[2.5rem] border transition-all flex flex-col gap-4 ${re?"bg-emerald-900 text-white border-emerald-950":"bg-white border-white shadow-premium"}`,children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-black text-base",children:X.name}),v.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${re?"text-emerald-300":"text-slate-400"}`,children:X.muezzin})]}),v.jsx("button",{onClick:()=>pe(X.id,X.url),className:`p-4 rounded-2xl transition-all ${Ie?"bg-amber-500 text-white":re?"bg-white/10 text-white":"bg-slate-50 text-emerald-600"}`,children:Ie?v.jsx(r0,{size:18,fill:"currentColor"}):v.jsx(u0,{size:18,fill:"currentColor"})})]}),!re&&v.jsx("button",{onClick:()=>l({...t,voiceId:X.id}),className:"w-full py-4 bg-emerald-950/10 text-emerald-900 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-950 hover:text-white transition-all",children:"Select Voice"})]},X.id)})]}),F&&v.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-xl z-[200] flex items-end justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-[4rem] p-8 shadow-2xl animate-in slide-in-from-bottom duration-500 relative flex flex-col max-h-[90vh]",children:[v.jsxs("header",{className:"flex justify-between items-center mb-6 shrink-0",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"Location Finder"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"AI Assisted Search"})]}),v.jsx("button",{onClick:()=>z(!1),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-5 overflow-y-auto no-scrollbar pb-10",children:[de&&v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-5 rounded-[2.2rem] flex flex-col gap-4 animate-in zoom-in duration-300",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx(po,{size:18,className:"text-amber-600 shrink-0"}),v.jsx("p",{className:"text-[11px] font-black text-amber-900 uppercase tracking-tight",children:"AI Activation Required"})]}),v.jsx("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed",children:"To use the Smart Location Finder, please select an API key from your project."}),v.jsx("button",{onClick:le,className:"bg-emerald-900 text-white py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg active:scale-95",children:"Select API Key"}),v.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",className:"text-center text-[8px] font-black text-amber-600/50 underline uppercase",children:"Billing Documentation"})]}),he&&v.jsxs("div",{className:"bg-rose-50 border border-rose-100 p-4 rounded-3xl flex gap-3 animate-in fade-in slide-in-from-top-2",children:[v.jsx(co,{size:16,className:"text-rose-600 shrink-0 mt-0.5"}),v.jsx("p",{className:"text-[10px] font-bold text-rose-800 leading-tight",children:he})]}),v.jsxs("div",{className:"relative group",children:[v.jsx("input",{value:Q,onChange:X=>{K(X.target.value),W(null)},placeholder:"e.g. London, UK",className:"w-full bg-slate-50 border-2 border-transparent rounded-[2rem] p-5 pr-16 text-sm font-bold outline-none focus:bg-white focus:border-emerald-500/20 transition-all shadow-inner",onKeyPress:X=>X.key==="Enter"&&B()}),v.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[me&&v.jsx(Tn,{size:16,className:"animate-spin text-emerald-600 mr-2"}),v.jsx("button",{onClick:B,disabled:j||!Q,className:"p-3.5 bg-emerald-950 text-white rounded-2xl disabled:opacity-30 transition-all active:scale-90",children:j?v.jsx(Tn,{size:18,className:"animate-spin"}):v.jsx(d0,{size:18})})]})]}),Z.length>0&&v.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300 shadow-xl shadow-slate-200/50",children:[v.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest p-4 pb-2",children:"Did you mean?"}),Z.map((X,re)=>v.jsxs("button",{onClick:()=>N(X),className:"w-full text-left p-5 hover:bg-emerald-50 transition-colors flex items-center justify-between group border-b border-slate-50 last:border-0",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white transition-colors",children:v.jsx(mo,{size:16,className:"text-slate-400 group-hover:text-emerald-600"})}),v.jsx("span",{className:"text-sm font-black text-slate-700",children:X})]}),v.jsx(rl,{size:14,className:"text-slate-200 group-hover:translate-x-1 transition-transform"})]},re))]}),v.jsxs("div",{className:"flex items-center gap-4 py-2",children:[v.jsx("div",{className:"h-px flex-1 bg-slate-100"}),v.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"or use sensors"}),v.jsx("div",{className:"h-px flex-1 bg-slate-100"})]}),v.jsxs("button",{onClick:ee,disabled:j,className:"w-full bg-white border-2 border-emerald-900 text-emerald-950 p-6 rounded-[2.2rem] font-black uppercase tracking-widest flex items-center justify-center gap-3 active:scale-[0.98] transition-all shadow-xl shadow-emerald-900/5",children:[j?v.jsx(Tn,{size:20,className:"animate-spin"}):v.jsx(EC,{size:20}),"Pinpoint via GPS"]})]})]})})]})},YC=({location:i})=>{const[t,l]=J.useState(new Date),[a,r]=J.useState([]),[f,m]=J.useState(!0),[p,y]=J.useState(null),[g,x]=J.useState(null),T=t.toLocaleDateString("en-US",{month:"long"}),E=t.getFullYear(),A=async()=>{if(!i){m(!1);return}m(!0),x(null);try{const z=await uC(E,t.getMonth()+1,i.lat,i.lng);if(!z||z.length===0)throw new Error("Calendar service temporarily unavailable.");r(z);const Q=await Wu(i.lat,i.lng,4);y(Q.rawHijri)}catch(z){console.error("Calendar load error:",z),x("Failed to synchronize lunar dates.")}finally{m(!1)}};J.useEffect(()=>{A()},[t,i]);const M=()=>l(new Date(t.getFullYear(),t.getMonth()-1)),U=()=>l(new Date(t.getFullYear(),t.getMonth()+1)),I=J.useMemo(()=>{var z;if(a&&a.length>0){const Q=a[Math.floor(a.length/2)],K=((z=Q==null?void 0:Q.date)==null?void 0:z.hijri)||(Q==null?void 0:Q.hijri);if(K!=null&&K.month)return{en:`${K.month.en} ${K.year} AH`,ar:`${K.month.ar} ${K.year} `}}return{en:"Lunar Calendar",ar:" "}},[a]),q=(z,Q)=>{var me;if(!((me=p==null?void 0:p.month)!=null&&me.number)||!(p!=null&&p.day))return null;const K=parseInt(p.month.number),Z=parseInt(p.day),te=(K-1)*29.53+Z;let ae=(z-1)*29.53+Q-te;return ae<-1&&(ae+=354.36),Math.max(0,Math.floor(ae))},Y=["SUN","MON","TUE","WED","THU","FRI","SAT"],F=new Date(t.getFullYear(),t.getMonth(),1).getDay();return!i&&!f?v.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-screen text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-[2rem] flex items-center justify-center mb-6",children:v.jsx(co,{size:40,className:"text-amber-500"})}),v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-2",children:"Location Required"}),v.jsx("p",{className:"text-sm text-slate-400 font-medium mb-8 px-10",children:"Please set your location in Adhan settings to view the Islamic calendar."})]}):v.jsxs("div",{className:"p-6 bg-[#f8f9f8] min-h-screen pb-32",children:[v.jsxs("header",{className:"flex justify-between items-start mb-8",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none mb-3",children:"Islamic Calendar"}),v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-emerald-900 text-emerald-50 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest shadow-lg shadow-emerald-900/10",children:I.en}),v.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[T," ",E]})]}),v.jsx("p",{className:"arabic-text text-xl font-bold text-emerald-800 leading-none mt-1",children:I.ar})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:M,className:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm active:scale-95 transition-all text-emerald-800 hover:bg-emerald-50",children:v.jsx(tc,{size:20})}),v.jsx("button",{onClick:U,className:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm active:scale-95 transition-all text-emerald-800 hover:bg-emerald-50",children:v.jsx(rl,{size:20})})]})]}),f?v.jsxs("div",{className:"h-96 bg-white rounded-[3rem] shadow-premium flex flex-col items-center justify-center border border-white",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600",size:40}),v.jsx("div",{className:"absolute inset-0 bg-emerald-100 rounded-full animate-ping opacity-20"})]}),v.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Syncing Moon Phases..."})]}):g?v.jsxs("div",{className:"h-96 bg-white rounded-[3rem] shadow-premium flex flex-col items-center justify-center border border-white p-10 text-center",children:[v.jsx(co,{className:"text-rose-400 mb-4",size:32}),v.jsx("p",{className:"text-sm font-bold text-slate-600 mb-6",children:g}),v.jsxs("button",{onClick:A,className:"flex items-center gap-2 bg-emerald-900 text-white px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest",children:[v.jsx(f0,{size:14})," Retry Sync"]})]}):v.jsxs("div",{className:"bg-white rounded-[3rem] p-8 shadow-2xl shadow-slate-200 border border-slate-50 relative overflow-hidden",children:[v.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-emerald-50 rounded-full blur-3xl opacity-50"}),v.jsx("div",{className:"grid grid-cols-7 mb-8 relative z-10 border-b border-slate-50 pb-4",children:Y.map((z,Q)=>v.jsx("div",{className:"text-center text-[10px] font-black text-slate-300 tracking-widest",children:z},Q))}),v.jsxs("div",{className:"grid grid-cols-7 gap-y-3 relative z-10",children:[Array.from({length:F}).map((z,Q)=>v.jsx("div",{className:"h-16"},`p-${Q}`)),a.map((z,Q)=>{var xe,he;const K=Q+1,Z=K===new Date().getDate()&&t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear(),te=((xe=z==null?void 0:z.date)==null?void 0:xe.hijri)||(z==null?void 0:z.hijri),j=te==null?void 0:te.day,ae=parseInt(((he=te==null?void 0:te.month)==null?void 0:he.number)||"0"),me=Wp.some(W=>W.month===ae&&W.day===parseInt(j||"0"));return v.jsxs("div",{className:`relative h-16 flex flex-col items-center justify-center rounded-[1.5rem] transition-all cursor-pointer ${Z?"bg-emerald-800 text-white shadow-xl shadow-emerald-900/30 scale-105 z-10":"hover:bg-emerald-50"}`,children:[v.jsx("span",{className:`text-sm font-black ${Z?"text-white":"text-slate-700"}`,children:K}),v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx("span",{className:`text-[9px] font-black ${Z?"text-emerald-200":"text-emerald-500"}`,children:j||"--"}),v.jsx("span",{className:`arabic-text text-[10px] font-bold ${Z?"text-emerald-300/80":"text-slate-300"}`,children:j?parseInt(j).toLocaleString("ar-SA"):""})]}),me&&!Z&&v.jsx("div",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-amber-500 rounded-full ring-2 ring-white"}),Z&&v.jsx("div",{className:"absolute -top-1 -right-1",children:v.jsx(po,{size:12,className:"text-amber-400 animate-pulse"})})]},K)})]})]}),v.jsxs("div",{className:"mt-12 space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2",children:[v.jsx("div",{className:"w-1.5 h-5 bg-emerald-600 rounded-full"}),v.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:"Upcoming Observances"})]}),!p&&!f&&!g&&v.jsxs("div",{className:"bg-amber-50 p-5 rounded-[2rem] border border-amber-100 flex items-center gap-4 text-amber-700 text-xs font-bold shadow-sm",children:[v.jsx(co,{size:18,className:"shrink-0"}),v.jsx("p",{children:"Syncing event countdowns with your current location..."})]}),v.jsx("div",{className:"grid grid-cols-1 gap-4",children:Wp.map((z,Q)=>{var Z;const K=q(z.month,z.day);return v.jsxs("div",{className:"bg-white p-6 rounded-[2.8rem] border border-slate-100 flex items-center gap-6 shadow-sm hover:shadow-md transition-all group active:scale-[0.98]",children:[v.jsxs("div",{className:`w-14 h-14 rounded-3xl flex flex-col items-center justify-center font-black transition-transform group-hover:scale-110 shadow-sm ${z.color}`,children:[v.jsx("span",{className:"text-base",children:z.day}),v.jsx("span",{className:"text-[8px] uppercase tracking-wider",children:(Z=jp[z.month-1])==null?void 0:Z.substring(0,3)})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-black text-slate-800 text-lg tracking-tight mb-0.5 group-hover:text-emerald-900 transition-colors",children:z.name}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:jp[z.month-1]}),K!==null&&v.jsx("span",{className:`text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-tighter shadow-sm ${K<15?"bg-rose-100 text-rose-700":K<45?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:K===0?"Blessed Day":`${K} days left`})]})]}),v.jsx("div",{className:"text-slate-100 group-hover:text-emerald-500 transition-colors",children:v.jsx(rl,{size:24})})]},Q)})})]})]})},JC=[{id:"1",title:"Dua for Knowledge",arabicText:"  ",translation:"My Lord, increase me in knowledge.",benefit:"Seeking wisdom and clarity in learning.",targetCount:33,currentCount:0},{id:"2",title:"Dua for Forgiveness",arabicText:" ",translation:"I seek forgiveness from Allah.",benefit:"Cleansing the heart and seeking mercy.",targetCount:100,currentCount:0}],KC=({onRecite:i})=>{const[t,l]=J.useState(()=>{const z=localStorage.getItem("noor_duas");return z?JSON.parse(z):JC}),[a,r]=J.useState(!1),[f,m]=J.useState(""),[p,y]=J.useState(""),[g,x]=J.useState(""),[T,E]=J.useState(""),[A,M]=J.useState(33),[U,I]=J.useState();J.useEffect(()=>{localStorage.setItem("noor_duas",JSON.stringify(t))},[t]);const q=z=>{var K;const Q=(K=z.target.files)==null?void 0:K[0];if(Q){const Z=new FileReader;Z.onloadend=()=>I(Z.result),Z.readAsDataURL(Q)}},Y=()=>{if(!f)return;const z={id:Date.now().toString(),title:f,arabicText:p,translation:g,benefit:T,targetCount:A,currentCount:0,image:U};l([z,...t]),r(!1),F()},F=()=>{m(""),y(""),x(""),E(""),M(33),I(void 0)};return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-32",children:[v.jsxs("header",{className:"flex justify-between items-center mb-10",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(ec,{size:14,className:"text-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Library"})]}),v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Supplications"})]}),v.jsx("button",{onClick:()=>r(!0),className:"p-5 bg-emerald-950 text-white rounded-[2rem] shadow-2xl active:scale-95 transition-all",children:v.jsx(c0,{size:24})})]}),v.jsx("div",{className:"space-y-6",children:t.map(z=>v.jsxs("div",{className:"bg-white rounded-[3rem] p-8 border border-white shadow-premium relative group hover:shadow-2xl transition-all",children:[v.jsxs("div",{className:"flex items-start justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-1.5 h-8 bg-emerald-600 rounded-full"}),v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-xl",children:z.title})]}),v.jsx("button",{onClick:()=>l(t.filter(Q=>Q.id!==z.id)),className:"p-3 text-slate-200 hover:text-rose-400 transition-all",children:v.jsx(ic,{size:18})})]}),z.image?v.jsx("div",{className:"w-full h-52 bg-slate-50 rounded-[2.5rem] mb-6 overflow-hidden border border-slate-100 shadow-inner group-hover:scale-[1.01] transition-transform",children:v.jsx("img",{src:z.image,className:"w-full h-full object-cover",alt:"Dua"})}):v.jsx("p",{className:"arabic-text text-4xl text-right mb-8 leading-relaxed text-emerald-950 font-bold",children:z.arabicText}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("p",{className:"text-sm text-slate-600 font-medium leading-relaxed italic bg-slate-50/50 p-5 rounded-[2rem]",children:['"',z.translation,'"']}),z.benefit&&v.jsxs("div",{className:"bg-emerald-50 p-5 rounded-[2rem] border border-emerald-100/50 flex gap-4",children:[v.jsx(po,{size:16,className:"text-emerald-600 shrink-0"}),v.jsx("p",{className:"text-[11px] text-emerald-900 font-medium leading-relaxed",children:z.benefit})]})]}),v.jsxs("button",{onClick:()=>i({title:z.title,text:z.arabicText||z.translation,target:z.targetCount,image:z.image}),className:"w-full bg-emerald-600 text-white py-5 rounded-[2.2rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-emerald-600/20 active:scale-95 transition-all flex items-center justify-center gap-3",children:[v.jsx(l0,{size:22})," Recite in Tasbih"]})]},z.id))}),a&&v.jsx("div",{className:"fixed inset-0 bg-emerald-950/40 backdrop-blur-md z-[100] flex items-end justify-center p-4 animate-in fade-in",onClick:()=>r(!1),children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-[4rem] p-10 animate-in slide-in-from-bottom duration-500",onClick:z=>z.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"Add to Library"}),v.jsx("button",{onClick:()=>r(!1),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-5 h-[50vh] overflow-y-auto no-scrollbar pb-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Title"}),v.jsx("input",{value:f,onChange:z=>m(z.target.value),placeholder:"e.g. Protection Dua",className:"w-full bg-slate-50 border border-slate-100 rounded-[1.5rem] p-4 text-sm font-bold outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Arabic"}),v.jsx("textarea",{value:p,onChange:z=>y(z.target.value),rows:2,className:"w-full bg-slate-50 border border-slate-100 rounded-[1.5rem] p-4 text-2xl arabic-text text-right outline-none"})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-100 rounded-[2.5rem] p-6 text-center cursor-pointer relative hover:border-emerald-200 transition-all",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"absolute inset-0 opacity-0 cursor-pointer"}),U?v.jsx("img",{src:U,className:"w-20 h-20 rounded-xl object-cover"}):v.jsxs("div",{className:"text-slate-300 flex flex-col items-center gap-2",children:[v.jsx(a0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Add Picture"})]})]}),v.jsxs("button",{onClick:Y,className:"w-full bg-emerald-950 text-white p-6 rounded-[2rem] font-black uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all",children:[v.jsx(i0,{size:20})," Save Library"]})]})]})})]})},XC=({location:i})=>{const[t,l]=J.useState(0),[a,r]=J.useState(0),[f,m]=J.useState(!1);J.useEffect(()=>{i&&r(((x,T)=>{const E=x*Math.PI/180,A=T*Math.PI/180,M=21.4225*Math.PI/180,U=39.8262*Math.PI/180,I=Math.sin(U-A),q=Math.cos(E)*Math.tan(M)-Math.sin(E)*Math.cos(U-A);return(Math.atan2(I,q)*180/Math.PI+360)%360})(i.lat,i.lng));const y=g=>{const x=g.webkitCompassHeading||360-(g.alpha||0);x!==void 0&&(l(x),m(!0))};return window.addEventListener("deviceorientation",y),()=>window.removeEventListener("deviceorientation",y)},[i]);const p=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&window.addEventListener("deviceorientation",()=>{})}catch(y){console.error("Permission error",y)}};return v.jsxs("div",{className:"p-6 bg-[#08120d] min-h-screen text-white flex flex-col items-center",children:[v.jsxs("header",{className:"w-full flex justify-between items-center mb-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-black text-emerald-400 tracking-tighter leading-none",children:"Qiblah Finder"}),v.jsx("p",{className:"text-[10px] text-emerald-800 font-black uppercase tracking-widest mt-1",children:"Holy Direction"})]}),v.jsx("button",{onClick:p,className:"p-3 bg-white/5 rounded-2xl border border-white/10",children:v.jsx(MC,{size:18,className:"text-emerald-500"})})]}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 text-center animate-in fade-in duration-700",children:v.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/40 backdrop-blur-md px-4 py-2 rounded-full border border-emerald-500/20",children:[v.jsx(mo,{size:12,className:"text-emerald-400"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Makkah, Saudi Arabia"})]})}),v.jsxs("div",{className:"relative w-80 h-80 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 border-4 border-emerald-900/20 rounded-full"}),v.jsx("div",{className:"absolute inset-8 border border-white/5 rounded-full"}),v.jsxs("div",{className:"relative w-full h-full transition-transform duration-100 ease-out",style:{transform:`rotate(${-t}deg)`},children:[v.jsx("span",{className:"absolute top-4 left-1/2 -translate-x-1/2 text-sm font-black text-rose-500",children:"N"}),v.jsx("span",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm font-black text-slate-500",children:"S"}),v.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-black text-slate-500",children:"W"}),v.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-black text-slate-500",children:"E"}),[...Array(36)].map((y,g)=>v.jsx("div",{className:"absolute top-0 left-1/2 h-full border-l border-white/10",style:{transform:`translateX(-50%) rotate(${g*10}deg)`}},g)),v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center pt-10",style:{transform:`rotate(${a}deg)`},children:[v.jsx("div",{className:"w-1.5 h-20 bg-emerald-400 rounded-full shadow-[0_0_20px_rgba(16,185,129,0.8)] relative",children:v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:v.jsx(o0,{size:24,fill:"#10b981"})})}),v.jsx("div",{className:"mt-4 bg-emerald-500 text-black text-[9px] font-black uppercase px-2 py-1 rounded",children:"QIBLAH"})]})]}),v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -mt-4",children:v.jsx("div",{className:"w-1 h-8 bg-white/20 rounded-full"})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:v.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-xl"})})]}),v.jsxs("div",{className:"mt-12 text-center",children:[v.jsxs("h2",{className:"text-4xl font-black text-white mb-2",children:[Math.round(a),""]}),v.jsx("p",{className:"text-[10px] text-emerald-500 font-black uppercase tracking-[0.2em]",children:"Relative to True North"})]})]}),v.jsx("div",{className:"w-full bg-white/5 rounded-[2.5rem] p-6 border border-white/10 mb-8",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"p-3 bg-emerald-900/40 rounded-2xl",children:v.jsx(nc,{className:"text-emerald-400",size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-white leading-relaxed",children:"To get the most accurate result, place your device on a flat surface away from metal objects or magnetic fields."}),!f&&v.jsx("p",{className:"text-[10px] text-rose-400 font-black uppercase tracking-widest mt-2",children:"Calibrate your compass or allow sensor access"})]})]})})]})},QC=({location:i})=>{const[t,l]=J.useState([]),[a,r]=J.useState(!1),[f,m]=J.useState("masjid"),[p,y]=J.useState(!1),g=async T=>{var E,A,M,U;if(i){r(!0),m(T);try{const I="AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk",q=new fo({apiKey:I}),Y=T==="masjid"?"Find the 5 closest and best-rated Masjids or Islamic centers near me.":"Find the 5 best-rated and most popular Halal restaurants nearby.",Q=(((M=(A=(E=(await q.models.generateContent({model:"gemini-2.5-flash",contents:Y,config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:{latitude:i.lat,longitude:i.lng}}}}})).candidates)==null?void 0:E[0])==null?void 0:A.groundingMetadata)==null?void 0:M.groundingChunks)||[]).filter(K=>K.maps).map(K=>({title:K.maps.title,uri:K.maps.uri,address:K.maps.address||"Near you"}));if(Q.length>0){l(Q);return}await x(T)}catch(I){if(console.error("Explore failed",I),(I==null?void 0:I.message)==="API_KEY_MISSING"&&(U=window==null?void 0:window.aistudio)!=null&&U.openSelectKey)try{await window.aistudio.openSelectKey(),y(!1)}catch{}}finally{r(!1)}}},x=async T=>{const E="AIzaSyBaS9kB5XWJS4_-86BKWZ_ZDqKmWHuS6sk";try{const A=`${i.lat},${i.lng}`,M=T==="masjid"?"mosque":"restaurant",U=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${encodeURIComponent(A)}&radius=5000&type=${M}&keyword=${T==="halal"?"halal":""}&key=${encodeURIComponent(E)}`,q=await(await fetch(U)).json();if(!q.results)return;const Y=q.results.slice(0,5).map(F=>({title:F.name,uri:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(F.name)}&query_place_id=${F.place_id}`,address:F.vicinity||"Nearby"}));l(Y)}catch(A){console.error("Places fallback failed",A)}};return J.useEffect(()=>{i&&g("masjid")},[i]),v.jsxs("div",{className:"p-6 bg-slate-50 min-h-screen pb-32",children:[v.jsxs("header",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none mb-2",children:"Explore Nearby"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Find sacred places & halal food"})]}),v.jsxs("div",{className:"flex bg-white p-1.5 rounded-[2rem] border border-slate-100 shadow-sm mb-8",children:[v.jsxs("button",{onClick:()=>g("masjid"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-[1.5rem] text-xs font-black uppercase tracking-widest transition-all ${f==="masjid"?"bg-emerald-900 text-white shadow-lg shadow-emerald-900/20":"text-slate-400"}`,children:[v.jsx(Pu,{size:16})," Masjids"]}),v.jsxs("button",{onClick:()=>g("halal"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-[1.5rem] text-xs font-black uppercase tracking-widest transition-all ${f==="halal"?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"text-slate-400"}`,children:[v.jsx(eg,{size:16})," Halal Food"]})]}),a?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-in fade-in zoom-in duration-500",children:[v.jsxs("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-xl mb-6 relative",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600",size:32}),v.jsx("div",{className:"absolute inset-0 rounded-full animate-ping bg-emerald-100/50"})]}),v.jsx("p",{className:"text-[10px] font-black text-emerald-900 uppercase tracking-widest",children:"Scanning local area..."})]}):v.jsxs("div",{className:"space-y-4",children:[p&&v.jsxs("div",{className:"bg-amber-50 p-4 rounded-2xl border border-amber-100 mb-4 text-center",children:[v.jsx("p",{className:"font-bold text-amber-700 mb-2",children:"AI Activation Required"}),v.jsx("p",{className:"text-xs text-amber-600 mb-2",children:"To use the Smart Location Finder, select an API key from your AI Studio project or set `VITE_GEMINI_API_KEY` in your deployment secrets."}),v.jsxs("ul",{className:"text-xs text-amber-600 list-disc list-inside mb-3",children:[v.jsx("li",{children:"Local dev: add `.env.local` with `VITE_GEMINI_API_KEY=YOUR_KEY`"}),v.jsx("li",{children:"Deployed: add `VITE_GEMINI_API_KEY` in GitHub Actions secrets"})]}),v.jsxs("div",{className:"flex justify-center gap-3",children:[v.jsx("button",{onClick:()=>{var T,E;return(E=(T=window==null?void 0:window.aistudio)==null?void 0:T.openSelectKey)==null?void 0:E.call(T)},className:"bg-amber-600 text-white px-4 py-2 rounded-full font-black text-xs",children:"Select API Key"}),v.jsx("button",{onClick:()=>{var T;return(T=navigator.clipboard)==null?void 0:T.writeText("VITE_GEMINI_API_KEY=YOUR_KEY")},className:"bg-white border border-amber-600 text-amber-600 px-4 py-2 rounded-full font-black text-xs",children:"Copy Env Example"})]})]}),t.length===0?v.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] text-center border border-slate-100",children:[v.jsx(d0,{size:40,className:"mx-auto text-slate-200 mb-4"}),v.jsx("p",{className:"text-sm font-bold text-slate-500",children:"No places found in this area."}),v.jsx("button",{onClick:()=>g(f),className:"mt-4 text-emerald-600 font-black uppercase text-[10px] tracking-widest",children:"Try Again"})]}):t.map((T,E)=>v.jsxs("a",{href:T.uri,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 flex items-center gap-5 shadow-sm active:scale-95 transition-all group",children:[v.jsx("div",{className:`w-14 h-14 rounded-3xl flex items-center justify-center ${f==="masjid"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:f==="masjid"?v.jsx(Pu,{size:22}):v.jsx(eg,{size:22})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight leading-tight truncate mb-1",children:T.title}),v.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:[v.jsx(mo,{size:10,className:"text-rose-500"}),v.jsx("span",{className:"truncate",children:T.address})]})]}),v.jsx("div",{className:"text-slate-200 group-hover:text-emerald-500 transition-colors",children:v.jsx(AC,{size:20})})]},E))]}),v.jsx("div",{className:"mt-10 bg-emerald-50 p-6 rounded-[2.5rem] border border-emerald-100",children:v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx(nc,{className:"text-emerald-600 shrink-0",size:20}),v.jsx("div",{children:v.jsx("p",{className:"text-xs font-bold text-emerald-900 leading-relaxed",children:"Results are generated using Google Maps real-time data. Ratings and popularity are factored in for the best recommendations."})})]})})]})},ZC=({settings:i,onSave:t})=>{const[l,a]=J.useState(i),[r,f]=J.useState(()=>{try{return localStorage.getItem("noor_runtime_gemini_key")||""}catch{return""}}),m=p=>{a({...l,adhan:{...l.adhan,notifications:{...l.adhan.notifications,[p]:!l.adhan.notifications[p]}}})};return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsxs("header",{className:"flex justify-between items-center mb-10 px-2",children:[v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:"Preferences"}),v.jsxs("button",{onClick:()=>{t(l),alert("Settings saved successfully.")},className:"bg-emerald-950 text-white px-8 py-4 rounded-3xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all flex items-center gap-2",children:[v.jsx(IC,{size:18})," Save"]})]}),v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(vC,{size:14})," Quranic Experience"]}),v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:()=>a({...l,quran:{...l.quran,continuousPlay:!l.quran.continuousPlay}}),className:`p-5 rounded-[2rem] border flex flex-col items-center gap-3 transition-all ${l.quran.continuousPlay?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-slate-100 text-slate-400"}`,children:[v.jsx(l0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Auto Play"})]}),v.jsxs("button",{onClick:()=>a({...l,quran:{...l.quran,showTranslation:!l.quran.showTranslation}}),className:`p-5 rounded-[2rem] border flex flex-col items-center gap-3 transition-all ${l.quran.showTranslation?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-slate-100 text-slate-400"}`,children:[v.jsx(s0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Translation"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Preferred Qari"}),v.jsx("select",{value:l.quran.reciterId,onChange:p=>a({...l,quran:{...l.quran,reciterId:p.target.value}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:cC.map(p=>v.jsx("option",{value:p.id,children:p.name},p.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Translation"}),v.jsx("select",{value:l.quran.translationId,onChange:p=>a({...l,quran:{...l.quran,translationId:p.target.value}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:fC.map(p=>v.jsx("option",{value:p.id,children:p.name},p.id))})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-4 ml-2 flex justify-between",children:[v.jsx("span",{children:"Font Size"}),v.jsxs("span",{className:"text-emerald-600 font-black",children:[l.quran.fontSize,"px"]})]}),v.jsx("input",{type:"range",min:"16",max:"42",step:"1",value:l.quran.fontSize,onChange:p=>a({...l,quran:{...l.quran,fontSize:parseInt(p.target.value)}}),className:"w-full accent-emerald-600"})]})]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(t0,{size:14})," Calculation & Precision"]}),v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium space-y-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Adhan Alerts"}),v.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Fajr","Dhuhr","Asr","Maghrib","Isha"].map(p=>v.jsxs("button",{onClick:()=>m(p),className:`p-4 rounded-2xl flex items-center justify-between transition-all border ${l.adhan.notifications[p]?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-transparent text-slate-300"}`,children:[v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:p}),v.jsx("div",{className:`w-2 h-2 rounded-full ${l.adhan.notifications[p]?"bg-emerald-500":"bg-slate-200"}`})]},p))})]}),v.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Method"}),v.jsx("select",{value:l.adhan.method,onChange:p=>a({...l,adhan:{...l.adhan,method:parseInt(p.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:jg.map(p=>v.jsx("option",{value:p.id,children:p.name},p.id))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Fajr Angle"}),v.jsx("input",{type:"number",step:"0.1",value:l.adhan.fajrAngle||18,onChange:p=>a({...l,adhan:{...l.adhan,fajrAngle:parseFloat(p.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Isha Angle"}),v.jsx("input",{type:"number",step:"0.1",value:l.adhan.ishaAngle||18,onChange:p=>a({...l,adhan:{...l.adhan,ishaAngle:parseFloat(p.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Asr Juristic School"}),v.jsx("div",{className:"flex bg-slate-50 p-1 rounded-2xl",children:Wg.map(p=>v.jsx("button",{onClick:()=>a({...l,adhan:{...l.adhan,school:p.id}}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l.adhan.school===p.id?"bg-white text-emerald-900 shadow-sm":"text-slate-400"}`,children:p.name},p.id))})]})]})]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(LC,{size:14})," Interaction"]}),v.jsx("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium",children:v.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full p-5 bg-slate-50 rounded-2xl flex items-center justify-center gap-3 active:scale-95 transition-all group",children:[v.jsx(f0,{size:16,className:"text-slate-400 group-hover:rotate-180 transition-transform duration-500"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Sync Local Database"})]})})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(nc,{size:14})," AI & Location"]}),v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium space-y-6",children:[v.jsx("p",{className:"text-sm text-slate-500",children:"The Smart Location Finder and AI features require a Google Generative AI / Maps API key at build time. For quick local testing you can set a runtime key below (stored in your browser only)."}),v.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[v.jsx("input",{value:r,onChange:p=>f(p.target.value),placeholder:"Paste runtime key here (local only)",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl p-4 text-sm font-bold outline-none"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>{try{localStorage.setItem("noor_runtime_gemini_key",r),alert("Runtime key saved. Refresh the page to apply.")}catch{alert("Failed to save key")}},className:"bg-emerald-950 text-white px-4 py-3 rounded-2xl font-black text-xs",children:"Save Runtime Key"}),v.jsx("button",{onClick:()=>{f(""),localStorage.removeItem("noor_runtime_gemini_key")},className:"bg-slate-50 border border-slate-200 px-4 py-3 rounded-2xl font-black text-xs",children:"Clear"}),v.jsx("button",{onClick:()=>{var p,y;return(y=(p=window==null?void 0:window.aistudio)==null?void 0:p.openSelectKey)==null?void 0:y.call(p)},className:"ml-auto bg-amber-600 text-white px-4 py-3 rounded-2xl font-black text-xs",children:"Select AI Key"})]}),v.jsx("div",{className:"text-xs text-slate-400",children:v.jsxs("p",{children:["Deployment hint: Add ",v.jsx("code",{children:"VITE_GEMINI_API_KEY"})," to your CI secrets (GitHub Actions) and enable Maps/Generative AI in the Cloud Console."]})})]})]})]}),v.jsxs("footer",{className:"text-center px-10",children:[v.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.5em] mb-4",children:"Noor Companion v1.2"}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"}),v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"}),v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"})]})]})]})]})},$C={quran:{fontSize:24,fontFamily:"Amiri",translationId:"en.sahih",reciterId:"ar.alafasy",continuousPlay:!0,showTranslation:!0},adhan:{voiceId:"makkah",styleId:"full",method:4,school:0,fajrAngle:18,ishaAngle:18,notifications:{Fajr:!0,Dhuhr:!0,Asr:!0,Maghrib:!0,Isha:!0}},tasbihTarget:33},jC="data:audio/wav;base64,UklGRjIAAABXQVZFVG10IBAAAAABAAEAIlYAAClVGAAAgAAAAAABAAgAZGF0YRAAAACAgICAgICAgICAgICAgICA=",WC=()=>{const[i,t]=J.useState(He.Home),[l,a]=J.useState(!1),[r,f]=J.useState(!1),[m,p]=J.useState(()=>{const E=localStorage.getItem("noor_settings");return E?JSON.parse(E):$C}),[y,g]=J.useState(()=>{const E=localStorage.getItem("noor_location");return E?JSON.parse(E):null}),x=J.useRef(null);J.useEffect(()=>{(async()=>{try{await Wt.init()}catch(A){console.warn("DB init error",A)}finally{a(!0),typeof window.hideAppLoader=="function"&&window.hideAppLoader()}y||navigator.geolocation.getCurrentPosition(A=>{const M={lat:A.coords.latitude,lng:A.coords.longitude,name:"Current Location",isManual:!1};g(M),localStorage.setItem("noor_location",JSON.stringify(M))},()=>console.log("Location access denied"),{timeout:1e4})})()},[y]),J.useEffect(()=>{localStorage.setItem("noor_settings",JSON.stringify(m))},[m]);const T=async()=>{f(!0);const E=x.current;if(E)try{const A=window.AudioContext||window.webkitAudioContext;if(A){const U=new A;U.state==="suspended"&&await U.resume()}E.src=jC,E.load();const M=E.play();M!==void 0&&await M}catch(A){console.warn("Audio unlock silent play skipped:",A)}};return l?v.jsxs("div",{className:"max-w-md mx-auto bg-slate-50 min-h-screen relative shadow-2xl flex flex-col font-['Plus_Jakarta_Sans'] select-none overflow-hidden",children:[v.jsx("audio",{ref:x,style:{position:"absolute",opacity:0,pointerEvents:"none"},preload:"auto",crossOrigin:"anonymous"}),!r&&v.jsxs("div",{className:"fixed inset-0 z-[2000] bg-[#064e3b] flex flex-col items-center justify-center p-10 text-center animate-in fade-in duration-500",children:[v.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/islamic-art.png')"}}),v.jsxs("div",{className:"relative z-10 mb-12",children:[v.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-[2.5rem] flex items-center justify-center mx-auto border border-white/20 shadow-2xl animate-bounce",children:v.jsx(lc,{size:40,className:"text-emerald-400"})}),v.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter mt-8 mb-4",children:"Noor Companion"}),v.jsx("p",{className:"text-emerald-100/60 text-sm font-medium leading-relaxed px-4",children:"Tap to synchronize the Adhan engine and view the Arabic calendar for your location."})]}),v.jsxs("button",{onClick:T,className:"relative z-10 w-full bg-white text-[#064e3b] py-6 px-12 rounded-[2.5rem] font-black text-sm uppercase tracking-[0.3em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3",children:[v.jsx(po,{size:18,className:"animate-pulse"}),"Bismillah"]}),v.jsxs("p",{className:"mt-8 text-white/30 text-[9px] font-black uppercase tracking-widest flex items-center gap-2",children:[v.jsx(kC,{size:12}),"Secure Audio Protocol"]})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32",children:[i===He.Home&&v.jsx(VC,{onNavigate:t,location:y,adhanSettings:m.adhan,isAudioReady:r}),i===He.Quran&&v.jsx(BC,{settings:m.quran,onUpdateSettings:E=>p({...m,quran:E})}),i===He.Tasbih&&v.jsx(OC,{}),i===He.Adhan&&v.jsx(FC,{location:y,settings:m.adhan,onUpdateSettings:E=>p({...m,adhan:E}),onUpdateLocation:g}),i===He.Calendar&&v.jsx(YC,{location:y}),i===He.Dua&&v.jsx(KC,{onRecite:()=>t(He.Tasbih)}),i===He.Qiblah&&v.jsx(XC,{location:y}),i===He.Explore&&v.jsx(QC,{location:y}),i===He.Settings&&v.jsx(ZC,{settings:m,onSave:p})]}),v.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[92%] max-w-[360px] bg-emerald-950/90 backdrop-blur-2xl rounded-[2.5rem] p-2 flex items-center justify-around shadow-2xl border border-white/10 z-[100]",children:[v.jsx(Ga,{active:i===He.Home,onClick:()=>t(He.Home),icon:v.jsx(bC,{size:20}),label:"Home"}),v.jsx(Ga,{active:i===He.Quran,onClick:()=>t(He.Quran),icon:v.jsx(ec,{size:20}),label:"Quran"}),v.jsx(Ga,{active:i===He.Explore,onClick:()=>t(He.Explore),icon:v.jsx(Pu,{size:20}),label:"Explore"}),v.jsx(Ga,{active:i===He.Settings,onClick:()=>t(He.Settings),icon:v.jsx(DC,{size:20}),label:"Config"})]})]}):null},Ga=({active:i,onClick:t,icon:l,label:a})=>v.jsxs("button",{onClick:t,className:`flex flex-col items-center gap-1 p-3.5 rounded-[1.8rem] transition-all duration-500 ease-out active:scale-90 ${i?"bg-emerald-500 text-white shadow-xl shadow-emerald-500/20":"text-emerald-500/40 hover:text-emerald-400"}`,children:[l,v.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${i?"block opacity-100 translate-y-0":"hidden opacity-0 translate-y-1"}`,children:a})]}),m0=document.getElementById("root");if(!m0)throw new Error("Could not find root element to mount to");const eb=Xv.createRoot(m0);eb.render(v.jsx(Vv.StrictMode,{children:v.jsx(WC,{})}));
