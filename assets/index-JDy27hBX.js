(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function tg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yu={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function zv(){if(oh)return oo;oh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var m=null;if(c!==void 0&&(m=""+c),r.key!==void 0&&(m=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:c}}return oo.Fragment=t,oo.jsx=l,oo.jsxs=l,oo}var ah;function Hv(){return ah||(ah=1,yu.exports=zv()),yu.exports}var v=Hv(),vu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Gv(){if(sh)return ye;sh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function q(w,O,ee){this.props=w,this.context=O,this.refs=k,this.updater=ee||R}q.prototype.isReactComponent={},q.prototype.setState=function(w,O){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,O,"setState")},q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function F(){}F.prototype=q.prototype;function J(w,O,ee){this.props=w,this.context=O,this.refs=k,this.updater=ee||R}var z=J.prototype=new F;z.constructor=J,L(z,q.prototype),z.isPureReactComponent=!0;var Q=Array.isArray;function Z(){}var X={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function W(w,O,ee){var oe=ee.ref;return{$$typeof:i,type:w,key:O,ref:oe!==void 0?oe:null,props:ee}}function se(w,O){return W(w.type,O,w.props)}function he(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function j(w){var O={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ee){return O[ee]})}var ie=/\/+/g;function ce(w,O){return typeof w=="object"&&w!==null&&w.key!=null?j(""+w.key):O.toString(36)}function be(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Z,Z):(w.status="pending",w.then(function(O){w.status==="pending"&&(w.status="fulfilled",w.value=O)},function(O){w.status==="pending"&&(w.status="rejected",w.reason=O)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function b(w,O,ee,oe,pe){var Y=typeof w;(Y==="undefined"||Y==="boolean")&&(w=null);var re=!1;if(w===null)re=!0;else switch(Y){case"bigint":case"string":case"number":re=!0;break;case"object":switch(w.$$typeof){case i:case t:re=!0;break;case x:return re=w._init,b(re(w._payload),O,ee,oe,pe)}}if(re)return pe=pe(w),re=oe===""?"."+ce(w,0):oe,Q(pe)?(ee="",re!=null&&(ee=re.replace(ie,"$&/")+"/"),b(pe,O,ee,"",function(Bt){return Bt})):pe!=null&&(he(pe)&&(pe=se(pe,ee+(pe.key==null||w&&w.key===pe.key?"":(""+pe.key).replace(ie,"$&/")+"/")+re)),O.push(pe)),1;re=0;var Ie=oe===""?".":oe+":";if(Q(w))for(var Ge=0;Ge<w.length;Ge++)oe=w[Ge],Y=Ie+ce(oe,Ge),re+=b(oe,O,ee,Y,pe);else if(Ge=C(w),typeof Ge=="function")for(w=Ge.call(w),Ge=0;!(oe=w.next()).done;)oe=oe.value,Y=Ie+ce(oe,Ge++),re+=b(oe,O,ee,Y,pe);else if(Y==="object"){if(typeof w.then=="function")return b(be(w),O,ee,oe,pe);throw O=String(w),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return re}function G(w,O,ee){if(w==null)return w;var oe=[],pe=0;return b(w,oe,"","",function(Y){return O.call(ee,Y,pe++)}),oe}function $(w){if(w._status===-1){var O=w._result;O=O(),O.then(function(ee){(w._status===0||w._status===-1)&&(w._status=1,w._result=ee)},function(ee){(w._status===0||w._status===-1)&&(w._status=2,w._result=ee)}),w._status===-1&&(w._status=0,w._result=O)}if(w._status===1)return w._result.default;throw w._result}var fe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:G,forEach:function(w,O,ee){G(w,function(){O.apply(this,arguments)},ee)},count:function(w){var O=0;return G(w,function(){O++}),O},toArray:function(w){return G(w,function(O){return O})||[]},only:function(w){if(!he(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ye.Activity=T,ye.Children=Ce,ye.Component=q,ye.Fragment=l,ye.Profiler=r,ye.PureComponent=J,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ye.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},ye.cache=function(w){return function(){return w.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(w,O,ee){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var oe=L({},w.props),pe=w.key;if(O!=null)for(Y in O.key!==void 0&&(pe=""+O.key),O)!te.call(O,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&O.ref===void 0||(oe[Y]=O[Y]);var Y=arguments.length-2;if(Y===1)oe.children=ee;else if(1<Y){for(var re=Array(Y),Ie=0;Ie<Y;Ie++)re[Ie]=arguments[Ie+2];oe.children=re}return W(w.type,pe,oe)},ye.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ye.createElement=function(w,O,ee){var oe,pe={},Y=null;if(O!=null)for(oe in O.key!==void 0&&(Y=""+O.key),O)te.call(O,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=O[oe]);var re=arguments.length-2;if(re===1)pe.children=ee;else if(1<re){for(var Ie=Array(re),Ge=0;Ge<re;Ge++)Ie[Ge]=arguments[Ge+2];pe.children=Ie}if(w&&w.defaultProps)for(oe in re=w.defaultProps,re)pe[oe]===void 0&&(pe[oe]=re[oe]);return W(w,Y,pe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(w){return{$$typeof:g,render:w}},ye.isValidElement=he,ye.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:$}},ye.memo=function(w,O){return{$$typeof:p,type:w,compare:O===void 0?null:O}},ye.startTransition=function(w){var O=X.T,ee={};X.T=ee;try{var oe=w(),pe=X.S;pe!==null&&pe(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Z,fe)}catch(Y){fe(Y)}finally{O!==null&&ee.types!==null&&(O.types=ee.types),X.T=O}},ye.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ye.use=function(w){return X.H.use(w)},ye.useActionState=function(w,O,ee){return X.H.useActionState(w,O,ee)},ye.useCallback=function(w,O){return X.H.useCallback(w,O)},ye.useContext=function(w){return X.H.useContext(w)},ye.useDebugValue=function(){},ye.useDeferredValue=function(w,O){return X.H.useDeferredValue(w,O)},ye.useEffect=function(w,O){return X.H.useEffect(w,O)},ye.useEffectEvent=function(w){return X.H.useEffectEvent(w)},ye.useId=function(){return X.H.useId()},ye.useImperativeHandle=function(w,O,ee){return X.H.useImperativeHandle(w,O,ee)},ye.useInsertionEffect=function(w,O){return X.H.useInsertionEffect(w,O)},ye.useLayoutEffect=function(w,O){return X.H.useLayoutEffect(w,O)},ye.useMemo=function(w,O){return X.H.useMemo(w,O)},ye.useOptimistic=function(w,O){return X.H.useOptimistic(w,O)},ye.useReducer=function(w,O,ee){return X.H.useReducer(w,O,ee)},ye.useRef=function(w){return X.H.useRef(w)},ye.useState=function(w){return X.H.useState(w)},ye.useSyncExternalStore=function(w,O,ee){return X.H.useSyncExternalStore(w,O,ee)},ye.useTransition=function(){return X.H.useTransition()},ye.version="19.2.3",ye}var rh;function Bu(){return rh||(rh=1,vu.exports=Gv()),vu.exports}var K=Bu();const qv=tg(K);var xu={exports:{}},ao={},Su={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function Vv(){return uh||(uh=1,(function(i){function t(b,G){var $=b.length;b.push(G);e:for(;0<$;){var fe=$-1>>>1,Ce=b[fe];if(0<r(Ce,G))b[fe]=G,b[$]=Ce,$=fe;else break e}}function l(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var G=b[0],$=b.pop();if($!==G){b[0]=$;e:for(var fe=0,Ce=b.length,w=Ce>>>1;fe<w;){var O=2*(fe+1)-1,ee=b[O],oe=O+1,pe=b[oe];if(0>r(ee,$))oe<Ce&&0>r(pe,ee)?(b[fe]=pe,b[oe]=$,fe=oe):(b[fe]=ee,b[O]=$,fe=O);else if(oe<Ce&&0>r(pe,$))b[fe]=pe,b[oe]=$,fe=oe;else break e}}return G}function r(b,G){var $=b.sortIndex-G.sortIndex;return $!==0?$:b.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],p=[],x=1,T=null,E=3,C=!1,R=!1,L=!1,k=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function z(b){for(var G=l(p);G!==null;){if(G.callback===null)a(p);else if(G.startTime<=b)a(p),G.sortIndex=G.expirationTime,t(y,G);else break;G=l(p)}}function Q(b){if(L=!1,z(b),!R)if(l(y)!==null)R=!0,Z||(Z=!0,j());else{var G=l(p);G!==null&&be(Q,G.startTime-b)}}var Z=!1,X=-1,te=5,W=-1;function se(){return k?!0:!(i.unstable_now()-W<te)}function he(){if(k=!1,Z){var b=i.unstable_now();W=b;var G=!0;try{e:{R=!1,L&&(L=!1,F(X),X=-1),C=!0;var $=E;try{t:{for(z(b),T=l(y);T!==null&&!(T.expirationTime>b&&se());){var fe=T.callback;if(typeof fe=="function"){T.callback=null,E=T.priorityLevel;var Ce=fe(T.expirationTime<=b);if(b=i.unstable_now(),typeof Ce=="function"){T.callback=Ce,z(b),G=!0;break t}T===l(y)&&a(y),z(b)}else a(y);T=l(y)}if(T!==null)G=!0;else{var w=l(p);w!==null&&be(Q,w.startTime-b),G=!1}}break e}finally{T=null,E=$,C=!1}G=void 0}}finally{G?j():Z=!1}}}var j;if(typeof J=="function")j=function(){J(he)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=he,j=function(){ce.postMessage(null)}}else j=function(){q(he,0)};function be(b,G){X=q(function(){b(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(b){b.callback=null},i.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<b?Math.floor(1e3/b):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(b){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var $=E;E=G;try{return b()}finally{E=$}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(b,G){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=E;E=b;try{return G()}finally{E=$}},i.unstable_scheduleCallback=function(b,G,$){var fe=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fe+$:fe):$=fe,b){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=$+Ce,b={id:x++,callback:G,priorityLevel:b,startTime:$,expirationTime:Ce,sortIndex:-1},$>fe?(b.sortIndex=$,t(p,b),l(y)===null&&b===l(p)&&(L?(F(X),X=-1):L=!0,be(Q,$-fe))):(b.sortIndex=Ce,t(y,b),R||C||(R=!0,Z||(Z=!0,j()))),b},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(b){var G=E;return function(){var $=E;E=G;try{return b.apply(this,arguments)}finally{E=$}}}})(Tu)),Tu}var ch;function Pv(){return ch||(ch=1,Su.exports=Vv()),Su.exports}var Eu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function Bv(){if(fh)return st;fh=1;var i=Bu();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,p,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:p,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,x)},st.flushSync=function(y){var p=m.T,x=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=p,a.p=x,a.d.f()}},st.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,T=g(x,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):x==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},st.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},st.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,T=g(x,p.crossOrigin);a.d.L(y,x,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},st.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,p){return y(p)},st.useFormState=function(y,p,x){return m.H.useFormState(y,p,x)},st.useFormStatus=function(){return m.H.useHostTransitionStatus()},st.version="19.2.3",st}var dh;function Ov(){if(dh)return Eu.exports;dh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Eu.exports=Bv(),Eu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function Fv(){if(mh)return ao;mh=1;var i=Pv(),t=Bu(),l=Ov();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=h;break}if(_===s){S=!0,s=d,o=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===o){S=!0,o=h,s=d;break}if(_===s){S=!0,s=h,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),J=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case q:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case Z:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case J:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case te:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}var be=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},fe=[],Ce=-1;function w(e){return{current:e}}function O(e){0>Ce||(e.current=fe[Ce],fe[Ce]=null,Ce--)}function ee(e,n){Ce++,fe[Ce]=e.current,e.current=n}var oe=w(null),pe=w(null),Y=w(null),re=w(null);function Ie(e,n){switch(ee(Y,n),ee(pe,e),ee(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wm(n),e=Mm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(oe),ee(oe,e)}function Ge(){O(oe),O(pe),O(Y)}function Bt(e){e.memoizedState!==null&&ee(re,e);var n=oe.current,o=Mm(n,e.type);n!==o&&(ee(pe,e),ee(oe,o))}function je(e){pe.current===e&&(O(oe),O(pe)),re.current===e&&(O(re),to._currentValue=$)}var en,yi;function tn(e){if(en===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",yi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+e+yi}var dl=!1;function ts(e,n){if(!e||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(H){var U=H}Reflect.construct(e,[],B)}else{try{B.call()}catch(H){U=H}e.call(B.prototype)}}else{try{throw Error()}catch(H){U=H}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var A=S.split(`
`),D=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var V=`
`+A[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=d);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?tn(o):""}function m0(e,n){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return tn("Activity");default:return""}}function lc(e){try{var n="",o=null;do n+=m0(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,h0=i.unstable_shouldYield,p0=i.unstable_requestPaint,St=i.unstable_now,g0=i.unstable_getCurrentPriorityLevel,oc=i.unstable_ImmediatePriority,ac=i.unstable_UserBlockingPriority,go=i.unstable_NormalPriority,y0=i.unstable_LowPriority,sc=i.unstable_IdlePriority,v0=i.log,x0=i.unstable_setDisableYieldValue,ml=null,Tt=null;function An(e){if(typeof v0=="function"&&x0(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ml,e)}catch{}}var Et=Math.clz32?Math.clz32:E0,S0=Math.log,T0=Math.LN2;function E0(e){return e>>>=0,e===0?32:31-(S0(e)/T0|0)|0}var yo=256,vo=262144,xo=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function So(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=$n(s):(S&=_,S!==0?d=$n(S):o||(o=_&~e,o!==0&&(d=$n(o))))):(_=s&~h,_!==0?d=$n(_):S!==0?d=$n(S):o||(o=s&~e,o!==0&&(d=$n(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function hl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var e=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),e}function os(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function pl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C0(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(o=S&~o;0<o;){var V=31-Et(o),B=1<<V;_[V]=0,A[V]=-1;var U=D[V];if(U!==null)for(D[V]=null,V=0;V<U.length;V++){var H=U[V];H!==null&&(H.lane&=-536870913)}o&=~B}s!==0&&uc(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function uc(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function cc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function fc(e,n){var o=n&-n;return o=(o&42)!==0?1:as(o),(o&(e.suspendedLanes|n))!==0?0:o}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ss(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function dc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:jm(e.type))}function mc(e,n){var o=G.p;try{return G.p=e,n()}finally{G.p=o}}var bn=Math.random().toString(36).slice(2),nt="__reactFiber$"+bn,dt="__reactProps$"+bn,vi="__reactContainer$"+bn,rs="__reactEvents$"+bn,A0="__reactListeners$"+bn,b0="__reactHandles$"+bn,hc="__reactResources$"+bn,gl="__reactMarker$"+bn;function us(e){delete e[nt],delete e[dt],delete e[rs],delete e[A0],delete e[b0]}function xi(e){var n=e[nt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[vi]||o[nt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=zm(e);e!==null;){if(o=e[nt])return o;e=zm(e)}return n}e=o,o=e.parentNode}return null}function Si(e){if(e=e[nt]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[hc];return n||(n=e[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[gl]=!0}var pc=new Set,gc={};function jn(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(gc[e]=n,e=0;e<n.length;e++)pc.add(n[e])}var N0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},vc={};function w0(e){return ns.call(vc,e)?!0:ns.call(yc,e)?!1:N0.test(e)?vc[e]=!0:(yc[e]=!0,!1)}function To(e,n,o){if(w0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Eo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function nn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function M0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cs(e){if(!e._valueTracker){var n=xc(e)?"checked":"value";e._valueTracker=M0(e,n,""+e[n])}}function Sc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=xc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var R0=/[\n"\\]/g;function It(e){return e.replace(R0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fs(e,n,o,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Rt(n)):e.value!==""+Rt(n)&&(e.value=""+Rt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ds(e,S,Rt(n)):o!=null?ds(e,S,Rt(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Rt(_):e.removeAttribute("name")}function Tc(e,n,o,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){cs(e);return}o=o!=null?""+Rt(o):"",n=n!=null?""+Rt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),cs(e)}function ds(e,n,o){n==="number"&&_o(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function _i(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Rt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ec(e,n,o){if(n!=null&&(n=""+Rt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Rt(o):""}function _c(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(be(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Rt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),cs(e)}function Ci(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var I0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||I0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Ac(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Cc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&Cc(e,h,n[h])}function ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(e){return k0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var hs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,bi=null;function bc(e){var n=Si(e);if(n&&(e=n.stateNode)){var o=e[dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[dt]||null;if(!d)throw Error(a(90));fs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Sc(s)}break e;case"textarea":Ec(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&_i(e,!!o.multiple,n,!1)}}}var gs=!1;function Nc(e,n,o){if(gs)return e(n,o);gs=!0;try{var s=e(n);return s}finally{if(gs=!1,(Ai!==null||bi!==null)&&(fa(),Ai&&(n=Ai,e=bi,bi=Ai=null,bc(n),e)))for(n=0;n<e.length;n++)bc(e[n])}}function vl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[dt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(on)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){ys=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{ys=!1}var Nn=null,vs=null,Ao=null;function wc(){if(Ao)return Ao;var e,n=vs,o=n.length,s,d="value"in Nn?Nn.value:Nn.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return Ao=d.slice(e,1<s?1-s:void 0)}function bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function Mc(){return!1}function mt(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?No:Mc,this.isPropagationStopped=Mc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=mt(Wn),Sl=T({},Wn,{view:0,detail:0}),U0=mt(Sl),xs,Ss,Tl,Mo=T({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(xs=e.screenX-Tl.screenX,Ss=e.screenY-Tl.screenY):Ss=xs=0,Tl=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),Rc=mt(Mo),L0=T({},Mo,{dataTransfer:0}),z0=mt(L0),H0=T({},Sl,{relatedTarget:0}),Ts=mt(H0),G0=T({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=mt(G0),V0=T({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P0=mt(V0),B0=T({},Wn,{data:0}),Ic=mt(B0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=J0[e])?!!n[e]:!1}function Es(){return Y0}var K0=T({},Sl,{key:function(e){if(e.key){var n=O0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X0=mt(K0),Q0=T({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=mt(Q0),Z0=T({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),$0=mt(Z0),j0=T({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),W0=mt(j0),ey=T({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=mt(ey),ny=T({},Wn,{newState:0,oldState:0}),iy=mt(ny),ly=[9,13,27,32],_s=on&&"CompositionEvent"in window,El=null;on&&"documentMode"in document&&(El=document.documentMode);var oy=on&&"TextEvent"in window&&!El,kc=on&&(!_s||El&&8<El&&11>=El),Uc=" ",Lc=!1;function zc(e,n){switch(e){case"keyup":return ly.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function ay(e,n){switch(e){case"compositionend":return Hc(n);case"keypress":return n.which!==32?null:(Lc=!0,Uc);case"textInput":return e=n.data,e===Uc&&Lc?null:e;default:return null}}function sy(e,n){if(Ni)return e==="compositionend"||!_s&&zc(e,n)?(e=wc(),Ao=vs=Nn=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return kc&&n.locale!=="ko"?null:n.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ry[e.type]:n==="textarea"}function qc(e,n,o,s){Ai?bi?bi.push(s):bi=[s]:Ai=s,n=va(n,"onChange"),0<n.length&&(o=new wo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var _l=null,Cl=null;function uy(e){Em(e,0)}function Ro(e){var n=yl(e);if(Sc(n))return e}function Vc(e,n){if(e==="change")return n}var Pc=!1;if(on){var Cs;if(on){var As="oninput"in document;if(!As){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),As=typeof Bc.oninput=="function"}Cs=As}else Cs=!1;Pc=Cs&&(!document.documentMode||9<document.documentMode)}function Oc(){_l&&(_l.detachEvent("onpropertychange",Fc),Cl=_l=null)}function Fc(e){if(e.propertyName==="value"&&Ro(Cl)){var n=[];qc(n,Cl,e,ps(e)),Nc(uy,n)}}function cy(e,n,o){e==="focusin"?(Oc(),_l=n,Cl=o,_l.attachEvent("onpropertychange",Fc)):e==="focusout"&&Oc()}function fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Cl)}function dy(e,n){if(e==="click")return Ro(n)}function my(e,n){if(e==="input"||e==="change")return Ro(n)}function hy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:hy;function Al(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!ns.call(n,d)||!_t(e[d],n[d]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,n){var o=Jc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jc(o)}}function Kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_o(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=_o(e.document)}return n}function bs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var py=on&&"documentMode"in document&&11>=document.documentMode,wi=null,Ns=null,bl=null,ws=!1;function Qc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ws||wi==null||wi!==_o(s)||(s=wi,"selectionStart"in s&&bs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bl&&Al(bl,s)||(bl=s,s=va(Ns,"onSelect"),0<s.length&&(n=new wo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=wi)))}function ei(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Mi={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Ms={},Zc={};on&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ti(e){if(Ms[e])return Ms[e];if(!Mi[e])return e;var n=Mi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Zc)return Ms[e]=n[o];return e}var $c=ti("animationend"),jc=ti("animationiteration"),Wc=ti("animationstart"),gy=ti("transitionrun"),yy=ti("transitionstart"),vy=ti("transitioncancel"),ef=ti("transitionend"),tf=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function Ot(e,n){tf.set(e,n),jn(n,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Ri=0,Is=0;function Do(){for(var e=Ri,n=Is=Ri=0;n<e;){var o=Dt[n];Dt[n++]=null;var s=Dt[n];Dt[n++]=null;var d=Dt[n];Dt[n++]=null;var h=Dt[n];if(Dt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&nf(o,d,h)}}function ko(e,n,o,s){Dt[Ri++]=e,Dt[Ri++]=n,Dt[Ri++]=o,Dt[Ri++]=s,Is|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ds(e,n,o,s){return ko(e,n,o,s),Uo(e)}function ni(e,n){return ko(e,null,null,n),Uo(e)}function nf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-Et(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function Uo(e){if(50<Xl)throw Xl=0,Pr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ii={};function xy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,o,s){return new xy(e,n,o,s)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,n){var o=e.alternate;return o===null?(o=Ct(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function lf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lo(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")ks(e)&&(S=1);else if(typeof e=="string")S=Cv(e,o,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Ct(31,o,n,d),e.elementType=W,e.lanes=h,e;case L:return ii(o.children,d,h,n);case k:S=8,d|=24;break;case q:return e=Ct(12,o,n,d|2),e.elementType=q,e.lanes=h,e;case Q:return e=Ct(13,o,n,d),e.elementType=Q,e.lanes=h,e;case Z:return e=Ct(19,o,n,d),e.elementType=Z,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:S=10;break e;case F:S=9;break e;case z:S=11;break e;case X:S=14;break e;case te:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Ct(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function ii(e,n,o,s){return e=Ct(7,e,s,n),e.lanes=o,e}function Us(e,n,o){return e=Ct(6,e,null,n),e.lanes=o,e}function of(e){var n=Ct(18,null,null,0);return n.stateNode=e,n}function Ls(e,n,o){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var af=new WeakMap;function kt(e,n){if(typeof e=="object"&&e!==null){var o=af.get(e);return o!==void 0?o:(n={value:e,source:n,stack:lc(n)},af.set(e,n),n)}return{value:e,source:n,stack:lc(n)}}var Di=[],ki=0,zo=null,Nl=0,Ut=[],Lt=0,wn=null,Qt=1,Zt="";function sn(e,n){Di[ki++]=Nl,Di[ki++]=zo,zo=e,Nl=n}function sf(e,n,o){Ut[Lt++]=Qt,Ut[Lt++]=Zt,Ut[Lt++]=wn,wn=e;var s=Qt;e=Zt;var d=32-Et(s)-1;s&=~(1<<d),o+=1;var h=32-Et(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Qt=1<<32-Et(n)+d|o<<d|s,Zt=h+e}else Qt=1<<h|o<<d|s,Zt=e}function zs(e){e.return!==null&&(sn(e,1),sf(e,1,0))}function Hs(e){for(;e===zo;)zo=Di[--ki],Di[ki]=null,Nl=Di[--ki],Di[ki]=null;for(;e===wn;)wn=Ut[--Lt],Ut[Lt]=null,Zt=Ut[--Lt],Ut[Lt]=null,Qt=Ut[--Lt],Ut[Lt]=null}function rf(e,n){Ut[Lt++]=Qt,Ut[Lt++]=Zt,Ut[Lt++]=wn,Qt=n.id,Zt=n.overflow,wn=e}var it=null,Ve=null,Ae=!1,Mn=null,zt=!1,Gs=Error(a(519));function Rn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(kt(n,e)),Gs}function uf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[nt]=e,n[dt]=s,o){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(o=0;o<Zl.length;o++)Te(Zl[o],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),Tc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),_c(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||bm(n.textContent,o)?(s.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),s.onScroll!=null&&Te("scroll",n),s.onScrollEnd!=null&&Te("scrollend",n),s.onClick!=null&&(n.onclick=ln),n=!0):n=!1,n||Rn(e,!0)}function cf(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:it=it.return}}function Ui(e){if(e!==it)return!1;if(!Ae)return cf(e),Ae=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||nu(e.type,e.memoizedProps)),o=!o),o&&Ve&&Rn(e),cf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Lm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Lm(e)}else n===27?(n=Ve,Fn(e.type)?(e=su,su=null,Ve=e):Ve=n):Ve=it?Gt(e.stateNode.nextSibling):null;return!0}function li(){Ve=it=null,Ae=!1}function qs(){var e=Mn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Mn=null),e}function wl(e){Mn===null?Mn=[e]:Mn.push(e)}var Vs=w(null),oi=null,rn=null;function In(e,n,o){ee(Vs,n._currentValue),n._currentValue=o}function un(e){e._currentValue=Vs.current,O(Vs)}function Ps(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Bs(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),Ps(h.return,o,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),Ps(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Li(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;_t(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===re.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}d=d.return}e!==null&&Bs(n,e,o,s),n.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){oi=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return ff(oi,e)}function Go(e,n){return oi===null&&ai(e),ff(e,n)}function ff(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},rn===null){if(e===null)throw Error(a(308));rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rn=rn.next=n;return o}var Sy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Ty=i.unstable_scheduleCallback,Ey=i.unstable_NormalPriority,Ke={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Os(){return{controller:new Sy,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&Ty(Ey,function(){e.controller.abort()})}var Rl=null,Fs=0,zi=0,Hi=null;function _y(e,n){if(Rl===null){var o=Rl=[];Fs=0,zi=Kr(),Hi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Fs++,n.then(df,df),n}function df(){if(--Fs===0&&Rl!==null){Hi!==null&&(Hi.status="fulfilled");var e=Rl;Rl=null,zi=0,Hi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Cy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var mf=b.S;b.S=function(e,n){Zd=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_y(e,n),mf!==null&&mf(e,n)};var si=w(null);function Js(){var e=si.current;return e!==null?e:qe.pooledCache}function qo(e,n){n===null?ee(si,si.current):ee(si,n.pool)}function hf(){var e=Js();return e===null?null:{parent:Ke._currentValue,pool:e}}var Gi=Error(a(460)),Ys=Error(a(474)),Vo=Error(a(542)),Po={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(ln,ln),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vf(e),e;default:if(typeof n.status=="string")n.then(ln,ln);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vf(e),e}throw ui=n,Gi}}function ri(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ui=o,Gi):o}}var ui=null;function yf(){if(ui===null)throw Error(a(459));var e=ui;return ui=null,e}function vf(e){if(e===Gi||e===Vo)throw Error(a(483))}var qi=null,Il=0;function Bo(e){var n=Il;return Il+=1,qi===null&&(qi=[]),gf(qi,e,n)}function Dl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Oo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xf(e){function n(M,N){if(e){var I=M.deletions;I===null?(M.deletions=[N],M.flags|=16):I.push(N)}}function o(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function s(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function d(M,N){return M=an(M,N),M.index=0,M.sibling=null,M}function h(M,N,I){return M.index=I,e?(I=M.alternate,I!==null?(I=I.index,I<N?(M.flags|=67108866,N):I):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,N,I,P){return N===null||N.tag!==6?(N=Us(I,M.mode,P),N.return=M,N):(N=d(N,I),N.return=M,N)}function A(M,N,I,P){var ue=I.type;return ue===L?V(M,N,I.props.children,P,I.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ri(ue)===N.type)?(N=d(N,I.props),Dl(N,I),N.return=M,N):(N=Lo(I.type,I.key,I.props,null,M.mode,P),Dl(N,I),N.return=M,N)}function D(M,N,I,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Ls(I,M.mode,P),N.return=M,N):(N=d(N,I.children||[]),N.return=M,N)}function V(M,N,I,P,ue){return N===null||N.tag!==7?(N=ii(I,M.mode,P,ue),N.return=M,N):(N=d(N,I),N.return=M,N)}function B(M,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Us(""+N,M.mode,I),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return I=Lo(N.type,N.key,N.props,null,M.mode,I),Dl(I,N),I.return=M,I;case R:return N=Ls(N,M.mode,I),N.return=M,N;case te:return N=ri(N),B(M,N,I)}if(be(N)||j(N))return N=ii(N,M.mode,I,null),N.return=M,N;if(typeof N.then=="function")return B(M,Bo(N),I);if(N.$$typeof===J)return B(M,Go(M,N),I);Oo(M,N)}return null}function U(M,N,I,P){var ue=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ue!==null?null:_(M,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===ue?A(M,N,I,P):null;case R:return I.key===ue?D(M,N,I,P):null;case te:return I=ri(I),U(M,N,I,P)}if(be(I)||j(I))return ue!==null?null:V(M,N,I,P,null);if(typeof I.then=="function")return U(M,N,Bo(I),P);if(I.$$typeof===J)return U(M,N,Go(M,I),P);Oo(M,I)}return null}function H(M,N,I,P,ue){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return M=M.get(I)||null,_(N,M,""+P,ue);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return M=M.get(P.key===null?I:P.key)||null,A(N,M,P,ue);case R:return M=M.get(P.key===null?I:P.key)||null,D(N,M,P,ue);case te:return P=ri(P),H(M,N,I,P,ue)}if(be(P)||j(P))return M=M.get(I)||null,V(N,M,P,ue,null);if(typeof P.then=="function")return H(M,N,I,Bo(P),ue);if(P.$$typeof===J)return H(M,N,I,Go(N,P),ue);Oo(N,P)}return null}function le(M,N,I,P){for(var ue=null,Ne=null,ae=N,xe=N=0,_e=null;ae!==null&&xe<I.length;xe++){ae.index>xe?(_e=ae,ae=null):_e=ae.sibling;var we=U(M,ae,I[xe],P);if(we===null){ae===null&&(ae=_e);break}e&&ae&&we.alternate===null&&n(M,ae),N=h(we,N,xe),Ne===null?ue=we:Ne.sibling=we,Ne=we,ae=_e}if(xe===I.length)return o(M,ae),Ae&&sn(M,xe),ue;if(ae===null){for(;xe<I.length;xe++)ae=B(M,I[xe],P),ae!==null&&(N=h(ae,N,xe),Ne===null?ue=ae:Ne.sibling=ae,Ne=ae);return Ae&&sn(M,xe),ue}for(ae=s(ae);xe<I.length;xe++)_e=H(ae,M,xe,I[xe],P),_e!==null&&(e&&_e.alternate!==null&&ae.delete(_e.key===null?xe:_e.key),N=h(_e,N,xe),Ne===null?ue=_e:Ne.sibling=_e,Ne=_e);return e&&ae.forEach(function(Qn){return n(M,Qn)}),Ae&&sn(M,xe),ue}function de(M,N,I,P){if(I==null)throw Error(a(151));for(var ue=null,Ne=null,ae=N,xe=N=0,_e=null,we=I.next();ae!==null&&!we.done;xe++,we=I.next()){ae.index>xe?(_e=ae,ae=null):_e=ae.sibling;var Qn=U(M,ae,we.value,P);if(Qn===null){ae===null&&(ae=_e);break}e&&ae&&Qn.alternate===null&&n(M,ae),N=h(Qn,N,xe),Ne===null?ue=Qn:Ne.sibling=Qn,Ne=Qn,ae=_e}if(we.done)return o(M,ae),Ae&&sn(M,xe),ue;if(ae===null){for(;!we.done;xe++,we=I.next())we=B(M,we.value,P),we!==null&&(N=h(we,N,xe),Ne===null?ue=we:Ne.sibling=we,Ne=we);return Ae&&sn(M,xe),ue}for(ae=s(ae);!we.done;xe++,we=I.next())we=H(ae,M,xe,we.value,P),we!==null&&(e&&we.alternate!==null&&ae.delete(we.key===null?xe:we.key),N=h(we,N,xe),Ne===null?ue=we:Ne.sibling=we,Ne=we);return e&&ae.forEach(function(Lv){return n(M,Lv)}),Ae&&sn(M,xe),ue}function ze(M,N,I,P){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var ue=I.key;N!==null;){if(N.key===ue){if(ue=I.type,ue===L){if(N.tag===7){o(M,N.sibling),P=d(N,I.props.children),P.return=M,M=P;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ri(ue)===N.type){o(M,N.sibling),P=d(N,I.props),Dl(P,I),P.return=M,M=P;break e}o(M,N);break}else n(M,N);N=N.sibling}I.type===L?(P=ii(I.props.children,M.mode,P,I.key),P.return=M,M=P):(P=Lo(I.type,I.key,I.props,null,M.mode,P),Dl(P,I),P.return=M,M=P)}return S(M);case R:e:{for(ue=I.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){o(M,N.sibling),P=d(N,I.children||[]),P.return=M,M=P;break e}else{o(M,N);break}else n(M,N);N=N.sibling}P=Ls(I,M.mode,P),P.return=M,M=P}return S(M);case te:return I=ri(I),ze(M,N,I,P)}if(be(I))return le(M,N,I,P);if(j(I)){if(ue=j(I),typeof ue!="function")throw Error(a(150));return I=ue.call(I),de(M,N,I,P)}if(typeof I.then=="function")return ze(M,N,Bo(I),P);if(I.$$typeof===J)return ze(M,N,Go(M,I),P);Oo(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(o(M,N.sibling),P=d(N,I),P.return=M,M=P):(o(M,N),P=Us(I,M.mode,P),P.return=M,M=P),S(M)):o(M,N)}return function(M,N,I,P){try{Il=0;var ue=ze(M,N,I,P);return qi=null,ue}catch(ae){if(ae===Gi||ae===Vo)throw ae;var Ne=Ct(29,ae,null,M.mode);return Ne.lanes=P,Ne.return=M,Ne}finally{}}}var ci=xf(!0),Sf=xf(!1),Dn=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Un(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Uo(e),nf(e,null,o),n}return ko(e,s,n,o),Uo(e)}function kl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,cc(e,o)}}function Qs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Zs=!1;function Ul(){if(Zs){var e=Hi;if(e!==null)throw e}}function Ll(e,n,o,s){Zs=!1;var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,D=A.next;A.next=null,S===null?h=D:S.next=D,S=A;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==S&&(_===null?V.firstBaseUpdate=D:_.next=D,V.lastBaseUpdate=A))}if(h!==null){var B=d.baseState;S=0,V=D=A=null,_=h;do{var U=_.lane&-536870913,H=U!==_.lane;if(H?(Ee&U)===U:(s&U)===U){U!==0&&U===zi&&(Zs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,de=_;U=n;var ze=o;switch(de.tag){case 1:if(le=de.payload,typeof le=="function"){B=le.call(ze,B,U);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=de.payload,U=typeof le=="function"?le.call(ze,B,U):le,U==null)break e;B=T({},B,U);break e;case 2:Dn=!0}}U=_.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[U]:H.push(U))}else H={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(D=V=H,A=B):V=V.next=H,S|=U;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);V===null&&(A=B),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=B}}function Tf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ef(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Tf(o[e],n)}var Vi=w(null),Fo=w(0);function _f(e,n){e=vn,ee(Fo,e),ee(Vi,n),vn=e|n.baseLanes}function $s(){ee(Fo,vn),ee(Vi,Vi.current)}function js(){vn=Fo.current,O(Vi),O(Fo)}var At=w(null),Ht=null;function Ln(e){var n=e.alternate;ee(Je,Je.current&1),ee(At,e),Ht===null&&(n===null||Vi.current!==null||n.memoizedState!==null)&&(Ht=e)}function Ws(e){ee(Je,Je.current),ee(At,e),Ht===null&&(Ht=e)}function Cf(e){e.tag===22?(ee(Je,Je.current),ee(At,e),Ht===null&&(Ht=e)):zn()}function zn(){ee(Je,Je.current),ee(At,At.current)}function bt(e){O(At),Ht===e&&(Ht=null),O(Je)}var Je=w(0);function Jo(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ou(o)||au(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cn=0,ve=null,Ue=null,Xe=null,Yo=!1,Pi=!1,fi=!1,Ko=0,zl=0,Bi=null,Ay=0;function Oe(){throw Error(a(321))}function er(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!_t(e[o],n[o]))return!1;return!0}function tr(e,n,o,s,d,h){return cn=h,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?sd:gr,fi=!1,h=o(s,d),fi=!1,Pi&&(h=bf(n,o,s,d)),Af(e),h}function Af(e){b.H=ql;var n=Ue!==null&&Ue.next!==null;if(cn=0,Xe=Ue=ve=null,Yo=!1,zl=0,Bi=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Ho(e)&&(Qe=!0))}function bf(e,n,o,s){ve=e;var d=0;do{if(Pi&&(Bi=null),zl=0,Pi=!1,25<=d)throw Error(a(301));if(d+=1,Xe=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}b.H=rd,h=n(o,s)}while(Pi);return h}function by(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ve.flags|=1024),n}function nr(){var e=Ko!==0;return Ko=0,e}function ir(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function lr(e){if(Yo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yo=!1}cn=0,Xe=Ue=ve=null,Pi=!1,zl=Ko=0,Bi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ue===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Xe===null?ve.memoizedState:Xe.next;if(n!==null)Xe=n,Ue=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=zl;return zl+=1,Bi===null&&(Bi=[]),e=gf(Bi,e,n),n=ve,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?sd:gr),e}function Qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===J)return lt(e)}throw Error(a(438,String(e)))}function or(e){var n=null,o=ve.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Xo(),ve.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=se;return n.index++,o}function fn(e,n){return typeof n=="function"?n(e):n}function Zo(e){var n=Ye();return ar(n,Ue,e)}function ar(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,A=null,D=n,V=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Ee&B)===B:(cn&B)===B){var U=D.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===zi&&(V=!0);else if((cn&U)===U){D=D.next,U===zi&&(V=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=B,S=h):A=A.next=B,ve.lanes|=U,qn|=U;B=D.action,fi&&o(h,B),h=D.hasEagerState?D.eagerState:o(h,B)}else U={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=U,S=h):A=A.next=U,ve.lanes|=B,qn|=B;D=D.next}while(D!==null&&D!==n);if(A===null?S=h:A.next=_,!_t(h,e.memoizedState)&&(Qe=!0,V&&(o=Hi,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=A,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function sr(e){var n=Ye(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);_t(h,n.memoizedState)||(Qe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function Nf(e,n,o){var s=ve,d=Ye(),h=Ae;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!_t((Ue||d).memoizedState,o);if(S&&(d.memoizedState=o,Qe=!0),d=d.queue,cr(Rf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Oi(9,{destroy:void 0},Mf.bind(null,s,d,o,n),null),qe===null)throw Error(a(349));h||(cn&127)!==0||wf(s,n,o)}return o}function wf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ve.updateQueue,n===null?(n=Xo(),ve.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Mf(e,n,o,s){n.value=o,n.getSnapshot=s,If(n)&&Df(e)}function Rf(e,n,o){return o(function(){If(n)&&Df(e)})}function If(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!_t(e,o)}catch{return!0}}function Df(e){var n=ni(e,2);n!==null&&vt(n,e,2)}function rr(e){var n=ut();if(typeof e=="function"){var o=e;if(e=o(),fi){An(!0);try{o()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function kf(e,n,o,s){return e.baseState=o,ar(e,Ue,typeof s=="function"?s:fn)}function Ny(e,n,o,s,d){if(Wo(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};b.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Uf(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Uf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=b.T,S={};b.T=S;try{var _=o(d,s),A=b.S;A!==null&&A(S,_),Lf(e,n,_)}catch(D){ur(e,n,D)}finally{h!==null&&S.types!==null&&(h.types=S.types),b.T=h}}else try{h=o(d,s),Lf(e,n,h)}catch(D){ur(e,n,D)}}function Lf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){zf(e,n,s)},function(s){return ur(e,n,s)}):zf(e,n,o)}function zf(e,n,o){n.status="fulfilled",n.value=o,Hf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Uf(e,o)))}function ur(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Hf(n),n=n.next;while(n!==s)}e.action=null}function Hf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gf(e,n){return n}function qf(e,n){if(Ae){var o=qe.formState;if(o!==null){e:{var s=ve;if(Ae){if(Ve){t:{for(var d=Ve,h=zt;d.nodeType!==8;){if(!h){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ve=Gt(d.nextSibling),s=d.data==="F!";break e}}Rn(s)}s=!1}s&&(n=o[0])}}return o=ut(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:n},o.queue=s,o=ld.bind(null,ve,s),s.dispatch=o,s=rr(!1),h=pr.bind(null,ve,!1,s.queue),s=ut(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=Ny.bind(null,ve,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Vf(e){var n=Ye();return Pf(n,Ue,e)}function Pf(e,n,o){if(n=ar(e,n,Gf)[0],e=Zo(fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Hl(n)}catch(S){throw S===Gi?Vo:S}else s=n;n=Ye();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(ve.flags|=2048,Oi(9,{destroy:void 0},wy.bind(null,d,o),null)),[s,h,e]}function wy(e,n){e.action=n}function Bf(e){var n=Ye(),o=Ue;if(o!==null)return Pf(n,o,e);Ye(),n=n.memoizedState,o=Ye();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Oi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ve.updateQueue,n===null&&(n=Xo(),ve.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Of(){return Ye().memoizedState}function $o(e,n,o,s){var d=ut();ve.flags|=e,d.memoizedState=Oi(1|n,{destroy:void 0},o,s===void 0?null:s)}function jo(e,n,o,s){var d=Ye();s=s===void 0?null:s;var h=d.memoizedState.inst;Ue!==null&&s!==null&&er(s,Ue.memoizedState.deps)?d.memoizedState=Oi(n,h,o,s):(ve.flags|=e,d.memoizedState=Oi(1|n,h,o,s))}function Ff(e,n){$o(8390656,8,e,n)}function cr(e,n){jo(2048,8,e,n)}function My(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=Xo(),ve.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Jf(e){var n=Ye().memoizedState;return My({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Yf(e,n){return jo(4,2,e,n)}function Kf(e,n){return jo(4,4,e,n)}function Xf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qf(e,n,o){o=o!=null?o.concat([e]):null,jo(4,4,Xf.bind(null,n,e),o)}function fr(){}function Zf(e,n){var o=Ye();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&er(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function $f(e,n){var o=Ye();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&er(n,s[1]))return s[0];if(s=e(),fi){An(!0);try{e()}finally{An(!1)}}return o.memoizedState=[s,n],s}function dr(e,n,o){return o===void 0||(cn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=jd(),ve.lanes|=e,qn|=e,o)}function jf(e,n,o,s){return _t(o,n)?o:Vi.current!==null?(e=dr(e,o,s),_t(e,n)||(Qe=!0),e):(cn&42)===0||(cn&1073741824)!==0&&(Ee&261930)===0?(Qe=!0,e.memoizedState=o):(e=jd(),ve.lanes|=e,qn|=e,n)}function Wf(e,n,o,s,d){var h=G.p;G.p=h!==0&&8>h?h:8;var S=b.T,_={};b.T=_,pr(e,!1,n,o);try{var A=d(),D=b.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=Cy(A,s);Gl(e,n,V,Mt(e))}else Gl(e,n,s,Mt(e))}catch(B){Gl(e,n,{then:function(){},status:"rejected",reason:B},Mt())}finally{G.p=h,S!==null&&_.types!==null&&(S.types=_.types),b.T=S}}function Ry(){}function mr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=ed(e).queue;Wf(e,d,n,$,o===null?Ry:function(){return td(e),o(s)})}function ed(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:$},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function td(e){var n=ed(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Mt())}function hr(){return lt(to)}function nd(){return Ye().memoizedState}function id(){return Ye().memoizedState}function Iy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Mt();e=kn(o);var s=Un(n,e,o);s!==null&&(vt(s,n,o),kl(s,n,o)),n={cache:Os()},e.payload=n;return}n=n.return}}function Dy(e,n,o){var s=Mt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wo(e)?od(n,o):(o=Ds(e,n,o,s),o!==null&&(vt(o,e,s),ad(o,n,s)))}function ld(e,n,o){var s=Mt();Gl(e,n,o,s)}function Gl(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))od(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,o);if(d.hasEagerState=!0,d.eagerState=_,_t(_,S))return ko(e,n,d,0),qe===null&&Do(),!1}catch{}finally{}if(o=Ds(e,n,d,s),o!==null)return vt(o,e,s),ad(o,n,s),!0}return!1}function pr(e,n,o,s){if(s={lane:2,revertLane:Kr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(a(479))}else n=Ds(e,o,s,2),n!==null&&vt(n,e,2)}function Wo(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function od(e,n){Pi=Yo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ad(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,cc(e,o)}}var ql={readContext:lt,use:Qo,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};ql.useEffectEvent=Oe;var sd={readContext:lt,use:Qo,useCallback:function(e,n){return ut().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:Ff,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,$o(4194308,4,Xf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return $o(4194308,4,e,n)},useInsertionEffect:function(e,n){$o(4,2,e,n)},useMemo:function(e,n){var o=ut();n=n===void 0?null:n;var s=e();if(fi){An(!0);try{e()}finally{An(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=ut();if(o!==void 0){var d=o(n);if(fi){An(!0);try{o(n)}finally{An(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Dy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var n=ut();return e={current:e},n.memoizedState=e},useState:function(e){e=rr(e);var n=e.queue,o=ld.bind(null,ve,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:fr,useDeferredValue:function(e,n){var o=ut();return dr(o,e,n)},useTransition:function(){var e=rr(!1);return e=Wf.bind(null,ve,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ve,d=ut();if(Ae){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),qe===null)throw Error(a(349));(Ee&127)!==0||wf(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,Ff(Rf.bind(null,s,h,e),[e]),s.flags|=2048,Oi(9,{destroy:void 0},Mf.bind(null,s,h,o,n),null),o},useId:function(){var e=ut(),n=qe.identifierPrefix;if(Ae){var o=Zt,s=Qt;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ko++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Ay++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hr,useFormState:qf,useActionState:qf,useOptimistic:function(e){var n=ut();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=pr.bind(null,ve,!0,o),o.dispatch=n,[e,n]},useMemoCache:or,useCacheRefresh:function(){return ut().memoizedState=Iy.bind(null,ve)},useEffectEvent:function(e){var n=ut(),o={impl:e};return n.memoizedState=o,function(){if((Re&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},gr={readContext:lt,use:Qo,useCallback:Zf,useContext:lt,useEffect:cr,useImperativeHandle:Qf,useInsertionEffect:Yf,useLayoutEffect:Kf,useMemo:$f,useReducer:Zo,useRef:Of,useState:function(){return Zo(fn)},useDebugValue:fr,useDeferredValue:function(e,n){var o=Ye();return jf(o,Ue.memoizedState,e,n)},useTransition:function(){var e=Zo(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Nf,useId:nd,useHostTransitionStatus:hr,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,n){var o=Ye();return kf(o,Ue,e,n)},useMemoCache:or,useCacheRefresh:id};gr.useEffectEvent=Jf;var rd={readContext:lt,use:Qo,useCallback:Zf,useContext:lt,useEffect:cr,useImperativeHandle:Qf,useInsertionEffect:Yf,useLayoutEffect:Kf,useMemo:$f,useReducer:sr,useRef:Of,useState:function(){return sr(fn)},useDebugValue:fr,useDeferredValue:function(e,n){var o=Ye();return Ue===null?dr(o,e,n):jf(o,Ue.memoizedState,e,n)},useTransition:function(){var e=sr(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Nf,useId:nd,useHostTransitionStatus:hr,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,n){var o=Ye();return Ue!==null?kf(o,Ue,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:or,useCacheRefresh:id};rd.useEffectEvent=Jf;function yr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var vr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Mt(),d=kn(s);d.payload=n,o!=null&&(d.callback=o),n=Un(e,d,s),n!==null&&(vt(n,e,s),kl(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Mt(),d=kn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Un(e,d,s),n!==null&&(vt(n,e,s),kl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Mt(),s=kn(o);s.tag=2,n!=null&&(s.callback=n),n=Un(e,s,o),n!==null&&(vt(n,e,o),kl(n,e,o))}};function ud(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!Al(o,s)||!Al(d,h):!0}function cd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&vr.enqueueReplaceState(n,n.state,null)}function di(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function fd(e){Io(e)}function dd(e){console.error(e)}function md(e){Io(e)}function ea(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function hd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xr(e,n,o){return o=kn(o),o.tag=3,o.payload={element:null},o.callback=function(){ea(e,n)},o}function pd(e){return e=kn(e),e.tag=3,e}function gd(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){hd(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){hd(n,o,s),typeof d!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function ky(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Li(n,o,d,!0),o=At.current,o!==null){switch(o.tag){case 31:case 13:return Ht===null?da():o.alternate===null&&Fe===0&&(Fe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Po?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Fr(e,s,d)),!1;case 22:return o.flags|=65536,s===Po?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Fr(e,s,d)),!1}throw Error(a(435,o.tag))}return Fr(e,s,d),da(),!1}if(Ae)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Gs&&(e=Error(a(422),{cause:s}),wl(kt(e,o)))):(s!==Gs&&(n=Error(a(423),{cause:s}),wl(kt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=kt(s,o),d=xr(e.stateNode,s,d),Qs(e,d),Fe!==4&&(Fe=2)),!1;var h=Error(a(520),{cause:s});if(h=kt(h,o),Kl===null?Kl=[h]:Kl.push(h),Fe!==4&&(Fe=2),n===null)return!0;s=kt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=xr(o.stateNode,s,e),Qs(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Vn===null||!Vn.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=pd(d),gd(d,e,o,s),Qs(o,d),!1}o=o.return}while(o!==null);return!1}var Sr=Error(a(461)),Qe=!1;function ot(e,n,o,s){n.child=e===null?Sf(n,null,o,s):ci(n,e.child,o,s)}function yd(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ai(n),s=tr(e,n,o,S,h,d),_=nr(),e!==null&&!Qe?(ir(e,n,d),dn(e,n,d)):(Ae&&_&&zs(n),n.flags|=1,ot(e,n,s,d),n.child)}function vd(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!ks(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,xd(e,n,h,s,d)):(e=Lo(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!wr(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:Al,o(S,s)&&e.ref===n.ref)return dn(e,n,d)}return n.flags|=1,e=an(h,s),e.ref=n.ref,e.return=n,n.child=e}function xd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(Al(h,s)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=s=h,wr(e,d))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,dn(e,n,d)}return Tr(e,n,o,s,d)}function Sd(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return Td(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(n,h!==null?h.cachePool:null),h!==null?_f(n,h):$s(),Cf(n);else return s=n.lanes=536870912,Td(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(qo(n,h.cachePool),_f(n,h),zn(),n.memoizedState=null):(e!==null&&qo(n,null),$s(),zn());return ot(e,n,d,o),n.child}function Vl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Td(e,n,o,s,d){var h=Js();return h=h===null?null:{parent:Ke._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&qo(n,null),$s(),Cf(n),e!==null&&Li(e,n,s,!0),n.childLanes=d,null}function ta(e,n){return n=ia({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ed(e,n,o){return ci(n,e.child,null,o),e=ta(n,n.pendingProps),e.flags|=2,bt(n),n.memoizedState=null,e}function Uy(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=ta(n,s),n.lanes=536870912,Vl(null,e);if(Ws(n),(e=Ve)?(e=Um(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},o=of(e),o.return=n,n.child=o,it=n,Ve=null)):e=null,e===null)throw Rn(n);return n.lanes=536870912,null}return ta(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Ws(n),d)if(n.flags&256)n.flags&=-257,n=Ed(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||Li(e,n,o,!1),d=(o&e.childLanes)!==0,Qe||d){if(s=qe,s!==null&&(S=fc(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,ni(e,S),vt(s,e,S),Sr;da(),n=Ed(e,n,o)}else e=h.treeContext,Ve=Gt(S.nextSibling),it=n,Ae=!0,Mn=null,zt=!1,e!==null&&rf(n,e),n=ta(n,s),n.flags|=4096;return n}return e=an(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function na(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Tr(e,n,o,s,d){return ai(n),o=tr(e,n,o,s,void 0,d),s=nr(),e!==null&&!Qe?(ir(e,n,d),dn(e,n,d)):(Ae&&s&&zs(n),n.flags|=1,ot(e,n,o,d),n.child)}function _d(e,n,o,s,d,h){return ai(n),n.updateQueue=null,o=bf(n,s,o,d),Af(e),s=nr(),e!==null&&!Qe?(ir(e,n,h),dn(e,n,h)):(Ae&&s&&zs(n),n.flags|=1,ot(e,n,o,h),n.child)}function Cd(e,n,o,s,d){if(ai(n),n.stateNode===null){var h=Ii,S=o.contextType;typeof S=="object"&&S!==null&&(h=lt(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=vr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Ks(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?lt(S):Ii,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(yr(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&vr.enqueueReplaceState(h,h.state,null),Ll(n,s,h,d),Ul(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,A=di(o,_);h.props=A;var D=h.context,V=o.contextType;S=Ii,typeof V=="object"&&V!==null&&(S=lt(V));var B=o.getDerivedStateFromProps;V=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||D!==S)&&cd(n,h,s,S),Dn=!1;var U=n.memoizedState;h.state=U,Ll(n,s,h,d),Ul(),D=n.memoizedState,_||U!==D||Dn?(typeof B=="function"&&(yr(n,o,B,s),D=n.memoizedState),(A=Dn||ud(n,o,A,s,U,D,S))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),h.props=s,h.state=D,h.context=S,s=A):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Xs(e,n),S=n.memoizedProps,V=di(o,S),h.props=V,B=n.pendingProps,U=h.context,D=o.contextType,A=Ii,typeof D=="object"&&D!==null&&(A=lt(D)),_=o.getDerivedStateFromProps,(D=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==B||U!==A)&&cd(n,h,s,A),Dn=!1,U=n.memoizedState,h.state=U,Ll(n,s,h,d),Ul();var H=n.memoizedState;S!==B||U!==H||Dn||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof _=="function"&&(yr(n,o,_,s),H=n.memoizedState),(V=Dn||ud(n,o,V,s,U,H,A)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,A)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),h.props=s,h.state=H,h.context=A,s=V):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,na(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=ci(n,e.child,null,d),n.child=ci(n,null,o,d)):ot(e,n,o,d),n.memoizedState=h.state,e=n.child):e=dn(e,n,d),e}function Ad(e,n,o,s){return li(),n.flags|=256,ot(e,n,o,s),n.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _r(e){return{baseLanes:e,cachePool:hf()}}function Cr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=wt),e}function bd(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?Ln(n):zn(),(e=Ve)?(e=Um(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},o=of(e),o.return=n,n.child=o,it=n,Ve=null)):e=null,e===null)throw Rn(n);return au(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(zn(),d=n.mode,_=ia({mode:"hidden",children:_},d),s=ii(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=_r(o),s.childLanes=Cr(e,S,o),n.memoizedState=Er,Vl(null,s)):(Ln(n),Ar(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(h)n.flags&256?(Ln(n),n.flags&=-257,n=br(e,n,o)):n.memoizedState!==null?(zn(),n.child=e.child,n.flags|=128,n=null):(zn(),_=s.fallback,d=n.mode,s=ia({mode:"visible",children:s.children},d),_=ii(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ci(n,e.child,null,o),s=n.child,s.memoizedState=_r(o),s.childLanes=Cr(e,S,o),n.memoizedState=Er,n=Vl(null,s));else if(Ln(n),au(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,wl({value:s,source:null,stack:null}),n=br(e,n,o)}else if(Qe||Li(e,n,o,!1),S=(o&e.childLanes)!==0,Qe||S){if(S=qe,S!==null&&(s=fc(S,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,ni(e,s),vt(S,e,s),Sr;ou(_)||da(),n=br(e,n,o)}else ou(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Ve=Gt(_.nextSibling),it=n,Ae=!0,Mn=null,zt=!1,e!==null&&rf(n,e),n=Ar(n,s.children),n.flags|=4096);return n}return d?(zn(),_=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=an(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?_=an(D,_):(_=ii(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Vl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=_r(o):(d=_.cachePool,d!==null?(A=Ke._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=hf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Cr(e,S,o),n.memoizedState=Er,Vl(e.child,s)):(Ln(n),o=e.child,e=o.sibling,o=an(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function Ar(e,n){return n=ia({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ia(e,n){return e=Ct(22,e,null,n),e.lanes=0,e}function br(e,n,o){return ci(n,e.child,null,o),e=Ar(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Nd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ps(e.return,n,o)}function Nr(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function wd(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=Je.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,ee(Je,S),ot(e,n,s,o),s=Ae?Nl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,o,n);else if(e.tag===19)Nd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Jo(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Nr(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Jo(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Nr(n,!0,o,null,h,s);break;case"together":Nr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function dn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),qn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Li(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=an(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=an(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function wr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function Ly(e,n,o){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),In(n,Ke,e.memoizedState.cache),li();break;case 27:case 5:Bt(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(n),n.flags|=128,null):(o&n.child.childLanes)!==0?bd(e,n,o):(Ln(n),e=dn(e,n,o),e!==null?e.sibling:null);Ln(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Li(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return wd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(Je,Je.current),s)break;return null;case 22:return n.lanes=0,Sd(e,n,o,n.pendingProps);case 24:In(n,Ke,e.memoizedState.cache)}return dn(e,n,o)}function Md(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!wr(e,o)&&(n.flags&128)===0)return Qe=!1,Ly(e,n,o);Qe=(e.flags&131072)!==0}else Qe=!1,Ae&&(n.flags&1048576)!==0&&sf(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ri(n.elementType),n.type=e,typeof e=="function")ks(e)?(s=di(e,s),n.tag=1,n=Cd(null,n,e,s,o)):(n.tag=0,n=Tr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===z){n.tag=11,n=yd(null,n,e,s,o);break e}else if(d===X){n.tag=14,n=vd(null,n,e,s,o);break e}}throw n=ce(e)||e,Error(a(306,n,""))}}return n;case 0:return Tr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=di(s,n.pendingProps),Cd(e,n,s,d,o);case 3:e:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,Xs(e,n),Ll(n,s,null,o);var S=n.memoizedState;if(s=S.cache,In(n,Ke,s),s!==h.cache&&Bs(n,[Ke],o,!0),Ul(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Ad(e,n,s,o);break e}else if(s!==d){d=kt(Error(a(424)),n),wl(d),n=Ad(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Gt(e.firstChild),it=n,Ae=!0,Mn=null,zt=!0,o=Sf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(li(),s===d){n=dn(e,n,o);break e}ot(e,n,s,o)}n=n.child}return n;case 26:return na(e,n),e===null?(o=Vm(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ae||(o=n.type,e=n.pendingProps,s=xa(Y.current).createElement(o),s[nt]=n,s[dt]=e,at(s,o,e),We(s),n.stateNode=s):n.memoizedState=Vm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bt(n),e===null&&Ae&&(s=n.stateNode=Hm(n.type,n.pendingProps,Y.current),it=n,zt=!0,d=Ve,Fn(n.type)?(su=d,Ve=Gt(s.firstChild)):Ve=d),ot(e,n,n.pendingProps.children,o),na(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=Ve)&&(s=fv(s,n.type,n.pendingProps,zt),s!==null?(n.stateNode=s,it=n,Ve=Gt(s.firstChild),zt=!1,d=!0):d=!1),d||Rn(n)),Bt(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,nu(d,h)?s=null:S!==null&&nu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=tr(e,n,by,null,null,o),to._currentValue=d),na(e,n),ot(e,n,s,o),n.child;case 6:return e===null&&Ae&&((e=o=Ve)&&(o=dv(o,n.pendingProps,zt),o!==null?(n.stateNode=o,it=n,Ve=null,e=!0):e=!1),e||Rn(n)),null;case 13:return bd(e,n,o);case 4:return Ie(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ci(n,null,s,o):ot(e,n,s,o),n.child;case 11:return yd(e,n,n.type,n.pendingProps,o);case 7:return ot(e,n,n.pendingProps,o),n.child;case 8:return ot(e,n,n.pendingProps.children,o),n.child;case 12:return ot(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,In(n,n.type,s.value),ot(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ai(n),d=lt(d),s=s(d),n.flags|=1,ot(e,n,s,o),n.child;case 14:return vd(e,n,n.type,n.pendingProps,o);case 15:return xd(e,n,n.type,n.pendingProps,o);case 19:return wd(e,n,o);case 31:return Uy(e,n,o);case 22:return Sd(e,n,o,n.pendingProps);case 24:return ai(n),s=lt(Ke),e===null?(d=Js(),d===null&&(d=qe,h=Os(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},Ks(n),In(n,Ke,d)):((e.lanes&o)!==0&&(Xs(e,n),Ll(n,null,null,o),Ul()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),In(n,Ke,s)):(s=h.cache,In(n,Ke,s),s!==d.cache&&Bs(n,[Ke],o,!0))),ot(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function mn(e){e.flags|=4}function Mr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(nm())e.flags|=8192;else throw ui=Po,Ys}else e.flags&=-16777217}function Rd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(n))if(nm())e.flags|=8192;else throw ui=Po,Ys}function la(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rc():536870912,e.lanes|=n,Ki|=n)}function Pl(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function zy(e,n,o){var s=n.pendingProps;switch(Hs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),un(Ke),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ui(n)?mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),Pe(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(mn(n),h!==null?(Pe(n),Rd(n,h)):(Pe(n),Mr(n,d,null,s,o))):h?h!==e.memoizedState?(mn(n),Pe(n),Rd(n,h)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(n),Pe(n),Mr(n,d,e,s,o)),null;case 27:if(je(n),o=Y.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}e=oe.current,Ui(n)?uf(n):(e=Hm(d,s,o),n.stateNode=e,mn(n))}return Pe(n),null;case 5:if(je(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}if(h=oe.current,Ui(n))uf(n);else{var S=xa(Y.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[nt]=n,h[dt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(at(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(n)}}return Pe(n),Mr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Y.current,Ui(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=it,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[nt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||bm(e.nodeValue,o)),e||Rn(n,!0)}else e=xa(e).createTextNode(s),e[nt]=n,n.stateNode=e}return Pe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ui(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else o=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(bt(n),n):(bt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Pe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ui(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[nt]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),d=!1}else d=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(bt(n),n):(bt(n),null)}return bt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),la(n,n.updateQueue),Pe(n),null);case 4:return Ge(),e===null&&$r(n.stateNode.containerInfo),Pe(n),null;case 10:return un(n.type),Pe(n),null;case 19:if(O(Je),s=n.memoizedState,s===null)return Pe(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Pl(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Jo(e),h!==null){for(n.flags|=128,Pl(s,!1),e=h.updateQueue,n.updateQueue=e,la(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)lf(o,e),o=o.sibling;return ee(Je,Je.current&1|2),Ae&&sn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&St()>ua&&(n.flags|=128,d=!0,Pl(s,!1),n.lanes=4194304)}else{if(!d)if(e=Jo(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,la(n,e),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ae)return Pe(n),null}else 2*St()-s.renderingStartTime>ua&&o!==536870912&&(n.flags|=128,d=!0,Pl(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,o=Je.current,ee(Je,d?o&1|2:o&1),Ae&&sn(n,s.treeForkCount),e):(Pe(n),null);case 22:case 23:return bt(n),js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),o=n.updateQueue,o!==null&&la(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&O(si),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),un(Ke),Pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Hy(e,n){switch(Hs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return un(Ke),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return je(n),null;case 31:if(n.memoizedState!==null){if(bt(n),n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return O(Je),null;case 4:return Ge(),null;case 10:return un(n.type),null;case 22:case 23:return bt(n),js(),e!==null&&O(si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return un(Ke),null;case 25:return null;default:return null}}function Id(e,n){switch(Hs(n),n.tag){case 3:un(Ke),Ge();break;case 26:case 27:case 5:je(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&bt(n);break;case 13:bt(n);break;case 19:O(Je);break;case 10:un(n.type);break;case 22:case 23:bt(n),js(),e!==null&&O(si);break;case 24:un(Ke)}}function Bl(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){ke(n,n.return,_)}}function Hn(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var A=o,D=_;try{D()}catch(V){ke(d,A,V)}}}s=s.next}while(s!==h)}}catch(V){ke(n,n.return,V)}}function Dd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Ef(n,o)}catch(s){ke(e,e.return,s)}}}function kd(e,n,o){o.props=di(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){ke(e,n,s)}}function Ol(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){ke(e,n,d)}}function $t(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ke(e,n,d)}else o.current=null}function Ud(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){ke(e,e.return,d)}}function Rr(e,n,o){try{var s=e.stateNode;ov(s,e.type,o,n),s[dt]=n}catch(d){ke(e,e.return,d)}}function Ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ln));else if(s!==4&&(s===27&&Fn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Dr(e,n,o),e=e.sibling;e!==null;)Dr(e,n,o),e=e.sibling}function oa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(oa(e,n,o),e=e.sibling;e!==null;)oa(e,n,o),e=e.sibling}function zd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);at(n,s,o),n[nt]=e,n[dt]=o}catch(h){ke(e,e.return,h)}}var hn=!1,Ze=!1,kr=!1,Hd=typeof WeakSet=="function"?WeakSet:Set,et=null;function Gy(e,n){if(e=e.containerInfo,eu=ba,e=Xc(e),bs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,_=-1,A=-1,D=0,V=0,B=e,U=null;t:for(;;){for(var H;B!==o||d!==0&&B.nodeType!==3||(_=S+d),B!==h||s!==0&&B.nodeType!==3||(A=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(H=B.firstChild)!==null;)U=B,B=H;for(;;){if(B===e)break t;if(U===o&&++D===d&&(_=S),U===h&&++V===s&&(A=S),(H=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=H}o=_===-1||A===-1?null:{start:_,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(tu={focusedElem:e,selectionRange:o},ba=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var le=di(o.type,d);e=s.getSnapshotBeforeUpdate(le,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){ke(o,o.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)lu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function Gd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:gn(e,o),s&4&&Bl(5,o);break;case 1:if(gn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){ke(o,o.return,S)}else{var d=di(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){ke(o,o.return,S)}}s&64&&Dd(o),s&512&&Ol(o,o.return);break;case 3:if(gn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Ef(e,n)}catch(S){ke(o,o.return,S)}}break;case 27:n===null&&s&4&&zd(o);case 26:case 5:gn(e,o),n===null&&s&4&&Ud(o),s&512&&Ol(o,o.return);break;case 12:gn(e,o);break;case 31:gn(e,o),s&4&&Pd(e,o);break;case 13:gn(e,o),s&4&&Bd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Ky.bind(null,o),mv(e,o))));break;case 22:if(s=o.memoizedState!==null||hn,!s){n=n!==null&&n.memoizedState!==null||Ze,d=hn;var h=Ze;hn=s,(Ze=n)&&!h?yn(e,o,(o.subtreeFlags&8772)!==0):gn(e,o),hn=d,Ze=h}break;case 30:break;default:gn(e,o)}}function qd(e){var n=e.alternate;n!==null&&(e.alternate=null,qd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&us(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,ht=!1;function pn(e,n,o){for(o=o.child;o!==null;)Vd(e,n,o),o=o.sibling}function Vd(e,n,o){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ml,o)}catch{}switch(o.tag){case 26:Ze||$t(o,n),pn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ze||$t(o,n);var s=Be,d=ht;Fn(o.type)&&(Be=o.stateNode,ht=!1),pn(e,n,o),jl(o.stateNode),Be=s,ht=d;break;case 5:Ze||$t(o,n);case 6:if(s=Be,d=ht,Be=null,pn(e,n,o),Be=s,ht=d,Be!==null)if(ht)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(o.stateNode)}catch(h){ke(o,n,h)}else try{Be.removeChild(o.stateNode)}catch(h){ke(o,n,h)}break;case 18:Be!==null&&(ht?(e=Be,Dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),tl(e)):Dm(Be,o.stateNode));break;case 4:s=Be,d=ht,Be=o.stateNode.containerInfo,ht=!0,pn(e,n,o),Be=s,ht=d;break;case 0:case 11:case 14:case 15:Hn(2,o,n),Ze||Hn(4,o,n),pn(e,n,o);break;case 1:Ze||($t(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&kd(o,n,s)),pn(e,n,o);break;case 21:pn(e,n,o);break;case 22:Ze=(s=Ze)||o.memoizedState!==null,pn(e,n,o),Ze=s;break;default:pn(e,n,o)}}function Pd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{tl(e)}catch(o){ke(n,n.return,o)}}}function Bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tl(e)}catch(o){ke(n,n.return,o)}}function qy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hd),n;default:throw Error(a(435,e.tag))}}function aa(e,n){var o=qy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Xy.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Fn(_.type)){Be=_.stateNode,ht=!1;break e}break;case 5:Be=_.stateNode,ht=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,ht=!0;break e}_=_.return}if(Be===null)throw Error(a(160));Vd(h,S,d),Be=null,ht=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Od(n,e),n=n.sibling}var Ft=null;function Od(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),gt(e),s&4&&(Hn(3,e,e.return),Bl(3,e),Hn(5,e,e.return));break;case 1:pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),s&64&&hn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Ft;if(pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[gl]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),at(h,s,o),h[nt]=e,We(h),s=h;break e;case"link":var S=Om("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;case"meta":if(S=Om("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[nt]=e,We(h),s=h}e.stateNode=s}else Fm(d,e.type,e.stateNode);else e.stateNode=Bm(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Fm(d,e.type,e.stateNode):Bm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,o.memoizedProps)}break;case 27:pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),o!==null&&s&4&&Rr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pt(n,e),gt(e),s&512&&(Ze||o===null||$t(o,o.return)),e.flags&32){d=e.stateNode;try{Ci(d,"")}catch(le){ke(e,e.return,le)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Rr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(kr=!0);break;case 6:if(pt(n,e),gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(le){ke(e,e.return,le)}}break;case 3:if(Ea=null,d=Ft,Ft=Sa(n.containerInfo),pt(n,e),Ft=d,gt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(le){ke(e,e.return,le)}kr&&(kr=!1,Fd(e));break;case 4:s=Ft,Ft=Sa(e.stateNode.containerInfo),pt(n,e),gt(e),Ft=s;break;case 12:pt(n,e),gt(e);break;case 31:pt(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 13:pt(n,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ra=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 22:d=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,D=hn,V=Ze;if(hn=D||d,Ze=V||A,pt(n,e),Ze=V,hn=D,gt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||A||hn||Ze||mi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(h=A.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var B=A.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(le){ke(A,A.return,le)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(le){ke(A,A.return,le)}}}else if(n.tag===18){if(o===null){A=n;try{var H=A.stateNode;d?km(H,!0):km(A.stateNode,!1)}catch(le){ke(A,A.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,aa(e,o))));break;case 19:pt(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 30:break;case 21:break;default:pt(n,e),gt(e)}}function gt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Ld(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Ir(e);oa(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(Ci(S,""),o.flags&=-33);var _=Ir(e);oa(e,_,S);break;case 3:case 4:var A=o.stateNode.containerInfo,D=Ir(e);Dr(e,D,A);break;default:throw Error(a(161))}}catch(V){ke(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Fd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gd(e,n.alternate,n),n=n.sibling}function mi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hn(4,n,n.return),mi(n);break;case 1:$t(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&kd(n,n.return,o),mi(n);break;case 27:jl(n.stateNode);case 26:case 5:$t(n,n.return),mi(n);break;case 22:n.memoizedState===null&&mi(n);break;case 30:mi(n);break;default:mi(n)}e=e.sibling}}function yn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:yn(d,h,o),Bl(4,h);break;case 1:if(yn(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){ke(s,s.return,D)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Tf(A[d],_)}catch(D){ke(s,s.return,D)}}o&&S&64&&Dd(h),Ol(h,h.return);break;case 27:zd(h);case 26:case 5:yn(d,h,o),o&&s===null&&S&4&&Ud(h),Ol(h,h.return);break;case 12:yn(d,h,o);break;case 31:yn(d,h,o),o&&S&4&&Pd(d,h);break;case 13:yn(d,h,o),o&&S&4&&Bd(d,h);break;case 22:h.memoizedState===null&&yn(d,h,o),Ol(h,h.return);break;case 30:break;default:yn(d,h,o)}n=n.sibling}}function Ur(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ml(o))}function Lr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function Jt(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jd(e,n,o,s),n=n.sibling}function Jd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Jt(e,n,o,s),d&2048&&Bl(9,n);break;case 1:Jt(e,n,o,s);break;case 3:Jt(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(d&2048){Jt(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ke(n,n.return,A)}}else Jt(e,n,o,s);break;case 31:Jt(e,n,o,s);break;case 13:Jt(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Jt(e,n,o,s):Fl(e,n):h._visibility&2?Jt(e,n,o,s):(h._visibility|=2,Fi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ur(S,n);break;case 24:Jt(e,n,o,s),d&2048&&Lr(n.alternate,n);break;default:Jt(e,n,o,s)}}function Fi(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=o,A=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Fi(h,S,_,A,d),Bl(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Fi(h,S,_,A,d):Fl(h,S):(V._visibility|=2,Fi(h,S,_,A,d)),d&&D&2048&&Ur(S.alternate,S);break;case 24:Fi(h,S,_,A,d),d&&D&2048&&Lr(S.alternate,S);break;default:Fi(h,S,_,A,d)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Fl(o,s),d&2048&&Ur(s.alternate,s);break;case 24:Fl(o,s),d&2048&&Lr(s.alternate,s);break;default:Fl(o,s)}n=n.sibling}}var Jl=8192;function Ji(e,n,o){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)Yd(e,n,o),e=e.sibling}function Yd(e,n,o){switch(e.tag){case 26:Ji(e,n,o),e.flags&Jl&&e.memoizedState!==null&&Av(o,Ft,e.memoizedState,e.memoizedProps);break;case 5:Ji(e,n,o);break;case 3:case 4:var s=Ft;Ft=Sa(e.stateNode.containerInfo),Ji(e,n,o),Ft=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Jl,Jl=16777216,Ji(e,n,o),Jl=s):Ji(e,n,o));break;default:Ji(e,n,o)}}function Kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];et=s,Qd(s,e)}Kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xd(e),e=e.sibling}function Xd(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sa(e)):Yl(e);break;default:Yl(e)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];et=s,Qd(s,e)}Kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hn(8,n,n.return),sa(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,sa(n));break;default:sa(n)}e=e.sibling}}function Qd(e,n){for(;et!==null;){var o=et;switch(o.tag){case 0:case 11:case 15:Hn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,et=s;else e:for(o=e;et!==null;){s=et;var d=s.sibling,h=s.return;if(qd(s),s===o){et=null;break e}if(d!==null){d.return=h,et=d;break e}et=h}}}var Vy={getCacheForType:function(e){var n=lt(Ke),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return lt(Ke).controller.signal}},Py=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,Se=null,Ee=0,De=0,Nt=null,Gn=!1,Yi=!1,zr=!1,vn=0,Fe=0,qn=0,hi=0,Hr=0,wt=0,Ki=0,Kl=null,yt=null,Gr=!1,ra=0,Zd=0,ua=1/0,ca=null,Vn=null,$e=0,Pn=null,Xi=null,xn=0,qr=0,Vr=null,$d=null,Xl=0,Pr=null;function Mt(){return(Re&2)!==0&&Ee!==0?Ee&-Ee:b.T!==null?Kr():dc()}function jd(){if(wt===0)if((Ee&536870912)===0||Ae){var e=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),wt=e}else wt=536870912;return e=At.current,e!==null&&(e.flags|=32),wt}function vt(e,n,o){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),Bn(e,Ee,wt,!1)),pl(e,o),((Re&2)===0||e!==qe)&&(e===qe&&((Re&2)===0&&(hi|=o),Fe===4&&Bn(e,Ee,wt,!1)),jt(e))}function Wd(e,n,o){if((Re&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||hl(e,n),d=s?Fy(e,n):Or(e,n,!0),h=s;do{if(d===0){Yi&&!s&&Bn(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!By(o)){d=Or(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Kl;var A=_.current.memoizedState.isDehydrated;if(A&&(Qi(_,S).flags|=256),S=Or(_,S,!1),S!==2){if(zr&&!A){_.errorRecoveryDisabledLanes|=h,hi|=h,d=4;break e}h=yt,yt=d,h!==null&&(yt===null?yt=h:yt.push.apply(yt,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){Qi(e,0),Bn(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bn(s,n,wt,!Gn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ra+300-St(),10<d)){if(Bn(s,n,wt,!Gn),So(s,0,!0)!==0)break e;xn=n,s.timeoutHandle=Rm(em.bind(null,s,o,yt,ca,Gr,n,wt,hi,Ki,Gn,h,"Throttled",-0,0),d);break e}em(s,o,yt,ca,Gr,n,wt,hi,Ki,Gn,h,null,-0,0)}}break}while(!0);jt(e)}function em(e,n,o,s,d,h,S,_,A,D,V,B,U,H){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Yd(n,h,B);var le=(h&62914560)===h?ra-St():(h&4194048)===h?Zd-St():0;if(le=bv(B,le),le!==null){xn=h,e.cancelPendingCommit=le(rm.bind(null,e,n,h,o,s,d,S,_,A,V,B,null,U,H)),Bn(e,h,S,!D);return}}rm(e,n,h,o,s,d,S,_,A)}function By(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!_t(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n,o,s){n&=~Hr,n&=~hi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-Et(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&uc(e,o,n)}function fa(){return(Re&6)===0?(Ql(0),!1):!0}function Br(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,rn=oi=null,lr(e),qi=null,Il=0,e=Se;for(;e!==null;)Id(e.alternate,e),e=e.return;Se=null}}function Qi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,rv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),xn=0,Br(),qe=e,Se=o=an(e.current,null),Ee=n,De=0,Nt=null,Gn=!1,Yi=hl(e,n),zr=!1,Ki=wt=Hr=hi=qn=Fe=0,yt=Kl=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Et(s),h=1<<d;n|=e[d],s&=~h}return vn=n,Do(),o}function tm(e,n){ve=null,b.H=ql,n===Gi||n===Vo?(n=yf(),De=3):n===Ys?(n=yf(),De=4):De=n===Sr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nt=n,Se===null&&(Fe=1,ea(e,kt(n,e.current)))}function nm(){var e=At.current;return e===null?!0:(Ee&4194048)===Ee?Ht===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Ht:!1}function im(){var e=b.H;return b.H=ql,e===null?ql:e}function lm(){var e=b.A;return b.A=Vy,e}function da(){Fe=4,Gn||(Ee&4194048)!==Ee&&At.current!==null||(Yi=!0),(qn&134217727)===0&&(hi&134217727)===0||qe===null||Bn(qe,Ee,wt,!1)}function Or(e,n,o){var s=Re;Re|=2;var d=im(),h=lm();(qe!==e||Ee!==n)&&(ca=null,Qi(e,n)),n=!1;var S=Fe;e:do try{if(De!==0&&Se!==null){var _=Se,A=Nt;switch(De){case 8:Br(),S=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var D=De;if(De=0,Nt=null,Zi(e,_,A,D),o&&Yi){S=0;break e}break;default:D=De,De=0,Nt=null,Zi(e,_,A,D)}}Oy(),S=Fe;break}catch(V){tm(e,V)}while(!0);return n&&e.shellSuspendCounter++,rn=oi=null,Re=s,b.H=d,b.A=h,Se===null&&(qe=null,Ee=0,Do()),S}function Oy(){for(;Se!==null;)om(Se)}function Fy(e,n){var o=Re;Re|=2;var s=im(),d=lm();qe!==e||Ee!==n?(ca=null,ua=St()+500,Qi(e,n)):Yi=hl(e,n);e:do try{if(De!==0&&Se!==null){n=Se;var h=Nt;t:switch(De){case 1:De=0,Nt=null,Zi(e,n,h,1);break;case 2:case 9:if(pf(h)){De=0,Nt=null,am(n);break}n=function(){De!==2&&De!==9||qe!==e||(De=7),jt(e)},h.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:pf(h)?(De=0,Nt=null,am(n)):(De=0,Nt=null,Zi(e,n,h,7));break;case 5:var S=null;switch(Se.tag){case 26:S=Se.memoizedState;case 5:case 27:var _=Se;if(S?Jm(S):_.stateNode.complete){De=0,Nt=null;var A=_.sibling;if(A!==null)Se=A;else{var D=_.return;D!==null?(Se=D,ma(D)):Se=null}break t}}De=0,Nt=null,Zi(e,n,h,5);break;case 6:De=0,Nt=null,Zi(e,n,h,6);break;case 8:Br(),Fe=6;break e;default:throw Error(a(462))}}Jy();break}catch(V){tm(e,V)}while(!0);return rn=oi=null,b.H=s,b.A=d,Re=o,Se!==null?0:(qe=null,Ee=0,Do(),Fe)}function Jy(){for(;Se!==null&&!h0();)om(Se)}function om(e){var n=Md(e.alternate,e,vn);e.memoizedProps=e.pendingProps,n===null?ma(e):Se=n}function am(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=_d(o,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=_d(o,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:lr(n);default:Id(o,n),n=Se=lf(n,vn),n=Md(o,n,vn)}e.memoizedProps=e.pendingProps,n===null?ma(e):Se=n}function Zi(e,n,o,s){rn=oi=null,lr(n),qi=null,Il=0;var d=n.return;try{if(ky(e,d,n,o,Ee)){Fe=1,ea(e,kt(o,e.current)),Se=null;return}}catch(h){if(d!==null)throw Se=d,h;Fe=1,ea(e,kt(o,e.current)),Se=null;return}n.flags&32768?(Ae||s===1?e=!0:Yi||(Ee&536870912)!==0?e=!1:(Gn=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),sm(n,e)):ma(n)}function ma(e){var n=e;do{if((n.flags&32768)!==0){sm(n,Gn);return}e=n.return;var o=zy(n.alternate,n,vn);if(o!==null){Se=o;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Fe===0&&(Fe=5)}function sm(e,n){do{var o=Hy(e.alternate,e);if(o!==null){o.flags&=32767,Se=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=o}while(e!==null);Fe=6,Se=null}function rm(e,n,o,s,d,h,S,_,A){e.cancelPendingCommit=null;do ha();while($e!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Is,C0(e,o,h,S,_,A),e===qe&&(Se=qe=null,Ee=0),Xi=n,Pn=e,xn=o,qr=h,Vr=d,$d=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qy(go,function(){return mm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=b.T,b.T=null,d=G.p,G.p=2,S=Re,Re|=4;try{Gy(e,n,o)}finally{Re=S,G.p=d,b.T=s}}$e=1,um(),cm(),fm()}}function um(){if($e===1){$e=0;var e=Pn,n=Xi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=b.T,b.T=null;var s=G.p;G.p=2;var d=Re;Re|=4;try{Od(n,e);var h=tu,S=Xc(e.containerInfo),_=h.focusedElem,A=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&Kc(_.ownerDocument.documentElement,_)){if(A!==null&&bs(_)){var D=A.start,V=A.end;if(V===void 0&&(V=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(V,_.value.length);else{var B=_.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var H=U.getSelection(),le=_.textContent.length,de=Math.min(A.start,le),ze=A.end===void 0?de:Math.min(A.end,le);!H.extend&&de>ze&&(S=ze,ze=de,de=S);var M=Yc(_,de),N=Yc(_,ze);if(M&&N&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var I=B.createRange();I.setStart(M.node,M.offset),H.removeAllRanges(),de>ze?(H.addRange(I),H.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),H.addRange(I))}}}}for(B=[],H=_;H=H.parentNode;)H.nodeType===1&&B.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var P=B[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ba=!!eu,tu=eu=null}finally{Re=d,G.p=s,b.T=o}}e.current=n,$e=2}}function cm(){if($e===2){$e=0;var e=Pn,n=Xi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=b.T,b.T=null;var s=G.p;G.p=2;var d=Re;Re|=4;try{Gd(e,n.alternate,n)}finally{Re=d,G.p=s,b.T=o}}$e=3}}function fm(){if($e===4||$e===3){$e=0,p0();var e=Pn,n=Xi,o=xn,s=$d;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Xi=Pn=null,dm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Vn=null),ss(o),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ml,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=b.T,d=G.p,G.p=2,b.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{b.T=n,G.p=d}}(xn&3)!==0&&ha(),jt(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Pr?Xl++:(Xl=0,Pr=e):Xl=0,Ql(0)}}function dm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function ha(){return um(),cm(),fm(),mm()}function mm(){if($e!==5)return!1;var e=Pn,n=qr;qr=0;var o=ss(xn),s=b.T,d=G.p;try{G.p=32>o?32:o,b.T=null,o=Vr,Vr=null;var h=Pn,S=xn;if($e=0,Xi=Pn=null,xn=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,Xd(h.current),Jd(h,h.current,S,o),Re=_,Ql(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ml,h)}catch{}return!0}finally{G.p=d,b.T=s,dm(e,n)}}function hm(e,n,o){n=kt(o,n),n=xr(e.stateNode,n,2),e=Un(e,n,2),e!==null&&(pl(e,2),jt(e))}function ke(e,n,o){if(e.tag===3)hm(e,e,o);else for(;n!==null;){if(n.tag===3){hm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vn===null||!Vn.has(s))){e=kt(o,e),o=pd(2),s=Un(n,o,2),s!==null&&(gd(o,s,n,e),pl(s,2),jt(s));break}}n=n.return}}function Fr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Py;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(zr=!0,d.add(o),e=Yy.bind(null,e,n,o),n.then(e,e))}function Yy(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,qe===e&&(Ee&o)===o&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>St()-ra?(Re&2)===0&&Qi(e,0):Hr|=o,Ki===Ee&&(Ki=0)),jt(e)}function pm(e,n){n===0&&(n=rc()),e=ni(e,n),e!==null&&(pl(e,n),jt(e))}function Ky(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),pm(e,o)}function Xy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),pm(e,o)}function Qy(e,n){return is(e,n)}var pa=null,$i=null,Jr=!1,ga=!1,Yr=!1,On=0;function jt(e){e!==$i&&e.next===null&&($i===null?pa=$i=e:$i=$i.next=e),ga=!0,Jr||(Jr=!0,$y())}function Ql(e,n){if(!Yr&&ga){Yr=!0;do for(var o=!1,s=pa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-Et(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,xm(s,h))}else h=Ee,h=So(s,s===qe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||hl(s,h)||(o=!0,xm(s,h));s=s.next}while(o);Yr=!1}}function Zy(){gm()}function gm(){ga=Jr=!1;var e=0;On!==0&&sv()&&(e=On);for(var n=St(),o=null,s=pa;s!==null;){var d=s.next,h=ym(s,n);h===0?(s.next=null,o===null?pa=d:o.next=d,d===null&&($i=o)):(o=s,(e!==0||(h&3)!==0)&&(ga=!0)),s=d}$e!==0&&$e!==5||Ql(e),On!==0&&(On=0)}function ym(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Et(h),_=1<<S,A=d[S];A===-1?((_&o)===0||(_&s)!==0)&&(d[S]=_0(_,n)):A<=n&&(e.expiredLanes|=_),h&=~_}if(n=qe,o=Ee,o=So(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ls(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||hl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&ls(s),ss(o)){case 2:case 8:o=ac;break;case 32:o=go;break;case 268435456:o=sc;break;default:o=go}return s=vm.bind(null,e),o=is(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&ls(s),e.callbackPriority=2,e.callbackNode=null,2}function vm(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ha()&&e.callbackNode!==o)return null;var s=Ee;return s=So(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wd(e,s,n),ym(e,St()),e.callbackNode!=null&&e.callbackNode===o?vm.bind(null,e):null)}function xm(e,n){if(ha())return null;Wd(e,n,!0)}function $y(){uv(function(){(Re&6)!==0?is(oc,Zy):gm()})}function Kr(){if(On===0){var e=zi;e===0&&(e=yo,yo<<=1,(yo&261888)===0&&(yo=256)),On=e}return On}function Sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Co(""+e)}function Tm(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function jy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=Sm((d[dt]||null).action),S=s.submitter;S&&(n=(n=S[dt]||null)?Sm(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new wo("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(On!==0){var A=S?Tm(d,S):new FormData(d);mr(o,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(_.preventDefault(),A=S?Tm(d,S):new FormData(d),mr(o,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var Xr=0;Xr<Rs.length;Xr++){var Qr=Rs[Xr],Wy=Qr.toLowerCase(),ev=Qr[0].toUpperCase()+Qr.slice(1);Ot(Wy,"on"+ev)}Ot($c,"onAnimationEnd"),Ot(jc,"onAnimationIteration"),Ot(Wc,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(gy,"onTransitionRun"),Ot(yy,"onTransitionStart"),Ot(vy,"onTransitionCancel"),Ot(ef,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Em(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=D;try{h(d)}catch(V){Io(V)}d.currentTarget=null,h=A}else for(S=0;S<s.length;S++){if(_=s[S],A=_.instance,D=_.currentTarget,_=_.listener,A!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=D;try{h(d)}catch(V){Io(V)}d.currentTarget=null,h=A}}}}function Te(e,n){var o=n[rs];o===void 0&&(o=n[rs]=new Set);var s=e+"__bubble";o.has(s)||(_m(n,e,2,!1),o.add(s))}function Zr(e,n,o){var s=0;n&&(s|=4),_m(o,e,s,n)}var ya="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[ya]){e[ya]=!0,pc.forEach(function(o){o!=="selectionchange"&&(tv.has(o)||Zr(o,!1,e),Zr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ya]||(n[ya]=!0,Zr("selectionchange",!1,n))}}function _m(e,n,o,s){switch(jm(n)){case 2:var d=Mv;break;case 8:d=Rv;break;default:d=du}o=d.bind(null,n,o,e),d=void 0,!ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function jr(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=xi(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=h=S;continue e}_=_.parentNode}}s=s.return}Nc(function(){var D=h,V=ps(o),B=[];e:{var U=tf.get(e);if(U!==void 0){var H=wo,le=e;switch(e){case"keypress":if(bo(o)===0)break e;case"keydown":case"keyup":H=X0;break;case"focusin":le="focus",H=Ts;break;case"focusout":le="blur",H=Ts;break;case"beforeblur":case"afterblur":H=Ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=$0;break;case $c:case jc:case Wc:H=q0;break;case ef:H=W0;break;case"scroll":case"scrollend":H=U0;break;case"wheel":H=ty;break;case"copy":case"cut":case"paste":H=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Dc;break;case"toggle":case"beforetoggle":H=iy}var de=(n&4)!==0,ze=!de&&(e==="scroll"||e==="scrollend"),M=de?U!==null?U+"Capture":null:U;de=[];for(var N=D,I;N!==null;){var P=N;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||M===null||(P=vl(N,M),P!=null&&de.push($l(N,P,I))),ze)break;N=N.return}0<de.length&&(U=new H(U,le,null,o,V),B.push({event:U,listeners:de}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&o!==hs&&(le=o.relatedTarget||o.fromElement)&&(xi(le)||le[vi]))break e;if((H||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,H?(le=o.relatedTarget||o.toElement,H=D,le=le?xi(le):null,le!==null&&(ze=c(le),de=le.tag,le!==ze||de!==5&&de!==27&&de!==6)&&(le=null)):(H=null,le=D),H!==le)){if(de=Rc,P="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(de=Dc,P="onPointerLeave",M="onPointerEnter",N="pointer"),ze=H==null?U:yl(H),I=le==null?U:yl(le),U=new de(P,N+"leave",H,o,V),U.target=ze,U.relatedTarget=I,P=null,xi(V)===D&&(de=new de(M,N+"enter",le,o,V),de.target=I,de.relatedTarget=ze,P=de),ze=P,H&&le)t:{for(de=nv,M=H,N=le,I=0,P=M;P;P=de(P))I++;P=0;for(var ue=N;ue;ue=de(ue))P++;for(;0<I-P;)M=de(M),I--;for(;0<P-I;)N=de(N),P--;for(;I--;){if(M===N||N!==null&&M===N.alternate){de=M;break t}M=de(M),N=de(N)}de=null}else de=null;H!==null&&Cm(B,U,H,de,!1),le!==null&&ze!==null&&Cm(B,ze,le,de,!0)}}e:{if(U=D?yl(D):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Ne=Vc;else if(Gc(U))if(Pc)Ne=my;else{Ne=fy;var ae=cy}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&ms(D.elementType)&&(Ne=Vc):Ne=dy;if(Ne&&(Ne=Ne(e,D))){qc(B,Ne,o,V);break e}ae&&ae(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&ds(U,"number",U.value)}switch(ae=D?yl(D):window,e){case"focusin":(Gc(ae)||ae.contentEditable==="true")&&(wi=ae,Ns=D,bl=null);break;case"focusout":bl=Ns=wi=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,Qc(B,o,V);break;case"selectionchange":if(py)break;case"keydown":case"keyup":Qc(B,o,V)}var xe;if(_s)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ni?zc(e,o)&&(_e="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(kc&&o.locale!=="ko"&&(Ni||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ni&&(xe=wc()):(Nn=V,vs="value"in Nn?Nn.value:Nn.textContent,Ni=!0)),ae=va(D,_e),0<ae.length&&(_e=new Ic(_e,e,null,o,V),B.push({event:_e,listeners:ae}),xe?_e.data=xe:(xe=Hc(o),xe!==null&&(_e.data=xe)))),(xe=oy?ay(e,o):sy(e,o))&&(_e=va(D,"onBeforeInput"),0<_e.length&&(ae=new Ic("onBeforeInput","beforeinput",null,o,V),B.push({event:ae,listeners:_e}),ae.data=xe)),jy(B,e,D,o,V)}Em(B,n)})}function $l(e,n,o){return{instance:e,listener:n,currentTarget:o}}function va(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=vl(e,o),d!=null&&s.unshift($l(e,d,h)),d=vl(e,n),d!=null&&s.push($l(e,d,h))),e.tag===3)return s;e=e.return}return[]}function nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cm(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var _=o,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||D===null||(A=D,d?(D=vl(o,h),D!=null&&S.unshift($l(o,D,A))):d||(D=vl(o,h),D!=null&&S.push($l(o,D,A)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var iv=/\r\n?/g,lv=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(lv,"")}function bm(e,n){return n=Am(n),Am(e)===n}function Le(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ci(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ci(e,""+s);break;case"className":Eo(e,"class",s);break;case"tabIndex":Eo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(e,o,s);break;case"style":Ac(e,s,h);break;case"data":if(n!=="object"){Eo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Co(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&Le(e,n,"name",d.name,d,null),Le(e,n,"formEncType",d.formEncType,d,null),Le(e,n,"formMethod",d.formMethod,d,null),Le(e,n,"formTarget",d.formTarget,d,null)):(Le(e,n,"encType",d.encType,d,null),Le(e,n,"method",d.method,d,null),Le(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Co(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=ln);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Co(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),To(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":To(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=D0.get(o)||o,To(e,o,s))}}function Wr(e,n,o,s,d,h){switch(o){case"style":Ac(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Ci(e,s):(typeof s=="number"||typeof s=="bigint")&&Ci(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[dt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):To(e,o,s)}}}function at(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,h,S,o,null)}}d&&Le(e,n,"srcSet",o.srcSet,o,null),s&&Le(e,n,"src",o.src,o,null);return;case"input":Te("invalid",e);var _=h=S=d=null,A=null,D=null;for(s in o)if(o.hasOwnProperty(s)){var V=o[s];if(V!=null)switch(s){case"name":d=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":D=V;break;case"value":h=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Le(e,n,s,V,o,null)}}Tc(e,h,_,A,D,S,d,!1);return;case"select":Te("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Le(e,n,d,_,o,null)}n=h,o=S,e.multiple=!!s,n!=null?_i(e,!!s,n,!1):o!=null&&_i(e,!!s,o,!0);return;case"textarea":Te("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Le(e,n,S,_,o,null)}_c(e,s,d,h);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,A,s,o,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Te(Zl[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(s=o[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,D,s,o,null)}return;default:if(ms(n)){for(V in o)o.hasOwnProperty(V)&&(s=o[V],s!==void 0&&Wr(e,n,V,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Le(e,n,_,s,o,null))}function ov(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,A=null,D=null,V=null;for(H in o){var B=o[H];if(o.hasOwnProperty(H)&&B!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(H)||Le(e,n,H,null,s,B)}}for(var U in s){var H=s[U];if(B=o[U],s.hasOwnProperty(U)&&(H!=null||B!=null))switch(U){case"type":h=H;break;case"name":d=H;break;case"checked":D=H;break;case"defaultChecked":V=H;break;case"value":S=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==B&&Le(e,n,U,H,s,B)}}fs(e,S,_,A,D,V,h,d);return;case"select":H=S=_=U=null;for(h in o)if(A=o[h],o.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":H=A;default:s.hasOwnProperty(h)||Le(e,n,h,null,s,A)}for(d in s)if(h=s[d],A=o[d],s.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":U=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==A&&Le(e,n,d,h,s,A)}n=_,o=S,s=H,U!=null?_i(e,!!o,U,!1):!!s!=!!o&&(n!=null?_i(e,!!o,n,!0):_i(e,!!o,o?[]:"",!1));return;case"textarea":H=U=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":U=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Le(e,n,S,d,s,h)}Ec(e,U,H);return;case"option":for(var le in o)if(U=o[le],o.hasOwnProperty(le)&&U!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Le(e,n,le,null,s,U)}for(A in s)if(U=s[A],H=o[A],s.hasOwnProperty(A)&&U!==H&&(U!=null||H!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Le(e,n,A,U,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)U=o[de],o.hasOwnProperty(de)&&U!=null&&!s.hasOwnProperty(de)&&Le(e,n,de,null,s,U);for(D in s)if(U=s[D],H=o[D],s.hasOwnProperty(D)&&U!==H&&(U!=null||H!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Le(e,n,D,U,s,H)}return;default:if(ms(n)){for(var ze in o)U=o[ze],o.hasOwnProperty(ze)&&U!==void 0&&!s.hasOwnProperty(ze)&&Wr(e,n,ze,void 0,s,U);for(V in s)U=s[V],H=o[V],!s.hasOwnProperty(V)||U===H||U===void 0&&H===void 0||Wr(e,n,V,U,s,H);return}}for(var M in o)U=o[M],o.hasOwnProperty(M)&&U!=null&&!s.hasOwnProperty(M)&&Le(e,n,M,null,s,U);for(B in s)U=s[B],H=o[B],!s.hasOwnProperty(B)||U===H||U==null&&H==null||Le(e,n,B,U,s,H)}function Nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function av(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&Nm(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var A=o[s],D=A.startTime;if(D>_)break;var V=A.transferSize,B=A.initiatorType;V&&Nm(B)&&(A=A.responseEnd,S+=V*(A<_?1:(_-D)/(A-D)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function xa(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var iu=null;function sv(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(cv)}:Rm;function cv(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Dm(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),tl(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")jl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,jl(o);for(var h=o.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[gl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&jl(e.ownerDocument.body);o=d}while(o);tl(n)}function km(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lu(o),us(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function fv(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[gl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function dv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Gt(e.nextSibling),e===null))return null;return e}function Um(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function ou(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var su=null;function Lm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Gt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function zm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Hm(e,n,o){switch(n=xa(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);us(e)}var qt=new Map,Gm=new Set;function Sa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=G.d;G.d={f:hv,r:pv,D:gv,C:yv,L:vv,m:xv,X:Tv,S:Sv,M:Ev};function hv(){var e=Sn.f(),n=fa();return e||n}function pv(e){var n=Si(e);n!==null&&n.tag===5&&n.type==="form"?td(n):Sn.r(e)}var ji=typeof document>"u"?null:document;function qm(e,n,o){var s=ji;if(s&&typeof n=="string"&&n){var d=It(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Gm.has(d)||(Gm.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function gv(e){Sn.D(e),qm("dns-prefetch",e,null)}function yv(e,n){Sn.C(e,n),qm("preconnect",e,n)}function vv(e,n,o){Sn.L(e,n,o);var s=ji;if(s&&e&&n){var d='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+It(o.imageSizes)+'"]')):d+='[href="'+It(e)+'"]';var h=d;switch(n){case"style":h=Wi(e);break;case"script":h=el(e)}qt.has(h)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),qt.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Wl(h))||n==="script"&&s.querySelector(eo(h))||(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function xv(e,n){Sn.m(e,n);var o=ji;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=el(e)}if(!qt.has(h)&&(e=T({rel:"modulepreload",href:e},n),qt.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eo(h)))return}s=o.createElement("link"),at(s,"link",e),We(s),o.head.appendChild(s)}}}function Sv(e,n,o){Sn.S(e,n,o);var s=ji;if(s&&e){var d=Ti(s).hoistableStyles,h=Wi(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Wl(h)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=qt.get(h))&&ru(e,o);var A=S=s.createElement("link");We(A),at(A,"link",e),A._p=new Promise(function(D,V){A.onload=D,A.onerror=V}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ta(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function Tv(e,n){Sn.X(e,n);var o=ji;if(o&&e){var s=Ti(o).hoistableScripts,d=el(e),h=s.get(d);h||(h=o.querySelector(eo(d)),h||(e=T({src:e,async:!0},n),(n=qt.get(d))&&uu(e,n),h=o.createElement("script"),We(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Ev(e,n){Sn.M(e,n);var o=ji;if(o&&e){var s=Ti(o).hoistableScripts,d=el(e),h=s.get(d);h||(h=o.querySelector(eo(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&uu(e,n),h=o.createElement("script"),We(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Vm(e,n,o,s){var d=(d=Y.current)?Sa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Wi(o.href),o=Ti(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Wi(o.href);var h=Ti(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(Wl(e)))&&!h._p&&(S.instance=h,S.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),h||_v(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(o),o=Ti(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wi(e){return'href="'+It(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Pm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function _v(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),at(n,"link",o),We(n),e.head.appendChild(n))}function el(e){return'[src="'+It(e)+'"]'}function eo(e){return"script[async]"+e}function Bm(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+It(o.href)+'"]');if(s)return n.instance=s,We(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),at(s,"style",d),Ta(s,o.precedence,e),n.instance=s;case"stylesheet":d=Wi(o.href);var h=e.querySelector(Wl(d));if(h)return n.state.loading|=4,n.instance=h,We(h),h;s=Pm(o),(d=qt.get(d))&&ru(s,d),h=(e.ownerDocument||e).createElement("link"),We(h);var S=h;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),at(h,"link",s),n.state.loading|=4,Ta(h,o.precedence,e),n.instance=h;case"script":return h=el(o.src),(d=e.querySelector(eo(h)))?(n.instance=d,We(d),d):(s=o,(d=qt.get(h))&&(s=T({},o),uu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),We(d),at(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ta(s,o.precedence,e));return n.instance}function Ta(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ea=null;function Om(e,n,o){if(Ea===null){var s=new Map,d=Ea=new Map;d.set(o,s)}else d=Ea,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[gl]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Fm(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Cv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Av(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Wi(s.href),h=n.querySelector(Wl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_a.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,We(h);return}h=n.ownerDocument||n,s=Pm(s),(d=qt.get(d))&&ru(s,d),h=h.createElement("link"),We(h);var S=h;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),at(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=_a.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var cu=0;function bv(e,n){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&cu===0&&(cu=62500*av());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>cu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function _a(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ca=null;function Aa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ca=new Map,n.forEach(Nv,e),Ca=null,_a.call(e))}function Nv(e,n){if(!(n.state.loading&4)){var o=Ca.get(e);if(o)var s=o.get(null);else{o=new Map,Ca.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=_a.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var to={$$typeof:J,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function wv(e,n,o,s,d,h,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ym(e,n,o,s,d,h,S,_,A,D,V,B){return e=new wv(e,n,o,S,A,D,V,B,_),n=1,h===!0&&(n|=24),h=Ct(3,null,null,n),e.current=h,h.stateNode=e,n=Os(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},Ks(h),e}function Km(e){return e?(e=Ii,e):Ii}function Xm(e,n,o,s,d,h){d=Km(d),s.context===null?s.context=d:s.pendingContext=d,s=kn(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=Un(e,s,n),o!==null&&(vt(o,e,n),kl(o,e,n))}function Qm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function fu(e,n){Qm(e,n),(e=e.alternate)&&Qm(e,n)}function Zm(e){if(e.tag===13||e.tag===31){var n=ni(e,67108864);n!==null&&vt(n,e,67108864),fu(e,67108864)}}function $m(e){if(e.tag===13||e.tag===31){var n=Mt();n=as(n);var o=ni(e,n);o!==null&&vt(o,e,n),fu(e,n)}}var ba=!0;function Mv(e,n,o,s){var d=b.T;b.T=null;var h=G.p;try{G.p=2,du(e,n,o,s)}finally{G.p=h,b.T=d}}function Rv(e,n,o,s){var d=b.T;b.T=null;var h=G.p;try{G.p=8,du(e,n,o,s)}finally{G.p=h,b.T=d}}function du(e,n,o,s){if(ba){var d=mu(s);if(d===null)jr(e,n,s,Na,o),Wm(e,s);else if(Dv(d,e,n,o,s))s.stopPropagation();else if(Wm(e,s),n&4&&-1<Iv.indexOf(e)){for(;d!==null;){var h=Si(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=$n(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Et(S);_.entanglements[1]|=A,S&=~A}jt(h),(Re&6)===0&&(ua=St()+500,Ql(0))}}break;case 31:case 13:_=ni(h,2),_!==null&&vt(_,h,2),fa(),fu(h,2)}if(h=mu(s),h===null&&jr(e,n,s,Na,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else jr(e,n,s,null,o)}}function mu(e){return e=ps(e),hu(e)}var Na=null;function hu(e){if(Na=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Na=e,null}function jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(g0()){case oc:return 2;case ac:return 8;case go:case y0:return 32;case sc:return 268435456;default:return 32}default:return 32}}var pu=!1,Jn=null,Yn=null,Kn=null,no=new Map,io=new Map,Xn=[],Iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,n){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function lo(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Si(n),n!==null&&Zm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Dv(e,n,o,s,d){switch(n){case"focusin":return Jn=lo(Jn,e,n,o,s,d),!0;case"dragenter":return Yn=lo(Yn,e,n,o,s,d),!0;case"mouseover":return Kn=lo(Kn,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return no.set(h,lo(no.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,io.set(h,lo(io.get(h)||null,e,n,o,s,d)),!0}return!1}function eh(e){var n=xi(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,mc(e.priority,function(){$m(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,mc(e.priority,function(){$m(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=mu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);hs=s,o.target.dispatchEvent(s),hs=null}else return n=Si(o),n!==null&&Zm(n),e.blockedOn=o,!1;n.shift()}return!0}function th(e,n,o){wa(e)&&o.delete(n)}function kv(){pu=!1,Jn!==null&&wa(Jn)&&(Jn=null),Yn!==null&&wa(Yn)&&(Yn=null),Kn!==null&&wa(Kn)&&(Kn=null),no.forEach(th),io.forEach(th)}function Ma(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kv)))}var Ra=null;function nh(e){Ra!==e&&(Ra=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ra===e&&(Ra=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(hu(s||o)===null)continue;break}var h=Si(o);h!==null&&(e.splice(n,3),n-=3,mr(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function tl(e){function n(A){return Ma(A,e)}Jn!==null&&Ma(Jn,e),Yn!==null&&Ma(Yn,e),Kn!==null&&Ma(Kn,e),no.forEach(n),io.forEach(n);for(var o=0;o<Xn.length;o++){var s=Xn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xn.length&&(o=Xn[0],o.blockedOn===null);)eh(o),o.blockedOn===null&&Xn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[dt]||null;if(typeof h=="function")S||nh(o);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[dt]||null)_=S.formAction;else if(hu(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),nh(o)}}}function ih(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function gu(e){this._internalRoot=e}Ia.prototype.render=gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Mt();Xm(o,s,e,n,null,null)},Ia.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xm(e.current,2,null,e,null,null),fa(),n[vi]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=dc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Xn.length&&n!==0&&n<Xn[o].priority;o++);Xn.splice(o,0,e),o===0&&eh(e)}};var lh=t.version;if(lh!=="19.2.3")throw Error(a(527,lh,"19.2.3"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Uv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{ml=Da.inject(Uv),Tt=Da}catch{}}return ao.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=fd,h=dd,S=md;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Ym(e,1,!1,null,null,o,s,null,d,h,S,ih),e[vi]=n.current,$r(e),new gu(n)},ao.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=fd,S=dd,_=md,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=Ym(e,1,!0,n,o??null,s,d,A,h,S,_,ih),n.context=Km(null),o=n.current,s=Mt(),s=as(s),d=kn(s),d.callback=null,Un(o,d,s),o=s,n.current.lanes=o,pl(n,o),jt(n),e[vi]=n.current,$r(e),new Ia(n)},ao.version="19.2.3",ao}var hh;function Jv(){if(hh)return xu.exports;hh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xu.exports=Fv(),xu.exports}var Yv=Jv();const Kv=tg(Yv);var He=(i=>(i.Home="home",i.Quran="quran",i.Tasbih="tasbih",i.Calendar="calendar",i.Adhan="adhan",i.Dua="dua",i.Explore="explore",i.Qiblah="qiblah",i.Settings="settings",i))(He||{});const Xv="NoorOfflineDB",ph=2;class Qv{constructor(){this.db=null}async init(){return new Promise((t,l)=>{try{const a=indexedDB.open(Xv,ph);a.onupgradeneeded=r=>{const c=r.target.result;console.log("Upgrading IndexedDB to version",ph),c.objectStoreNames.contains("surahs")||c.createObjectStore("surahs",{keyPath:"number"}),c.objectStoreNames.contains("ayahs")||c.createObjectStore("ayahs",{keyPath:"id"}),c.objectStoreNames.contains("prayerTimes")||c.createObjectStore("prayerTimes",{keyPath:"date"}),c.objectStoreNames.contains("adhanAudios")||c.createObjectStore("adhanAudios",{keyPath:"id"})},a.onsuccess=r=>{this.db=r.target.result,console.log("IndexedDB initialized successfully"),t()},a.onerror=r=>{console.error("IndexedDB initialization error:",r),l("Failed to open IndexedDB. This might happen in private browsing mode.")}}catch(a){console.error("IndexedDB catch-all error:",a),l("IndexedDB is not supported in this browser environment.")}})}async saveAdhanAudio(t,l){if(!this.db)throw new Error("Database not initialized");return new Promise((a,r)=>{const g=this.db.transaction("adhanAudios","readwrite").objectStore("adhanAudios").put({id:t,audioBlob:l});g.onsuccess=()=>a(),g.onerror=()=>r(g.error)})}async getAdhanAudio(t){return this.db?new Promise(l=>{const c=this.db.transaction("adhanAudios","readonly").objectStore("adhanAudios").get(t);c.onsuccess=()=>{var m;return l(((m=c.result)==null?void 0:m.audioBlob)||null)},c.onerror=()=>l(null)}):null}async deleteAdhanAudio(t){if(this.db)return new Promise(l=>{const c=this.db.transaction("adhanAudios","readwrite").objectStore("adhanAudios").delete(t);c.onsuccess=()=>l(),c.onerror=()=>l()})}async getAllDownloadedAdhanIds(){return this.db?new Promise(t=>{const r=this.db.transaction("adhanAudios","readonly").objectStore("adhanAudios").getAllKeys();r.onsuccess=()=>t(r.result),r.onerror=()=>t([])}):[]}async saveSurahs(t){if(!this.db)return;const l=this.db.transaction("surahs","readwrite"),a=l.objectStore("surahs");return t.forEach(r=>a.put(r)),new Promise(r=>l.oncomplete=()=>r())}async getSurahs(){if(!this.db)return[];const a=this.db.transaction("surahs","readonly").objectStore("surahs").getAll();return new Promise(r=>a.onsuccess=()=>r(a.result))}async saveSurahContent(t,l){if(!this.db)return;const a=this.db.transaction(["ayahs","surahs"],"readwrite"),r=a.objectStore("ayahs"),c=a.objectStore("surahs");l.forEach(g=>r.put({...g,id:`${t}_${g.numberInSurah}`,surahNumber:t}));const m=c.get(t);return m.onsuccess=()=>{m.result&&c.put({...m.result,isDownloaded:!0})},new Promise(g=>a.oncomplete=()=>g())}async getSurahContent(t){if(!this.db)return[];const r=this.db.transaction("ayahs","readonly").objectStore("ayahs").getAll();return new Promise(c=>r.onsuccess=()=>{const m=r.result.filter(g=>g.surahNumber===t);c(m)})}async removeSurahContent(t){if(!this.db)return;const l=this.db.transaction(["ayahs","surahs"],"readwrite"),a=l.objectStore("ayahs"),r=l.objectStore("surahs"),c=a.getAll();c.onsuccess=()=>{c.result.forEach(g=>{g.surahNumber===t&&a.delete(g.id)})};const m=r.get(t);return m.onsuccess=()=>{m.result&&r.put({...m.result,isDownloaded:!1})},new Promise(g=>l.oncomplete=()=>g())}async saveMonthlyPrayer(t,l){if(!this.db)return;this.db.transaction("prayerTimes","readwrite").objectStore("prayerTimes").put({date:t,times:l})}async getPrayerTimes(t){if(!this.db)return null;const a=this.db.transaction("prayerTimes","readonly").objectStore("prayerTimes").get(t);return new Promise(r=>a.onsuccess=()=>{var c;return r(((c=a.result)==null?void 0:c.times)||null)})}}const Wt=new Qv;var Zv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $v,jv;function Wv(){return{geminiUrl:$v,vertexUrl:jv}}function ex(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const m=Wv();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(c=m.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{}function ne(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let p=0;p<y.length;p++){const x=y[p];f(x,t.slice(c+1),l[p])}else for(const p of y)f(p,t.slice(c+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const m=i[c];return Array.isArray(m)?m.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function tx(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const p=c[y];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&m.add(p)}bu(i,r,c,0,m)}}function bu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const m=c.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])bu(y,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(p=>!p.startsWith("_")&&!r.has(p)),y={};for(const p of g)y[p]=m[p];for(const[p,x]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(p):T.push(E);f(m,T,x)}for(const p of g)delete m[p]}}else{const m=i;c in m&&bu(m[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function ix(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],ox(m)),t}function lx(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],ax(m)),t}function ox(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>sx(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function ax(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>rx(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function sx(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],hx(l)),t}function rx(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],px(l)),t}function ux(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function cx(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function fx(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],dx(m)),t}function dx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function ng(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],mx(m)),t}function mx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function hx(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Ou(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function px(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ou(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gh||(gh={}));var yh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(yh||(yh={}));var vh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(vh||(vh={}));var xt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(xt||(xt={}));var xh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(xh||(xh={}));var Sh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sh||(Sh={}));var Th;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Th||(Th={}));var Eh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Eh||(Eh={}));var _h;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(_h||(_h={}));var Ch;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Ch||(Ch={}));var Ah;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ah||(Ah={}));var bh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(bh||(bh={}));var Nh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Nh||(Nh={}));var wh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(wh||(wh={}));var Mh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Mh||(Mh={}));var Rh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Rh||(Rh={}));var Ih;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ih||(Ih={}));var Dh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Dh||(Dh={}));var kh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kh||(kh={}));var Pa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Pa||(Pa={}));var Uh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Uh||(Uh={}));var Lh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Lh||(Lh={}));var zh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zh||(zh={}));var Nu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nu||(Nu={}));var Hh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hh||(Hh={}));var Gh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Gh||(Gh={}));var qh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(qh||(qh={}));var Vh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Vh||(Vh={}));var Ph;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ph||(Ph={}));var Bh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bh||(Bh={}));var Oh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Oh||(Oh={}));var Fh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Fh||(Fh={}));var Jh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Jh||(Jh={}));var Yh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Yh||(Yh={}));var Kh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kh||(Kh={}));var Xh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xh||(Xh={}));var Qh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qh||(Qh={}));var Zh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zh||(Zh={}));var $h;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})($h||($h={}));var jh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(jh||(jh={}));var Wh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Wh||(Wh={}));var ep;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(ep||(ep={}));var tp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(tp||(tp={}));var np;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(np||(np={}));var ip;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(ip||(ip={}));var lp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(lp||(lp={}));var op;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(op||(op={}));var ap;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ap||(ap={}));var sp;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sp||(sp={}));var rp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rp||(rp={}));var up;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(up||(up={}));var cp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(cp||(cp={}));var fp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fp||(fp={}));var dp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dp||(dp={}));var mp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(mp||(mp={}));var ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ll||(ll={}));class wu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class so{get text(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const T=[];for(const E of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,R]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(R!==null||R!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,p+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const T of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&x.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var t,l,a,r,c,m,g,y,p;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,l,a,r,c,m,g,y,p;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class hp{}class pp{}class gx{}class yx{}class vx{}class xx{}class gp{}class yp{}class vp{}class Sx{}class Ba{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ba;let r;const c=t;return l?r=lx(c):r=ix(c),Object.assign(a,r),a}}class xp{}class Sp{}class Tp{}class Ep{}class Tx{}class Ex{}class _x{}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fu,c=fx(t);return Object.assign(a,c),a}}class Cx{}class Ax{}class bx{}class _p{}class Nx{get text(){var t,l,a;let r="",c=!1;const m=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&c.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class wx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ju{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ju,c=ng(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ig(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function lg(i){return Array.isArray(i)?i.map(t=>Oa(t)):[Oa(i)]}function Oa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function og(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ag(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Cp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function sg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Cp(t)):[Cp(i)]}function Mu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Ap(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function bp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function rt(i){if(i==null)throw new Error("ContentUnion is required");return Mu(i)?i:{role:"user",parts:sg(i)}}function Yu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=rt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=rt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>rt(l)):[rt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Ap(i)||bp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(i)]}const t=[],l=[],a=Mu(i[0]);for(const r of i){const c=Mu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Ap(r)||bp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:sg(l)}),t}function Mx(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(xt).includes(l[0].toUpperCase())?l[0].toUpperCase():xt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(xt).includes(a.toUpperCase())?a.toUpperCase():xt.TYPE_UNSPECIFIED})}}function al(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&Mx(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(xt).includes(g.toUpperCase())?g.toUpperCase():xt.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=al(g);else if(a.includes(m)){const y=[];for(const p of g){if(p.type=="null"){t.nullable=!0;continue}y.push(al(p))}t[m]=y}else if(r.includes(m)){const y={};for(const[p,x]of Object.entries(g))y[p]=al(x);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Ku(i){return al(i)}function Xu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ul(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=al(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=al(t.response));return i}function cl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function Rx(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Cn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Rx(i,t,"cachedContents")}function rg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Zn(i){return Ou(i)}function Ix(i){return i!=null&&typeof i=="object"&&"name"in i}function Dx(i){return i!=null&&typeof i=="object"&&"video"in i}function kx(i){return i!=null&&typeof i=="object"&&"uri"in i}function ug(i){var t;let l;if(Ix(i)&&(l=i.name),!(kx(i)&&(l=i.uri,l===void 0))&&!(Dx(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function cg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function fg(i){for(const t of["models","tunedModels","publisherModels"])if(Ux(i,t))return i[t];return[]}function Ux(i,t){return i!==null&&typeof i=="object"&&t in i}function Lx(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function zx(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const m=Lx(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function dg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Hx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function mg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function fl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function hg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>vS(m))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["inlinedEmbedContentResponses"],c)}return t}function qx(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function Vx(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],hg(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const m=u(i,["metadata","endTime"]);m!=null&&f(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const p=u(i,["metadata","output"]);return p!=null&&f(t,["dest"],Gx(mg(p))),t}function Ru(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],hg(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["createTime"]);m!=null&&f(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const p=u(i,["updateTime"]);p!=null&&f(t,["updateTime"],p);const x=u(i,["model"]);x!=null&&f(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&f(t,["src"],Px(T));const E=u(i,["outputConfig"]);E!=null&&f(t,["dest"],qx(mg(E)));const C=u(i,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function Px(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function Bx(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>yS(i,m))),f(l,["requests","requests"],c)}return l}function Ox(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Fx(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Jx(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function Yx(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function Kx(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],Xx(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const p=u(i,["logprobsResult"]);p!=null&&f(t,["logprobsResult"],p);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function Xx(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function pg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>AS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function Qx(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Zx(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],Vx(Hx(r))),l}function Np(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],Bx(i,dg(i,r)));const c=u(t,["config"]);return c!=null&&Qx(c,l),l}function $x(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],Ox(dg(i,r)));const c=u(t,["config"]);return c!=null&&Zx(c,l),l}function jx(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function Wx(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],aS(i,r));const c=u(t,["config"]);return c!=null&&jx(c,l),l}function eS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function tS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function nS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function iS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function lS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=Yu(i,a);Array.isArray(c)&&(c=c.map(m=>m)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],oS(r,l)),tx(l,{"requests[].*":"requests[].request.*"})),l}function oS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function aS(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],lS(i,r)),l}function sS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function rS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],pg(rt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(a,["topP"],m);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const p=u(t,["maxOutputTokens"]);p!=null&&f(a,["maxOutputTokens"],p);const x=u(t,["stopSequences"]);x!=null&&f(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const k=u(t,["responseMimeType"]);k!=null&&f(a,["responseMimeType"],k);const q=u(t,["responseSchema"]);q!=null&&f(a,["responseSchema"],Ku(q));const F=u(t,["responseJsonSchema"]);if(F!=null&&f(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(l!==void 0&&J!=null){let ie=J;Array.isArray(ie)&&(ie=ie.map(ce=>bS(ce))),f(l,["safetySettings"],ie)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let ie=cl(z);Array.isArray(ie)&&(ie=ie.map(ce=>wS(ul(ce)))),f(l,["tools"],ie)}const Q=u(t,["toolConfig"]);if(l!==void 0&&Q!=null&&f(l,["toolConfig"],NS(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&f(l,["cachedContent"],Cn(i,Z));const X=u(t,["responseModalities"]);X!=null&&f(a,["responseModalities"],X);const te=u(t,["mediaResolution"]);te!=null&&f(a,["mediaResolution"],te);const W=u(t,["speechConfig"]);if(W!=null&&f(a,["speechConfig"],Xu(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&f(a,["thinkingConfig"],se);const he=u(t,["imageConfig"]);he!=null&&f(a,["imageConfig"],gS(he));const j=u(t,["enableEnhancedCivicAnswers"]);return j!=null&&f(a,["enableEnhancedCivicAnswers"],j),a}function fS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>Kx(p))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&f(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function dS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function mS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],fl(i,a)),l}function hS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function pS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function gS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function yS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>pg(y))),f(l,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(t,["config"]);return m!=null&&f(l,["request","generationConfig"],cS(i,m,u(l,["request"],{}))),l}function vS(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],fS(l));const a=u(i,["error"]);return a!=null&&f(t,["error"],a),t}function xS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function SS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function TS(i){const t={},l=u(i,["config"]);return l!=null&&xS(l,t),t}function ES(i){const t={},l=u(i,["config"]);return l!=null&&SS(l,t),t}function _S(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>qa(m))),f(t,["batchJobs"],c)}return t}function CS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Ru(m))),f(t,["batchJobs"],c)}return t}function AS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],sS(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],rS(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Fx(y));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function bS(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function NS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],uS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function wS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],hS(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],pS(y));const p=u(i,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class gi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MS extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Np(this.apiClient,t),a=l._url,r=ne("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,p=[];for(const x of y){const T=Object.assign({},x);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}p.push(T)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),m=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=$x(this.apiClient,t);return g=ne("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Ru(x))}else{const p=Np(this.apiClient,t);return g=ne("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>qa(x))}}async createEmbeddingsInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Wx(this.apiClient,t);return c=ne("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>qa(y))}}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=mS(this.apiClient,t);return g=ne("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Ru(x))}else{const p=dS(this.apiClient,t);return g=ne("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>qa(x))}}async cancel(t){var l,a,r,c;let m="",g={};if(this.apiClient.isVertexAI()){const y=Yx(this.apiClient,t);m=ne("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Jx(this.apiClient,t);m=ne("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ES(t);return g=ne("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=CS(x),E=new _p;return Object.assign(E,T),E})}else{const p=TS(t);return g=ne("batches",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=_S(x),E=new _p;return Object.assign(E,T),E})}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=tS(this.apiClient,t);return g=ne("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>iS(x))}else{const p=eS(this.apiClient,t);return g=ne("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>nS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function wp(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>WS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function IS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=Vt(m);Array.isArray(x)&&(x=x.map(T=>wp(T))),f(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],wp(rt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>tT(T))),f(t,["tools"],x)}const p=u(i,["toolConfig"]);if(t!==void 0&&p!=null&&f(t,["toolConfig"],eT(p)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function DS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=Vt(m);Array.isArray(T)&&(T=T.map(E=>E)),f(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],rt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>nT(E))),f(t,["tools"],T)}const p=u(i,["toolConfig"]);t!==void 0&&p!=null&&f(t,["toolConfig"],p);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&f(t,["encryption_spec","kmsKeyName"],x),l}function kS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],ig(i,a));const r=u(t,["config"]);return r!=null&&IS(r,l),l}function US(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],ig(i,a));const r=u(t,["config"]);return r!=null&&DS(r,l),l}function LS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Cn(i,a)),l}function zS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Cn(i,a)),l}function HS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function qS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function VS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function BS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function OS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Cn(i,a)),l}function FS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Cn(i,a)),l}function JS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function YS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function KS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function XS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function QS(i){const t={},l=u(i,["config"]);return l!=null&&KS(l,t),t}function ZS(i){const t={},l=u(i,["config"]);return l!=null&&XS(l,t),t}function $S(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function WS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],qS(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],VS(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],RS(y));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function eT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],PS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function tT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],JS(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],YS(y));const p=u(i,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function nT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>BS(E))),f(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const p=u(i,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const x=u(i,["urlContext"]);return x!=null&&f(t,["urlContext"],x),t}function iT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function lT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function oT(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&iT(r,l),l}function aT(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&lT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sT extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=US(this.apiClient,t);return g=ne("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const p=kS(this.apiClient,t);return g=ne("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FS(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const p=OS(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=zS(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=GS(x),E=new Tp;return Object.assign(E,T),E})}else{const p=LS(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=HS(x),E=new Tp;return Object.assign(E,T),E})}}async update(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=aT(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const p=oT(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ZS(t);return g=ne("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=jS(x),E=new Ep;return Object.assign(E,T),E})}else{const p=QS(t);return g=ne("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=$S(x),E=new Ep;return Object.assign(E,T),E})}}}function Fa(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Mp(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(i){return this instanceof ge?(this.v=i,this):new ge(i)}function Yt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(C){return function(R){return Promise.resolve(R).then(C,T)}}function g(C,R){a[C]&&(r[C]=function(L){return new Promise(function(k,q){c.push([C,L,k,q])>1||y(C,L)})},R&&(r[C]=R(r[C])))}function y(C,R){try{p(a[C](R))}catch(L){E(c[0][3],L)}}function p(C){C.value instanceof ge?Promise.resolve(C.value.v).then(x,T):E(c[0][2],C)}function x(C){y("next",C)}function T(C){y("throw",C)}function E(C,R){C(R),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Kt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Mp=="function"?Mp(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(m){return new Promise(function(g,y){m=i[c](m),r(g,y,m.done,m.value)})}}function r(c,m,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:gg(l)}function gg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function uT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Rp(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!gg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class cT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new fT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class fT{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),uT(c)}async sendMessage(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,m,g;const y=await r,p=(m=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];x!=null&&(E=(g=x.slice(T))!==null&&g!==void 0?g:[]);const C=p?[p]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?Rp(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Yt(this,arguments,function*(){var r,c,m,g,y,p;const x=[];try{for(var T=!0,E=Kt(t),C;C=yield ge(E.next()),r=C.done,!r;T=!0){g=C.value,T=!1;const R=g;if(rT(R)){const L=(p=(y=R.candidates)===null||y===void 0?void 0:y[0])===null||p===void 0?void 0:p.content;L!==void 0&&x.push(L)}yield yield ge(R)}}catch(R){c={error:R}}finally{try{!T&&!r&&(m=E.return)&&(yield ge(m.call(E)))}finally{if(c)throw c.error}}this.recordHistory(l,x)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Rp(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function mT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function hT(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ug(l)),t}function pT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function gT(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ug(l)),t}function yT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function vT(i){const t={},l=u(i,["config"]);return l!=null&&yT(l,t),t}function xT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vT(t);return c=ne("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const p=xT(y),x=new Cx;return Object.assign(x,p),x})}}async createInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dT(t);return c=ne("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=mT(y),x=new Ax;return Object.assign(x,p),x})}}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gT(t);return c=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hT(t);return c=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const p=pT(y),x=new bx;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Va(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function TT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>HT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function ET(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function _T(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function AT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const p=u(i,["maxOutputTokens"]);p!=null&&f(t,["maxOutputTokens"],p);const x=u(i,["mediaResolution"]);x!=null&&f(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const R=u(i,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const L=u(i,["responseSchema"]);L!=null&&f(t,["responseSchema"],L);const k=u(i,["routingConfig"]);k!=null&&f(t,["routingConfig"],k);const q=u(i,["seed"]);q!=null&&f(t,["seed"],q);const F=u(i,["speechConfig"]);F!=null&&f(t,["speechConfig"],F);const J=u(i,["stopSequences"]);J!=null&&f(t,["stopSequences"],J);const z=u(i,["temperature"]);z!=null&&f(t,["temperature"],z);const Q=u(i,["thinkingConfig"]);Q!=null&&f(t,["thinkingConfig"],Q);const Z=u(i,["topK"]);Z!=null&&f(t,["topK"],Z);const X=u(i,["topP"]);if(X!=null&&f(t,["topP"],X),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function bT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function NT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function wT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const p=u(i,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],TT(rt(R)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let Z=cl(L);Array.isArray(Z)&&(Z=Z.map(X=>qT(ul(X)))),f(t,["setup","tools"],Z)}const k=u(i,["sessionResumption"]);t!==void 0&&k!=null&&f(t,["setup","sessionResumption"],GT(k));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],q);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&f(t,["setup","realtimeInputConfig"],J);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function MT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],AT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const p=u(i,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],rt(R));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let X=cl(L);Array.isArray(X)&&(X=X.map(te=>VT(ul(te)))),f(t,["setup","tools"],X)}const k=u(i,["sessionResumption"]);t!==void 0&&k!=null&&f(t,["setup","sessionResumption"],k);const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],q);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&f(t,["setup","realtimeInputConfig"],J);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q);const Z=u(i,["explicitVadSignal"]);return t!==void 0&&Z!=null&&f(t,["setup","explicitVadSignal"],Z),l}function RT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],wT(r,l)),l}function IT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],MT(r,l)),l}function DT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function kT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function UT(i){const t={},l=u(i,["media"]);if(l!=null){let p=lg(l);Array.isArray(p)&&(p=p.map(x=>Va(x))),f(t,["mediaChunks"],p)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Va(ag(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Va(og(c)));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function LT(i){const t={},l=u(i,["media"]);if(l!=null){let p=lg(l);Array.isArray(p)&&(p=p.map(x=>x)),f(t,["mediaChunks"],p)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],ag(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],og(c));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function zT(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const m=u(i,["usageMetadata"]);m!=null&&f(t,["usageMetadata"],PT(m));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const p=u(i,["voiceActivityDetectionSignal"]);return p!=null&&f(t,["voiceActivityDetectionSignal"],p),t}function HT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],ET(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],_T(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Va(y));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function GT(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function qT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],bT(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],NT(y));const p=u(i,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function VT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>CT(E))),f(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const p=u(i,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const x=u(i,["urlContext"]);return x!=null&&f(t,["urlContext"],x),t}function PT(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const m=u(i,["thoughtsTokenCount"]);m!=null&&f(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["promptTokensDetails"],C)}const p=u(i,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["cacheTokensDetails"],C)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function OT(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],FT(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const p=u(i,["logprobsResult"]);p!=null&&f(t,["logprobsResult"],p);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function FT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function JT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let c=Vt(r);Array.isArray(c)&&(c=c.map(m=>m)),f(l,["contents"],c)}return l}function YT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function KT(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(t,["statistics"],XT(a)),t}function XT(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function Qa(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>i1(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function QT(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function ZT(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function $T(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],rt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Sg(g))),f(t,["tools"],m)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],BE(c)),l}function jT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Qa(g))),f(l,["contents"],m)}const c=u(t,["config"]);return c!=null&&ZT(c),l}function WT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),f(l,["contents"],m)}const c=u(t,["config"]);return c!=null&&$T(c,l),l}function eE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function tE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function nE(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function iE(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function lE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function oE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function aE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","compressionQuality"],L);const k=u(i,["addWatermark"]);t!==void 0&&k!=null&&f(t,["parameters","addWatermark"],k);const q=u(i,["labels"]);t!==void 0&&q!=null&&f(t,["labels"],q);const F=u(i,["editMode"]);t!==void 0&&F!=null&&f(t,["parameters","editMode"],F);const J=u(i,["baseSteps"]);return t!==void 0&&J!=null&&f(t,["parameters","editConfig","baseSteps"],J),l}function sE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>u1(y))),f(l,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&aE(m,l),l}function rE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Za(c))),f(t,["generatedImages"],r)}return t}function uE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function cE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&f(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),l}function fE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Yu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),f(l,["requests[]","content"],g)}const c=u(t,["config"]);c!=null&&uE(c,l);const m=u(t,["model"]);return m!==void 0&&f(l,["requests[]","model"],Me(i,m)),l}function dE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Yu(i,r);Array.isArray(m)&&(m=m.map(g=>g)),f(l,["instances[]","content"],m)}const c=u(t,["config"]);return c!=null&&cE(c,l),l}function mE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function hE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>KT(m))),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function pE(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function gE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function yE(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vE(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function SE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Qa(rt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(a,["topP"],m);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const p=u(t,["maxOutputTokens"]);p!=null&&f(a,["maxOutputTokens"],p);const x=u(t,["stopSequences"]);x!=null&&f(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const k=u(t,["responseMimeType"]);k!=null&&f(a,["responseMimeType"],k);const q=u(t,["responseSchema"]);q!=null&&f(a,["responseSchema"],Ku(q));const F=u(t,["responseJsonSchema"]);if(F!=null&&f(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(l!==void 0&&J!=null){let ie=J;Array.isArray(ie)&&(ie=ie.map(ce=>c1(ce))),f(l,["safetySettings"],ie)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let ie=cl(z);Array.isArray(ie)&&(ie=ie.map(ce=>y1(ul(ce)))),f(l,["tools"],ie)}const Q=u(t,["toolConfig"]);if(l!==void 0&&Q!=null&&f(l,["toolConfig"],g1(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&f(l,["cachedContent"],Cn(i,Z));const X=u(t,["responseModalities"]);X!=null&&f(a,["responseModalities"],X);const te=u(t,["mediaResolution"]);te!=null&&f(a,["mediaResolution"],te);const W=u(t,["speechConfig"]);if(W!=null&&f(a,["speechConfig"],Xu(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&f(a,["thinkingConfig"],se);const he=u(t,["imageConfig"]);he!=null&&f(a,["imageConfig"],KE(he));const j=u(t,["enableEnhancedCivicAnswers"]);return j!=null&&f(a,["enableEnhancedCivicAnswers"],j),a}function TE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],rt(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(a,["topP"],m);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const p=u(t,["maxOutputTokens"]);p!=null&&f(a,["maxOutputTokens"],p);const x=u(t,["stopSequences"]);x!=null&&f(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const k=u(t,["responseMimeType"]);k!=null&&f(a,["responseMimeType"],k);const q=u(t,["responseSchema"]);q!=null&&f(a,["responseSchema"],Ku(q));const F=u(t,["responseJsonSchema"]);F!=null&&f(a,["responseJsonSchema"],F);const J=u(t,["routingConfig"]);J!=null&&f(a,["routingConfig"],J);const z=u(t,["modelSelectionConfig"]);z!=null&&f(a,["modelConfig"],z);const Q=u(t,["safetySettings"]);if(l!==void 0&&Q!=null){let b=Q;Array.isArray(b)&&(b=b.map(G=>G)),f(l,["safetySettings"],b)}const Z=u(t,["tools"]);if(l!==void 0&&Z!=null){let b=cl(Z);Array.isArray(b)&&(b=b.map(G=>Sg(ul(G)))),f(l,["tools"],b)}const X=u(t,["toolConfig"]);l!==void 0&&X!=null&&f(l,["toolConfig"],X);const te=u(t,["labels"]);l!==void 0&&te!=null&&f(l,["labels"],te);const W=u(t,["cachedContent"]);l!==void 0&&W!=null&&f(l,["cachedContent"],Cn(i,W));const se=u(t,["responseModalities"]);se!=null&&f(a,["responseModalities"],se);const he=u(t,["mediaResolution"]);he!=null&&f(a,["mediaResolution"],he);const j=u(t,["speechConfig"]);j!=null&&f(a,["speechConfig"],Xu(j));const ie=u(t,["audioTimestamp"]);ie!=null&&f(a,["audioTimestamp"],ie);const ce=u(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const be=u(t,["imageConfig"]);if(be!=null&&f(a,["imageConfig"],XE(be)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Ip(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Qa(g))),f(l,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],SE(i,c,l)),l}function Dp(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),f(l,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],TE(i,c,l)),l}function kp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>OT(p))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&f(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function Up(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(x=>x)),f(t,["candidates"],p)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(i,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const m=u(i,["promptFeedback"]);m!=null&&f(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&f(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function EE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const x=u(i,["language"]);t!==void 0&&x!=null&&f(t,["parameters","language"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&f(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function _E(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","compressionQuality"],L);const k=u(i,["addWatermark"]);t!==void 0&&k!=null&&f(t,["parameters","addWatermark"],k);const q=u(i,["labels"]);t!==void 0&&q!=null&&f(t,["labels"],q);const F=u(i,["imageSize"]);t!==void 0&&F!=null&&f(t,["parameters","sampleImageSize"],F);const J=u(i,["enhancePrompt"]);return t!==void 0&&J!=null&&f(t,["parameters","enhancePrompt"],J),l}function CE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&EE(c,l),l}function AE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&_E(c,l),l}function bE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>GE(m))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],vg(r)),t}function NE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>Za(m))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],xg(r)),t}function wE(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const m=u(i,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const p=u(i,["enhancePrompt"]);if(t!==void 0&&p!=null&&f(t,["parameters","enhancePrompt"],p),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&f(t,["instances[0]","lastFrame"],$a(x));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>R1(C))),f(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function ME(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&f(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const p=u(i,["resolution"]);t!==void 0&&p!=null&&f(t,["parameters","resolution"],p);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&f(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const R=u(i,["generateAudio"]);t!==void 0&&R!=null&&f(t,["parameters","generateAudio"],R);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&f(t,["instances[0]","lastFrame"],Xt(L));const k=u(i,["referenceImages"]);if(t!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(z=>I1(z))),f(t,["instances[0]","referenceImages"],J)}const q=u(i,["mask"]);t!==void 0&&q!=null&&f(t,["instances[0]","mask"],M1(q));const F=u(i,["compressionQuality"]);return t!==void 0&&F!=null&&f(t,["parameters","compressionQuality"],F),l}function RE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],UE(m)),t}function IE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],LE(m)),t}function DE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],$a(c));const m=u(t,["video"]);m!=null&&f(l,["instances[0]","video"],Tg(m));const g=u(t,["source"]);g!=null&&zE(g,l);const y=u(t,["config"]);return y!=null&&wE(y,l),l}function kE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Xt(c));const m=u(t,["video"]);m!=null&&f(l,["instances[0]","video"],Eg(m));const g=u(t,["source"]);g!=null&&HE(g,l);const y=u(t,["config"]);return y!=null&&ME(y,l),l}function UE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>VE(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function LE(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>PE(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function zE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],$a(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Tg(c)),l}function HE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Xt(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Eg(c)),l}function GE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],QE(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],vg(r)),t}function Za(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],yg(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],xg(r));const c=u(i,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function qE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],yg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function VE(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],N1(l)),t}function PE(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],w1(l)),t}function BE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const p=u(i,["maxOutputTokens"]);p!=null&&f(t,["maxOutputTokens"],p);const x=u(i,["mediaResolution"]);x!=null&&f(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const R=u(i,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const L=u(i,["responseSchema"]);L!=null&&f(t,["responseSchema"],L);const k=u(i,["routingConfig"]);k!=null&&f(t,["routingConfig"],k);const q=u(i,["seed"]);q!=null&&f(t,["seed"],q);const F=u(i,["speechConfig"]);F!=null&&f(t,["speechConfig"],F);const J=u(i,["stopSequences"]);J!=null&&f(t,["stopSequences"],J);const z=u(i,["temperature"]);z!=null&&f(t,["temperature"],z);const Q=u(i,["thinkingConfig"]);Q!=null&&f(t,["thinkingConfig"],Q);const Z=u(i,["topK"]);Z!=null&&f(t,["topK"],Z);const X=u(i,["topP"]);if(X!=null&&f(t,["topP"],X),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function OE(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function FE(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function JE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function YE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function KE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function XE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function QE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Zn(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function yg(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function $a(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Zn(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Xt(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function ZE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const m=u(t,["filter"]);l!==void 0&&m!=null&&f(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],cg(i,g)),a}function $E(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const m=u(t,["filter"]);l!==void 0&&m!=null&&f(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],cg(i,g)),a}function jE(i,t){const l={},a=u(t,["config"]);return a!=null&&ZE(i,a,l),l}function WE(i,t){const l={},a=u(t,["config"]);return a!=null&&$E(i,a,l),l}function e1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=fg(r);Array.isArray(c)&&(c=c.map(m=>Iu(m))),f(t,["models"],c)}return t}function t1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=fg(r);Array.isArray(c)&&(c=c.map(m=>Du(m))),f(t,["models"],c)}return t}function n1(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function Iu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["version"]);c!=null&&f(t,["version"],c);const m=u(i,["_self"]);m!=null&&f(t,["tunedModelInfo"],v1(m));const g=u(i,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const p=u(i,["supportedGenerationMethods"]);p!=null&&f(t,["supportedActions"],p);const x=u(i,["temperature"]);x!=null&&f(t,["temperature"],x);const T=u(i,["maxTemperature"]);T!=null&&f(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&f(t,["topP"],E);const C=u(i,["topK"]);C!=null&&f(t,["topK"],C);const R=u(i,["thinking"]);return R!=null&&f(t,["thinking"],R),t}function Du(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["versionId"]);c!=null&&f(t,["version"],c);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>pE(E))),f(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&f(t,["labels"],g);const y=u(i,["_self"]);y!=null&&f(t,["tunedModelInfo"],x1(y));const p=u(i,["defaultCheckpointId"]);p!=null&&f(t,["defaultCheckpointId"],p);const x=u(i,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),f(t,["checkpoints"],T)}return t}function i1(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],gE(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],yE(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],BT(y));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function l1(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],Xt(l)),t}function o1(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const m=u(i,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const p=u(i,["addWatermark"]);t!==void 0&&p!=null&&f(t,["parameters","addWatermark"],p);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&f(t,["labels"],C),l}function a1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&r1(r,l);const c=u(t,["config"]);return c!=null&&o1(c,l),l}function s1(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Za(r))),f(t,["generatedImages"],a)}return t}function r1(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Xt(r));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>l1(g))),f(t,["instances[0]","productImages"],m)}return l}function u1(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],Xt(l));const a=u(i,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(i,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],n1(c));const m=u(i,["controlImageConfig"]);m!=null&&f(t,["controlImageConfig"],QT(m));const g=u(i,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function vg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function xg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function c1(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function f1(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],Xt(l)),t}function d1(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&f(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),l}function m1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&p1(r,l);const c=u(t,["config"]);return c!=null&&d1(c,l),l}function h1(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>qE(r))),f(t,["generatedMasks"],a)}return t}function p1(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Xt(r));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],f1(c)),l}function g1(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],vE(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function y1(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],JE(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],YE(y));const p=u(i,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function Sg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>xE(E))),f(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const p=u(i,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const x=u(i,["urlContext"]);return x!=null&&f(t,["urlContext"],x),t}function v1(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function x1(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function S1(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function T1(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function E1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],Me(i,a));const r=u(t,["config"]);return r!=null&&S1(r,l),l}function _1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&T1(r,l),l}function C1(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","compressionQuality"],y);const p=u(i,["enhanceInputImage"]);t!==void 0&&p!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],p);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(i,["labels"]);t!==void 0&&T!=null&&f(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&f(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&f(t,["parameters","mode"],C),l}function A1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Xt(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const m=u(t,["config"]);return m!=null&&C1(m,l),l}function b1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Za(c))),f(t,["generatedImages"],r)}return t}function N1(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Zn(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function w1(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function M1(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],Xt(l));const a=u(i,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function R1(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],$a(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function I1(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Xt(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function Tg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["encodedVideo"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function Eg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D1(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function k1(i){const t={},l=u(i,["config"]);return l!=null&&D1(l,t),t}function U1(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function L1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&U1(a,t),t}function z1(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function H1(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function G1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],V1(m)),t}function q1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&H1(r,t),t}function V1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function P1(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function B1(i){const t={},l=u(i,["config"]);return l!=null&&P1(l,t),t}function O1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["fileSearchStores"],c)}return t}function _g(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&f(t,["chunkingConfig"],m),l}function F1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&_g(a,t),t}function J1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1="Content-Type",K1="X-Server-Timeout",X1="User-Agent",ku="x-goog-api-client",Q1="1.34.0",Z1=`google-genai-sdk/${Q1}`,$1="v1beta1",j1="v1beta";class W1{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:$1,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:j1,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,m=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=m}return l&&l.extraBody!==null&&e_(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Lp(r),new wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Lp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Yt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:x}=yield ge(r.read());if(p){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(x,{stream:!0});try{const R=JSON.parse(T);if("error"in R){const L=JSON.parse(JSON.stringify(R.error)),k=L.status,q=L.code,F=`got status: ${k}. ${JSON.stringify(R)}`;if(q>=400&&q<600)throw new Xa({message:F,status:q})}}catch(R){if(R.name==="ApiError")throw R}m+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const k of y){const q=m.indexOf(k);q!==-1&&(E===-1||q<E)&&(E=q,C=k.length)}if(E===-1)break;const R=m.substring(0,E);m=m.substring(E+C);const L=R.trim();if(L.startsWith(g)){const k=L.substring(g.length).trim();try{const q=new Response(k,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ge(new wu(q))}catch(q){throw new Error(`exception parsing stream chunk ${k}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=Z1+" "+this.clientOptions.userAgentExtra;return t[X1]=l,t[ku]=l,t[Y1]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(K1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);r.sizeBytes=String(m.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},p=this.getFileName(t),x=ne("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,p,y,l==null?void 0:l.httpOptions);return c.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,m=await c.stat(l),g=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(l),T={};a!=null&&_g(a,T);const E=await this.fetchUploadUrl(p,g,y,x,T,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=p==null?void 0:p.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Lp(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Xa({message:r,status:l}):new Error(r)}}function e_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,m){const g=Object.assign({},c);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],x=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=a(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t_="mcp_used/unknown";let n_=!1;function Cg(i){for(const t of i)if(i_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return n_}function Ag(i){var t;const l=(t=i[ku])!==null&&t!==void 0?t:"";i[ku]=(l+` ${t_}`).trimStart()}function i_(i){return i!==null&&typeof i=="object"&&i instanceof Zu}function l_(i){return Yt(this,arguments,function*(l,a=100){let r,c=0;for(;c<a;){const m=yield ge(l.listTools({cursor:r}));for(const g of m.tools)yield yield ge(g),c++;if(!m.nextCursor)break;r=m.nextCursor}})}class Zu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Zu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},m=[];for(const x of this.mcpClients)try{for(var g=!0,y=(l=void 0,Kt(l_(x))),p;p=await y.next(),t=p.done,!t;g=!0){r=p.value,g=!1;const T=r;m.push(T);const E=T.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=x}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),zx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function o_(i,t,l){const a=new wx;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class a_{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=u_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const x=new Promise(J=>{p=J}),T=t.callbacks,E=function(){p({})},C=this.apiClient,R={onopen:E,onmessage:J=>{o_(C,T.onmessage,J)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(J){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(J){}},L=this.webSocketFactory.create(y,r_(m),R);L.connect(),await x;const F={setup:{model:Me(this.apiClient,t.model)}};return L.send(JSON.stringify(F)),new s_(L,this.apiClient)}}class s_{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=kT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=DT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ll.PLAY)}pause(){this.sendPlaybackControl(ll.PAUSE)}stop(){this.sendPlaybackControl(ll.STOP)}resetContext(){this.sendPlaybackControl(ll.RESET_CONTEXT)}close(){this.conn.close()}}function r_(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function u_(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function f_(i,t,l){const a=new Nx;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const m=zT(c);Object.assign(a,m)}else Object.assign(a,c);t(a)}class d_{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new a_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Cg(t.config.tools)&&Ag(T);const E=g_(T);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const W=this.apiClient.getApiKey();let se="BidiGenerateContent",he="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",he="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${se}?${he}=${W}`}let C=()=>{};const R=new Promise(W=>{C=W}),L=t.callbacks,k=function(){var W;(W=L==null?void 0:L.onopen)===null||W===void 0||W.call(L),C({})},q=this.apiClient,F={onopen:k,onmessage:W=>{f_(q,L.onmessage,W)},onerror:(l=L==null?void 0:L.onerror)!==null&&l!==void 0?l:function(W){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(W){}},J=this.webSocketFactory.create(x,p_(E),F);J.connect(),await R;let z=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const W=this.apiClient.getProject(),se=this.apiClient.getLocation();z=`projects/${W}/locations/${se}/`+z}let Q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pa.AUDIO]}:t.config.responseModalities=[Pa.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],X=[];for(const W of Z)if(this.isCallableTool(W)){const se=W;X.push(await se.tool())}else X.push(W);X.length>0&&(t.config.tools=X);const te={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Q=IT(this.apiClient,te):Q=RT(this.apiClient,te),delete Q.config,J.send(JSON.stringify(Q)),new h_(J,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const m_={turnComplete:!0};class h_{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Vt(l.turns),t.isVertexAI()||(a=a.map(r=>Qa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(c_)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},m_),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:LT(t)}:l={realtimeInput:UT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function p_(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function g_(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zp=10;function Hp(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(sl(m)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function sl(i){return"callTool"in i&&typeof i.callTool=="function"}function y_(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>sl(r)))!==null&&a!==void 0?a:!1}function Gp(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(sl(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function qp(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_ extends _n{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!y_(l)||Hp(l.config))return await this.generateContentInternal(y);const p=Gp(l);if(p.length>0){const L=p.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let x,T;const E=Vt(y.contents),C=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:zp;let R=0;for(;R<C&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const L=x.candidates[0].content,k=[];for(const q of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(sl(q)){const J=await q.callTool(x.functionCalls);k.push(...J)}R++,T={role:"user",parts:k},y.contents=Vt(y.contents),y.contents.push(L),y.contents.push(T),qp(y.config)&&(E.push(L),E.push(T))}return qp(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async l=>{var a,r,c,m,g;if(this.maybeMoveToResponseJsonSchem(l),Hp(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=Gp(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(p&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:m.push(y);let g;return c?g={generatedImages:m,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new gi(En.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(c=l.source)===null||c===void 0?void 0:c.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const m=await Promise.all(c.map(async y=>sl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&Cg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ag(p),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const m of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(sl(m)){const g=m,y=await g.tool();for(const p of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(c.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);c.set(p.name,g)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:zp;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(p,x,T){return Yt(this,arguments,function*(){for(var E,C,R,L,k,q;g<c;){m&&(g++,m=!1);const Q=yield ge(p.processParamsMaybeAddMcpUsage(T)),Z=yield ge(p.generateContentStreamInternal(Q)),X=[],te=[];try{for(var F=!0,J=(C=void 0,Kt(Z)),z;z=yield ge(J.next()),E=z.done,!E;F=!0){L=z.value,F=!1;const W=L;if(yield yield ge(W),W.candidates&&(!((k=W.candidates[0])===null||k===void 0)&&k.content)){te.push(W.candidates[0].content);for(const se of(q=W.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(g<c&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(se.functionCall.name)){const he=yield ge(x.get(se.functionCall.name).callTool([se.functionCall]));X.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!F&&!E&&(R=J.return)&&(yield ge(R.call(J)))}finally{if(C)throw C.error}}if(X.length>0){m=!0;const W=new so;W.candidates=[{content:{role:"user",parts:X}}],yield yield ge(W);const se=[];se.push(...te),se.push({role:"user",parts:X});const he=Vt(T.contents).concat(se);T.contents=he}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Dp(this.apiClient,t);return g=ne("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Up(x),E=new so;return Object.assign(E,T),E})}else{const p=Ip(this.apiClient,t);return g=ne("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=kp(x),E=new so;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Dp(this.apiClient,t);return g=ne("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(T){return Yt(this,arguments,function*(){var E,C,R,L;try{for(var k=!0,q=Kt(T),F;F=yield ge(q.next()),E=F.done,!E;k=!0){L=F.value,k=!1;const J=L,z=Up(yield ge(J.json()));z.sdkHttpResponse={headers:J.headers};const Q=new so;Object.assign(Q,z),yield yield ge(Q)}}catch(J){C={error:J}}finally{try{!k&&!E&&(R=q.return)&&(yield ge(R.call(q)))}finally{if(C)throw C.error}}})})}else{const p=Ip(this.apiClient,t);return g=ne("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(T){return Yt(this,arguments,function*(){var E,C,R,L;try{for(var k=!0,q=Kt(T),F;F=yield ge(q.next()),E=F.done,!E;k=!0){L=F.value,k=!1;const J=L,z=kp(yield ge(J.json()));z.sdkHttpResponse={headers:J.headers};const Q=new so;Object.assign(Q,z),yield yield ge(Q)}}catch(J){C={error:J}}finally{try{!k&&!E&&(R=q.return)&&(yield ge(R.call(q)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=dE(this.apiClient,t);return g=ne("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=hE(x),E=new hp;return Object.assign(E,T),E})}else{const p=fE(this.apiClient,t);return g=ne("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=mE(x),E=new hp;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=AE(this.apiClient,t);return g=ne("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=NE(x),E=new pp;return Object.assign(E,T),E})}else{const p=CE(this.apiClient,t);return g=ne("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=bE(x),E=new pp;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=sE(this.apiClient,t);return c=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const p=rE(y),x=new gx;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=A1(this.apiClient,t);return c=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const p=b1(y),x=new yx;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=a1(this.apiClient,t);return c=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=s1(y),x=new vx;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=m1(this.apiClient,t);return c=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=h1(y),x=new xx;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Du(x))}else{const p=OE(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>Iu(x))}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=WE(this.apiClient,t);return g=ne("{models_url}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=t1(x),E=new gp;return Object.assign(E,T),E})}else{const p=jE(this.apiClient,t);return g=ne("{models_url}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=e1(x),E=new gp;return Object.assign(E,T),E})}}async update(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=_1(this.apiClient,t);return g=ne("{model}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Du(x))}else{const p=E1(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>Iu(x))}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=iE(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=oE(x),E=new yp;return Object.assign(E,T),E})}else{const p=nE(this.apiClient,t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=lE(x),E=new yp;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=WT(this.apiClient,t);return g=ne("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=tE(x),E=new vp;return Object.assign(E,T),E})}else{const p=jT(this.apiClient,t);return g=ne("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=eE(x),E=new vp;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,t);return c=ne("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const p=YT(y),x=new Sx;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=kE(this.apiClient,t);return g=ne("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>{const T=IE(x),E=new Ba;return Object.assign(E,T),E})}else{const p=DE(this.apiClient,t);return g=ne("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>{const T=RE(x),E=new Ba;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x_ extends _n{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=cx(t);return g=ne("{operationName}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m}else{const p=ux(t);return g=ne("{operationName}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=nx(t);return c=ne("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function T_(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>R_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function E_(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const m=u(t,["uses"]);l!==void 0&&m!=null&&f(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&f(l,["bidiGenerateContentSetup"],M_(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&f(l,["fieldMask"],y),a}function __(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],E_(i,a,l)),l}function C_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function A_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function N_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function w_(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const p=u(i,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],T_(rt(R)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let Z=cl(L);Array.isArray(Z)&&(Z=Z.map(X=>D_(ul(X)))),f(t,["setup","tools"],Z)}const k=u(i,["sessionResumption"]);t!==void 0&&k!=null&&f(t,["setup","sessionResumption"],I_(k));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],q);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&f(t,["setup","realtimeInputConfig"],J);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function M_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],w_(r,l)),l}function R_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],C_(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],A_(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],S_(y));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function I_(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function D_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],b_(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],N_(y));const p=u(i,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function U_(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=k_(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class L_ extends _n{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=__(this.apiClient,t);c=ne("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=U_(g,t.config);return r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function H_(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&z_(a,t),t}function G_(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function q_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function V_(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&q_(a,t),t}function P_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends _n{constructor(t){super(),this.apiClient=t,this.list=async l=>new gi(En.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=G_(t);return c=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=H_(t);r=ne("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=V_(t);return c=ne("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=P_(y),x=new Tx;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O_ extends _n{constructor(t,l=new B_(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new gi(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=k1(t);return c=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z1(t);return c=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=L1(t);r=ne("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B1(t);return c=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=O1(y),x=new Ex;return Object.assign(x,p),x})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=F1(t);return c=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=J1(y),x=new _x;return Object.assign(x,p),x})}}async importFile(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=q1(t);return c=ne("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const p=G1(y),x=new Fu;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return bg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const F_=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Lu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ft extends Pt{constructor(t,l,a,r){super(`${ft.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new ja({message:a,cause:Lu(l)});const c=l;return t===400?new wg(t,c,a,r):t===401?new Mg(t,c,a,r):t===403?new Rg(t,c,a,r):t===404?new Ig(t,c,a,r):t===409?new Dg(t,c,a,r):t===422?new kg(t,c,a,r):t===429?new Ug(t,c,a,r):t>=500?new Lg(t,c,a,r):new ft(t,c,a,r)}}class zu extends ft{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ja extends ft{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Ng extends ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class wg extends ft{}class Mg extends ft{}class Rg extends ft{}class Ig extends ft{}class Dg extends ft{}class kg extends ft{}class Ug extends ft{}class Lg extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J_=/^[a-z][a-z0-9+.-]*:/i,Y_=i=>J_.test(i);let Hu=i=>(Hu=Array.isArray,Hu(i));const K_=Hu;let X_=K_;const Vp=X_;function Q_(i){if(!i)return!0;for(const t in i)return!1;return!0}function Z_(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const $_=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},j_=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const il="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const tC=()=>{var i,t,l,a,r;const c=eC();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":Bp(Deno.build.os),"X-Stainless-Arch":Pp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":Bp((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Pp((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=nC();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${c}.${m}`}}}return null}const Pp=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Bp=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ka;const iC=()=>ka??(ka=tC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function oC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return zg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Hg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _u(i,t,l){return Gg(),new File(i,t??"unknown_file",l)}function rC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const uC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",cC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&qg(i),fC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function dC(i,t,l){if(Gg(),i=await i,cC(i))return i instanceof File?i:_u([await i.arrayBuffer()],i.name);if(fC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),_u(await Gu(r),t,l)}const a=await Gu(i);if(t||(t=rC(i)),!(l!=null&&l.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return _u(a,t,l)}async function Gu(i){var t,l,a,r,c;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(qg(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(uC(i))try{for(var g=!0,y=Kt(i),p;p=await y.next(),t=p.done,!t;g=!0){r=p.value,g=!1;const x=r;m.push(...await Gu(x))}}catch(x){l={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const x=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${mC(i)}`)}return m}function mC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vg{constructor(t){this._client=t}}Vg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Op=Object.freeze(Object.create(null)),hC=(i=Pg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const c=[],m=l.reduce((x,T,E)=>{var C,R,L;/[?#]/.test(T)&&(r=!0);const k=a[E];let q=(r?encodeURIComponent:i)(""+k);return E!==a.length&&(k==null||typeof k=="object"&&k.toString===((L=Object.getPrototypeOf((R=Object.getPrototypeOf((C=k.hasOwnProperty)!==null&&C!==void 0?C:Op))!==null&&R!==void 0?R:Op))===null||L===void 0?void 0:L.toString))&&(q=k+"",c.push({start:x.length+T.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+T+(E===a.length?"":q)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(g))!==null;)c.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(c.sort((x,T)=>x.start-T.start),c.length>0){let x=0;const T=c.reduce((E,C)=>{const R=" ".repeat(C.start-x),L="^".repeat(C.length);return x=C.start+C.length,E+R+L},"");throw new Pt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${m}
${T}`)}return m}),Ua=hC(Pg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bg extends Vg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,c=Fa(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ua`/${r}/interactions`,Object.assign(Object.assign({body:c},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ua`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ua`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const c=l??{},{api_version:m=this._client.apiVersion}=c,g=Fa(c,["api_version"]);return this._client.get(Ua`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Bg._key=Object.freeze(["interactions"]);class Og extends Bg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let La;function $u(i){let t;return(La??(t=new globalThis.TextEncoder,La=t.encode.bind(t)))(i)}let za;function Fp(i){let t;return(za??(t=new globalThis.TextDecoder,za=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?$u(t):t;this.buffer=pC([this.buffer,l]);const a=[];let r;for(;(r=gC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Fp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=Fp(this.buffer.subarray(0,c));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Wa.NEWLINE_CHARS=new Set([`
`,"\r"]);Wa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function gC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function yC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ja={off:0,error:200,warn:300,info:400,debug:500},Jp=(i,t,l)=>{if(i){if(Z_(Ja,i))return i;ct(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ja))}`)}};function uo(){}function Ha(i,t,l){return!t||Ja[i]>Ja[l]?uo:t[i].bind(t)}const vC={error:uo,warn:uo,info:uo,debug:uo};let Yp=new WeakMap;function ct(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return vC;const r=Yp.get(l);if(r&&r[0]===a)return r[1];const c={error:Ha("error",l,a),warn:Ha("warn",l,a),info:Ha("info",l,a),debug:Ha("debug",l,a)};return Yp.set(l,[a,c]),c}const pi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const c=a?ct(a):console;function m(){return Yt(this,arguments,function*(){var y,p,x,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,R=Kt(xC(t,l)),L;L=yield ge(R.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const k=T;if(!E)if(k.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ge(JSON.parse(k.data))}catch(q){throw c.error("Could not parse message into JSON:",k.data),c.error("From chunk:",k.raw),q}}}catch(k){p={error:k}}finally{try{!C&&!y&&(x=R.return)&&(yield ge(x.call(R)))}finally{if(p)throw p.error}}E=!0}catch(k){if(Uu(k))return yield ge(void 0);throw k}finally{E||l.abort()}})}return new ol(m,l,a)}static fromReadableStream(t,l,a){let r=!1;function c(){return Yt(this,arguments,function*(){var y,p,x,T;const E=new Wa,C=Hg(t);try{for(var R=!0,L=Kt(C),k;k=yield ge(L.next()),y=k.done,!y;R=!0){T=k.value,R=!1;const q=T;for(const F of E.decode(q))yield yield ge(F)}}catch(q){p={error:q}}finally{try{!R&&!y&&(x=L.return)&&(yield ge(x.call(L)))}finally{if(p)throw p.error}}for(const q of E.flush())yield yield ge(q)})}function m(){return Yt(this,arguments,function*(){var y,p,x,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,R=Kt(c()),L;L=yield ge(R.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const k=T;E||k&&(yield yield ge(JSON.parse(k)))}}catch(k){p={error:k}}finally{try{!C&&!y&&(x=R.return)&&(yield ge(x.call(R)))}finally{if(p)throw p.error}}E=!0}catch(k){if(Uu(k))return yield ge(void 0);throw k}finally{E||l.abort()}})}return new ol(m,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const m=a.next();t.push(m),l.push(m)}return c.shift()}});return[new ol(()=>r(t),this.controller,this.client),new ol(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return zg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await l.next();if(c)return a.close();const m=$u(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function xC(i,t){return Yt(this,arguments,function*(){var a,r,c,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new TC,y=new Wa,p=Hg(i.body);try{for(var x=!0,T=Kt(SC(p)),E;E=yield ge(T.next()),a=E.done,!a;x=!0){m=E.value,x=!1;const C=m;for(const R of y.decode(C)){const L=g.decode(R);L&&(yield yield ge(L))}}}catch(C){r={error:C}}finally{try{!x&&!a&&(c=T.return)&&(yield ge(c.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const R=g.decode(C);R&&(yield yield ge(R))}})}function SC(i){return Yt(this,arguments,function*(){var l,a,r,c;let m=new Uint8Array;try{for(var g=!0,y=Kt(i),p;p=yield ge(y.next()),l=p.done,!l;g=!0){c=p.value,g=!1;const x=c;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?$u(x):x;let E=new Uint8Array(m.length+T.length);E.set(m),E.set(T,m.length),m=E;let C;for(;(C=yC(m))!==-1;)yield yield ge(m.slice(0,C)),m=m.slice(C)}}catch(x){a={error:x}}finally{try{!g&&!l&&(r=y.return)&&(yield ge(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield ge(m))})}class TC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=EC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function EC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _C(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,m=await(async()=>{var g;if(t.options.stream)return ct(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):ol.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),p=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await l.json():await l.text()})();return ct(i).debug(`[${a}] response parsed`,pi({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-c})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ju extends Promise{constructor(t,l,a=_C){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new ju(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg=Symbol("brand.privateNullableHeaders");function*CC(i){if(!i)return;if(Fg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Vp(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Vp(a[1])?a[1]:[a[1]];let m=!1;for(const g of c)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const ro=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[c,m]of CC(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),m===null?(t.delete(c),l.add(g)):(t.append(c,m),l.delete(g))}}return{[Fg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cu=i=>{var t,l,a,r,c,m;if(typeof globalThis.process<"u")return(a=(l=(t=Zv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;class es{constructor(t){var l,a,r,c,m,g,y,{baseURL:p=Cu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(l=Cu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Fa(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:x,apiVersion:T},E),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:es.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const R="warn";this.logLevel=R,this.logLevel=(m=(c=Jp(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Jp(Cu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:R,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:lC(),this.encoder=sC,this._options=C,this.apiKey=x,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ro([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ro([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ro([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${il}`}defaultIdempotencyKey(){return`stainless-node-retry-${F_()}`}makeStatusError(t,l,a,r){return ft.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=Y_(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return Q_(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(c.search=this.stringifyQuery(l)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new ju(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,c,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:p,url:x,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(p,{url:x,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,R=Date.now();if(ct(this).debug(`[${E}] sending request`,pi({retryOfRequestLogID:a,method:g.method,url:x,options:g,headers:p.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new zu;const L=new AbortController,k=await this.fetchWithTimeout(x,p,T,L).catch(Lu),q=Date.now();if(k instanceof globalThis.Error){const J=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new zu;const z=Uu(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(l)return ct(this).info(`[${E}] connection ${z?"timed out":"failed"} - ${J}`),ct(this).debug(`[${E}] connection ${z?"timed out":"failed"} (${J})`,pi({retryOfRequestLogID:a,url:x,durationMs:q-R,message:k.message})),this.retryRequest(g,l,a??E);throw ct(this).info(`[${E}] connection ${z?"timed out":"failed"} - error; no more retries left`),ct(this).debug(`[${E}] connection ${z?"timed out":"failed"} (error; no more retries left)`,pi({retryOfRequestLogID:a,url:x,durationMs:q-R,message:k.message})),z?new Ng:new ja({cause:k})}const F=`[${E}${C}] ${p.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${q-R}ms`;if(!k.ok){const J=await this.shouldRetry(k);if(l&&J){const W=`retrying, ${l} attempts remaining`;return await aC(k.body),ct(this).info(`${F} - ${W}`),ct(this).debug(`[${E}] response error (${W})`,pi({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,durationMs:q-R})),this.retryRequest(g,l,a??E,k.headers)}const z=J?"error; no more retries left":"error; not retryable";ct(this).info(`${F} - ${z}`);const Q=await k.text().catch(W=>Lu(W).message),Z=j_(Q),X=Z?void 0:Q;throw ct(this).debug(`[${E}] response error (${z})`,pi({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,message:X,durationMs:Date.now()-R})),this.makeStatusError(k.status,Z,X,k.headers)}return ct(this).info(F),ct(this).debug(`[${E}] response start`,pi({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,durationMs:q-R})),{response:k,options:g,controller:L,requestLogID:E,retryOfRequestLogID:a,startTime:R}}async fetchWithTimeout(t,l,a,r){const c=l||{},{signal:m,method:g}=c,y=Fa(c,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),a),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(p)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var c;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const p=parseFloat(g);Number.isNaN(p)||(m=p)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const p=parseFloat(y);Number.isNaN(p)?m=Date.parse(y)-Date.now():m=p*1e3}if(!(m&&0<=m&&m<60*1e3)){const p=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,p)}return await W_(m),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const c=l-t,m=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,c;const m=Object.assign({},t),{method:g,path:y,query:p,defaultBaseURL:x}=m,T=this.buildURL(y,p,x);"timeout"in m&&$_("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:m}),R=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:R},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=m.fetchOptions)!==null&&c!==void 0?c:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=ro([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),iC()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=ro([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:oC(t)}:this.encoder({body:t,headers:a})}}es.DEFAULT_TIMEOUT=6e4;class tt extends es{constructor(){super(...arguments),this.interactions=new Og(this)}}Jg=tt;tt.GeminiNextGenAPIClient=Jg;tt.GeminiNextGenAPIClientError=Pt;tt.APIError=ft;tt.APIConnectionError=ja;tt.APIConnectionTimeoutError=Ng;tt.APIUserAbortError=zu;tt.NotFoundError=Ig;tt.ConflictError=Dg;tt.RateLimitError=Ug;tt.BadRequestError=wg;tt.AuthenticationError=Mg;tt.InternalServerError=Lg;tt.PermissionDeniedError=Rg;tt.UnprocessableEntityError=kg;tt.toFile=dC;tt.Interactions=Og;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function bC(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function NC(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function wC(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function MC(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const m=u(i,["learningRateMultiplier"]);if(m!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function RC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec"],Kp(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec"],Kp(C))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const m=u(i,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let p=u(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(p==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(x==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&f(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function IC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&BC(c);const m=u(i,["config"]);return m!=null&&MC(m,l),l}function DC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&OC(c,l,t);const m=u(i,["config"]);return m!=null&&RC(m,l,t),l}function kC(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function UC(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function LC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function zC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function HC(i,t){const l={},a=u(i,["config"]);return a!=null&&LC(a,l),l}function GC(i,t){const l={},a=u(i,["config"]);return a!=null&&zC(a,l),l}function qC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Yg(g))),f(l,["tuningJobs"],m)}return l}function VC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>qu(g))),f(l,["tuningJobs"],m)}return l}function PC(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function BC(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function OC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Yg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],rg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(l,["endTime"],y);const p=u(i,["updateTime"]);p!=null&&f(l,["updateTime"],p);const x=u(i,["description"]);x!=null&&f(l,["description"],x);const T=u(i,["baseModel"]);T!=null&&f(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&f(l,["tunedModel"],PC(E)),l}function qu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],rg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(l,["endTime"],y);const p=u(i,["updateTime"]);p!=null&&f(l,["updateTime"],p);const x=u(i,["error"]);x!=null&&f(l,["error"],x);const T=u(i,["description"]);T!=null&&f(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&f(l,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&f(l,["tunedModel"],C);const R=u(i,["preTunedModel"]);R!=null&&f(l,["preTunedModel"],R);const L=u(i,["supervisedTuningSpec"]);L!=null&&f(l,["supervisedTuningSpec"],L);const k=u(i,["preferenceOptimizationSpec"]);k!=null&&f(l,["preferenceOptimizationSpec"],k);const q=u(i,["tuningDataStats"]);q!=null&&f(l,["tuningDataStats"],q);const F=u(i,["encryptionSpec"]);F!=null&&f(l,["encryptionSpec"],F);const J=u(i,["partnerModelTuningSpec"]);J!=null&&f(l,["partnerModelTuningSpec"],J);const z=u(i,["customBaseModel"]);z!=null&&f(l,["customBaseModel"],z);const Q=u(i,["experiment"]);Q!=null&&f(l,["experiment"],Q);const Z=u(i,["labels"]);Z!=null&&f(l,["labels"],Z);const X=u(i,["outputUri"]);X!=null&&f(l,["outputUri"],X);const te=u(i,["pipelineJob"]);te!=null&&f(l,["pipelineJob"],te);const W=u(i,["serviceAccount"]);W!=null&&f(l,["serviceAccount"],W);const se=u(i,["tunedModelDisplayName"]);se!=null&&f(l,["tunedModelDisplayName"],se);const he=u(i,["veoTuningSpec"]);return he!=null&&f(l,["veoTuningSpec"],he),l}function FC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(i,["done"]);m!=null&&f(l,["done"],m);const g=u(i,["error"]);return g!=null&&f(l,["error"],g),l}function Kp(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JC extends _n{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new gi(En.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let m="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?m=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(m=c.name.split("/operations/")[0]),{name:m,state:Nu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=UC(t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>qu(x))}else{const p=kC(t);return g=ne("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>Yg(x))}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=GC(t);return g=ne("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=VC(x),E=new xp;return Object.assign(E,T),E})}else{const p=HC(t);return g=ne("tunedModels",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=qC(x),E=new xp;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=bC(t);return g=ne("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=wC(x),E=new Sp;return Object.assign(E,T),E})}else{const p=AC(t);return g=ne("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=NC(x),E=new Sp;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=DC(t,t);return c=ne("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>qu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IC(t);return c=ne("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>FC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KC=1024*1024*8,XC=3,QC=1e3,ZC=2,Ya="x-goog-upload-status";async function $C(i,t,l){var a;const r=await Kg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function jC(i,t,l){var a;const r=await Kg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=ng(c),g=new Ju;return Object.assign(g,m),g}async function Kg(i,t,l){var a,r;let c=0,m=0,g=new wu(new Response),y="upload";for(c=i.size;m<c;){const p=Math.min(KC,c-m),x=i.slice(m,m+p);m+p>=c&&(y+=", finalize");let T=0,E=QC;for(;T<XC&&(g=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(p)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ya]));)T++,await eA(E),E=E*ZC;if(m+=p,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ya])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function WC(i){return{size:i.size,type:i.type}}function eA(i){return new Promise(t=>setTimeout(t,i))}class tA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $C(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jC(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA{create(t,l,a){return new iA(t,l,a)}}class iA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xp="x-goog-api-key";class lA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Xp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Xp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="gl-node/";class fo{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=ex(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new lA(this.apiKey);this.apiClient=new W1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:oA+"web",uploader:new tA,downloader:new YC}),this.models=new v_(this.apiClient),this.live=new d_(this.apiClient,r,new nA),this.batches=new MS(this.apiClient),this.chats=new cT(this.models,this.apiClient),this.caches=new sT(this.apiClient),this.files=new ST(this.apiClient),this.operations=new x_(this.apiClient),this.authTokens=new L_(this.apiClient),this.tunings=new JC(this.apiClient),this.fileSearchStores=new O_(this.apiClient)}}const Vu="https://api.alquran.cloud/v1",Xg="https://api.aladhan.com/v1",Qg=i=>{try{const t=i.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(t)}catch(t){throw console.error("JSON Parse Error",t,i),new Error("Invalid AI response format from server.")}},aA=async()=>{const i=await Wt.getSurahs();if(i.length>0)return i;try{const l=await(await fetch(`${Vu}/surah`)).json();return await Wt.saveSurahs(l.data),l.data}catch{return i}},Qp=async(i,t="ar.alafasy",l="en.sahih")=>{const a=await Wt.getSurahContent(i);if(a.length>0)return a;try{const[r,c]=await Promise.all([fetch(`${Vu}/surah/${i}/${t}`),fetch(`${Vu}/surah/${i}/${l}`)]);if(!r.ok||!c.ok)throw new Error(`API error: ${r.statusText||c.statusText}`);const m=await r.json(),g=await c.json();return m.data.ayahs.map((y,p)=>({...y,translation:g.data.ayahs[p].text}))}catch(r){return console.error(`Failed to fetch ayahs for surah ${i}:`,r),a}},Zp=async i=>{var l,a;if(!i||i.length<2)return[];const t="AIzaSyCLRkuvtBbBeMUJ-CE2J_sRIqjlClObQmg";try{const c=await new fo({apiKey:t}).models.generateContent({model:"gemini-3-flash-preview",contents:`List 5 real-world cities or locations matching "${i}". Include the country name for clarity. Return only as a JSON string array.`,config:{responseMimeType:"application/json",responseSchema:{type:xt.ARRAY,items:{type:xt.STRING}}}});return Qg(c.text)}catch(r){if(console.error("Suggestion error",r),(l=r.message)!=null&&l.includes("API_KEY")||(a=r.message)!=null&&a.includes("not found"))throw new Error("API_KEY_MISSING");return[]}},sA=async i=>{var l,a;const t="AIzaSyCLRkuvtBbBeMUJ-CE2J_sRIqjlClObQmg";try{const c=await new fo({apiKey:t}).models.generateContent({model:"gemini-3-flash-preview",contents:`Find the precise coordinates (latitude, longitude) and official full name for the location: "${i}". Return the data as a JSON object with properties 'lat', 'lng', and 'name'.`,config:{responseMimeType:"application/json",responseSchema:{type:xt.OBJECT,properties:{lat:{type:xt.NUMBER},lng:{type:xt.NUMBER},name:{type:xt.STRING}},required:["lat","lng","name"]}}}),m=Qg(c.text);if(typeof m.lat!="number"||typeof m.lng!="number")throw new Error("Could not resolve coordinates for this location.");return m}catch(r){throw(l=r.message)!=null&&l.includes("API_KEY")||(a=r.message)!=null&&a.includes("not found")?new Error("API_KEY_MISSING"):r}},rA=async(i,t,l,a)=>{const r=`${Xg}/calendar?latitude=${l}&longitude=${a}&method=4&month=${t}&year=${i}`;try{const c=await fetch(r);if(!c.ok)throw new Error(`API returned ${c.status}`);const m=await c.json();return m.data&&Array.isArray(m.data)?m.data:m.data&&typeof m.data=="object"?Object.keys(m.data).sort((g,y)=>parseInt(g)-parseInt(y)).map(g=>m.data[g]):[]}catch(c){return console.error("fetchHijriCalendar failed:",c),[]}},Wu=async(i,t,l=4,a=0,r,c)=>{const m=new Date().toISOString().split("T")[0];let g=`${Xg}/timings?latitude=${i}&longitude=${t}&method=${l}&school=${a}`;if(r||c){const x=`${r||"null"},null,${c||"null"}`;g+=`&methodSettings=${x}`}const y=`${m}_${l}_${a}_${r||0}_${c||0}_${i.toFixed(2)}_${t.toFixed(2)}`,p=await Wt.getPrayerTimes(y);try{const T=await(await fetch(g)).json();if(!T.data)throw new Error("Invalid API response");const E=T.data.timings,C=T.data.date.hijri;return Wt.saveMonthlyPrayer(y,E),{times:E,hijriDate:`${C.day} ${C.month.en} ${C.year} AH`,hijriArabic:`${C.day} ${C.month.ar} ${C.year} `,locationName:T.data.meta.timezone,rawHijri:C}}catch(x){if(p)return{times:p,hijriDate:"Offline Mode",hijriArabic:"",locationName:"",rawHijri:null};throw x}},uA=[{id:"ar.alafasy",name:"Mishary Rashid Alafasy"},{id:"ar.abdulsamad",name:"Abdul Basit Abdus Samad"},{id:"ar.saoodshuraym",name:"Saood bin Ibrahim Ash-Shuraym"},{id:"ar.minshawi",name:"Mohamed Siddiq El-Minshawi"}],cA=[{id:"en.sahih",name:"English (Sahih Intl)"},{id:"bn.bengali",name:"Bengali (Muhiuddin Khan)"},{id:"ur.jalandhry",name:"Urdu (Fateh Muhammad Jalandhry)"},{id:"fr.hamidullah",name:"French (Hamidullah)"}],Ka=[{id:"makkah",name:"Makkah Adhan",muezzin:"Sheikh Ali Mullah",url:"https://www.islamcan.com/audio/adhan/azan1.mp3"},{id:"madinah",name:"Madinah Adhan",muezzin:"Sheikh Essam Bukhari",url:"https://www.islamcan.com/audio/adhan/azan2.mp3"},{id:"mishary",name:"Mishary Rashid",muezzin:"Sheikh Mishary Rashid Alafasy",url:"https://www.islamcan.com/audio/adhan/azan3.mp3"},{id:"alaqsa",name:"Al-Aqsa Adhan",muezzin:"Al-Aqsa Mosque",url:"https://www.islamcan.com/audio/adhan/azan4.mp3"},{id:"egypt",name:"Egyptian Adhan",muezzin:"Egyptian Style",url:"https://www.islamcan.com/audio/adhan/azan5.mp3"}],$p=["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-ula","Jumada al-akhira","Rajab","Sha'ban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],jp=[{month:9,day:1,name:"Start of Ramadan",color:"bg-emerald-100 text-emerald-700"},{month:10,day:1,name:"Eid al-Fitr",color:"bg-amber-100 text-amber-700"},{month:12,day:10,name:"Eid al-Adha",color:"bg-sky-100 text-sky-700"},{month:1,day:10,name:"Ashura",color:"bg-rose-100 text-rose-700"},{month:7,day:27,name:"Isra' and Mi'raj",color:"bg-indigo-100 text-indigo-700"}],Zg=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:2,name:"Islamic Society of North America (ISNA)"},{id:3,name:"Muslim World League (MWL)"},{id:4,name:"Umm Al-Qura University, Makkah"},{id:5,name:"Egyptian General Authority of Survey"},{id:7,name:"Institute of Geophysics, University of Tehran"},{id:8,name:"Gulf Region"},{id:9,name:"Kuwait"},{id:10,name:"Qatar"},{id:11,name:"Majlis Ugama Islam Singapura, Singapore"},{id:12,name:"Union Organization islamic de France"}],$g=[{id:0,name:"Shafi (Standard)"},{id:1,name:"Hanafi"}];/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=K.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:c,iconNode:m,...g},y)=>K.createElement("svg",{ref:y,...dA,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:jg("lucide",r),...g},[...m.map(([p,x])=>K.createElement(p,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(i,t)=>{const l=K.forwardRef(({className:a,...r},c)=>K.createElement(mA,{ref:c,iconNode:t,className:jg(`lucide-${fA(i)}`,a),...r}));return l.displayName=`${i}`,l};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=me("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=me("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=me("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=me("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=me("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=me("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=me("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=me("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=me("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=me("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=me("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GA=i=>{if(!i)return"--:--";const[t,l]=i.split(":").map(Number),a=t>=12?"PM":"AM";return`${t%12||12}:${l.toString().padStart(2,"0")} ${a}`},qA=({onNavigate:i,location:t,adhanSettings:l,isAudioReady:a})=>{var X;const[r,c]=K.useState(null),[m,g]=K.useState(""),[y,p]=K.useState(""),[x,T]=K.useState(null),[E,C]=K.useState(""),[R,L]=K.useState(!1),[k,q]=K.useState(!1),F=K.useRef(null),J=K.useMemo(()=>Ka.find(te=>te.id===l.voiceId)||Ka[0],[l.voiceId]);K.useEffect(()=>{t&&(L(!0),Wu(t.lat,t.lng,l.method,l.school).then(te=>{c(te.times),g(te.hijriDate||""),p(te.hijriArabic||""),z(te.times),L(!1)}).catch(()=>L(!1)))},[t,l.method,l.school]),K.useEffect(()=>{if(!x)return;const te=setInterval(()=>{const W=new Date,[se,he]=x.time.split(":").map(Number),j=new Date;j.setHours(se,he,0,0),j<W&&j.setDate(j.getDate()+1);const ie=j.getTime()-W.getTime(),ce=Math.floor(ie/(1e3*60*60)),be=Math.floor(ie%(1e3*60*60)/(1e3*60)),b=Math.floor(ie%(1e3*60)/1e3);C(`${ce}h ${be}m ${b}s`)},1e3);return()=>clearInterval(te)},[x]);const z=te=>{const W=new Date,se=W.getHours()*60+W.getMinutes(),he=[{name:"Fajr",time:te.Fajr},{name:"Sunrise",time:te.Sunrise},{name:"Dhuhr",time:te.Dhuhr},{name:"Asr",time:te.Asr},{name:"Maghrib",time:te.Maghrib},{name:"Isha",time:te.Isha}];for(let j of he){const[ie,ce]=j.time.split(":").map(Number);if(ie*60+ce>se){T(j);return}}T(he[0])},Q=async()=>{if(F.current)if(k)F.current.pause(),q(!1);else try{const te=await Wt.getAdhanAudio(l.voiceId);F.current.src=te?URL.createObjectURL(te):J.url,await F.current.play(),q(!0)}catch{alert("Audio blocked. Ensure your device isn't on silent/mute mode.")}},Z=m?m.split(" "):["--","...","----"];return v.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f2f6f4] relative",children:[v.jsx("audio",{ref:F,onEnded:()=>q(!1),className:"hidden",crossOrigin:"anonymous"}),v.jsxs("div",{className:"fixed inset-0 z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#064e3b] via-[#065f46] to-[#f2f6f4]"}),v.jsx("div",{className:"absolute inset-0 opacity-[0.04] mix-blend-overlay",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/islamic-art.png')"}})]}),v.jsxs("div",{className:"relative z-10 flex flex-col",children:[v.jsxs("div",{className:"pt-14 pb-16 px-6 flex flex-col items-center text-center",children:[v.jsxs("div",{className:`flex items-center gap-3 mb-10 backdrop-blur-xl px-5 py-2.5 rounded-full border shadow-xl transition-all ${a?"bg-emerald-400/10 border-emerald-400/20 text-emerald-400":"bg-white/10 border-white/20 text-white"}`,children:[a?v.jsx(kA,{size:14}):v.jsx(pA,{size:14,className:"animate-pulse"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:a?"Engine Ready":"Monitoring"})]}),v.jsx("div",{className:"mb-14 w-full px-4",children:R?v.jsxs("div",{className:"flex flex-col items-center gap-4 py-20",children:[v.jsx(Tn,{className:"animate-spin text-white/50",size:40}),v.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Calculating Times..."})]}):t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-[11px] font-black uppercase tracking-[0.5em] text-emerald-400 mb-5",children:[(x==null?void 0:x.name)||"Syncing"," Adhan"]}),v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsx("h1",{className:"text-[6rem] sm:text-[7rem] font-black tracking-tighter text-white leading-none drop-shadow-2xl",children:x?GA(x.time).split(" ")[0]:"--:--"}),v.jsx("button",{onClick:Q,className:`p-4 rounded-full transition-all active:scale-90 flex items-center justify-center shadow-2xl ${k?"bg-amber-500 text-emerald-950 animate-pulse":"bg-white/10 text-white hover:bg-white/20"}`,children:k?v.jsx(HA,{size:24}):v.jsx(ic,{size:24})})]}),v.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[v.jsx("div",{className:"px-8 py-3.5 rounded-full bg-amber-500 text-emerald-950 shadow-2xl flex items-center gap-3 border border-amber-400/50 scale-105",children:v.jsx("span",{className:"text-xs font-black tracking-widest uppercase",children:E||"..."})}),v.jsxs("div",{className:"flex flex-col items-center gap-1 opacity-80",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(mo,{size:12,className:"text-white fill-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.3em]",children:(t==null?void 0:t.name)||"Searching..."})]}),v.jsxs("p",{className:"text-[8px] font-black text-emerald-300/60 uppercase tracking-widest mt-1",children:["Voice: ",J.name]})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center gap-6 py-10",children:[v.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-3xl flex items-center justify-center text-white",children:v.jsx(bA,{size:32})}),v.jsx("button",{onClick:()=>i(He.Adhan),className:"bg-amber-500 text-emerald-950 px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl active:scale-95",children:"Set Location"})]})})]}),v.jsx("div",{className:"px-6 -mt-10 mb-10",children:v.jsxs("div",{onClick:()=>i(He.Calendar),className:"bg-white p-7 rounded-[3rem] shadow-premium flex items-center justify-between border border-white relative overflow-hidden group cursor-pointer active:scale-[0.98] transition-all",children:[v.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[v.jsxs("div",{className:"w-16 h-16 rounded-[1.8rem] bg-emerald-950 flex flex-col items-center justify-center text-white shadow-xl",children:[v.jsx("span",{className:"text-xl font-black leading-none mb-0.5",children:Z[0]||"--"}),v.jsx("span",{className:"text-[8px] uppercase font-black text-emerald-400 tracking-tighter",children:((X=Z[1])==null?void 0:X.substring(0,3))||"..."})]}),v.jsxs("div",{className:"flex flex-col text-left",children:[v.jsx("h2",{className:"arabic-text text-2xl font-bold text-emerald-900 leading-none mb-2",children:y||" ..."}),v.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] flex items-center gap-1.5",children:m||"Determining Date"})]})]}),v.jsx("button",{className:"w-14 h-14 flex items-center justify-center bg-slate-50 text-emerald-900 rounded-3xl group-hover:bg-emerald-950 group-hover:text-white transition-all border border-slate-100",children:v.jsx(rl,{size:24})})]})}),v.jsx("div",{className:"bg-[#f2f6f4] rounded-t-[4rem] px-6 pt-4 pb-36 space-y-10",children:v.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[v.jsx(nl,{icon:v.jsx(ec,{size:24}),label:"Quran",onClick:()=>i(He.Quran),color:"bg-emerald-800"}),v.jsx(nl,{icon:v.jsx(xA,{size:24}),label:"Tasbih",onClick:()=>i(He.Tasbih),color:"bg-emerald-700"}),v.jsx(nl,{icon:v.jsx(CA,{size:24}),label:"Dua",onClick:()=>i(He.Dua),color:"bg-emerald-600"}),v.jsx(nl,{icon:v.jsx(SA,{size:24}),label:"Adhan",onClick:()=>i(He.Adhan),color:"bg-emerald-500"}),v.jsx(nl,{icon:v.jsx(e0,{size:24}),label:"Calendar",onClick:()=>i(He.Calendar),color:"bg-amber-600"}),v.jsx(nl,{icon:v.jsx(i0,{size:24}),label:"Qiblah",onClick:()=>i(He.Qiblah),color:"bg-emerald-400"})]})})]})]})},nl=({icon:i,label:t,onClick:l,color:a})=>v.jsxs("button",{onClick:l,className:"flex flex-col items-center gap-3 group",children:[v.jsx("div",{className:`w-full aspect-square rounded-[2.2rem] flex items-center justify-center text-white shadow-xl ${a} active:scale-90 transition-all group-hover:-translate-y-2 duration-500 border border-white/10`,children:i}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400 group-hover:text-emerald-900 transition-colors",children:t})]}),VA="   ",PA=({settings:i,onUpdateSettings:t})=>{var be;const[l,a]=K.useState([]),[r,c]=K.useState(null),[m,g]=K.useState([]),[y,p]=K.useState(!1),[x,T]=K.useState(null),[E,C]=K.useState(!1),[R,L]=K.useState(()=>{const b=localStorage.getItem("noor_bookmarks");return b?JSON.parse(b):[]}),[k,q]=K.useState(null),[F,J]=K.useState(null),z=K.useRef(null),Q=K.useRef({});K.useEffect(()=>{aA().then(a)},[]),K.useEffect(()=>{r&&(p(!0),Q.current={},Qp(r.number,i.reciterId,i.translationId).then(b=>{g(b),p(!1)}))},[r,i.reciterId,i.translationId]),K.useEffect(()=>{var b;if(F!==null){const G=(b=m[F])==null?void 0:b.numberInSurah,$=Q.current[G];$&&$.scrollIntoView({behavior:"smooth",block:"center"})}},[F,m]),K.useEffect(()=>{if(!y&&m.length>0&&k!==null){const b=setTimeout(()=>{const G=Q.current[k];G&&(G.scrollIntoView({behavior:"smooth",block:"center"}),G.style.transition="background-color 0.5s ease",G.style.backgroundColor="#ecfdf5",setTimeout(()=>{G.style.backgroundColor="white"},2e3),q(null))},500);return()=>clearTimeout(b)}},[m,y,k]),K.useEffect(()=>{localStorage.setItem("noor_bookmarks",JSON.stringify(R))},[R]);const Z=()=>{t&&t({...i,showTranslation:!i.showTranslation})},X=async(b,G)=>{if(b.stopPropagation(),G.isDownloaded){confirm(`Remove ${G.englishName} from offline storage?`)&&(await Wt.removeSurahContent(G.number),a(l.map($=>$.number===G.number?{...$,isDownloaded:!1}:$)));return}T(G.number);try{const $=await Qp(G.number,i.reciterId,i.translationId);await Wt.saveSurahContent(G.number,$),a(l.map(fe=>fe.number===G.number?{...fe,isDownloaded:!0}:fe))}catch{alert("Download failed. Check your connection.")}finally{T(null)}},te=b=>R.some(G=>G.surahNumber===(r==null?void 0:r.number)&&G.ayahNumber===b),W=b=>{if(!r)return;const G=R.findIndex($=>$.surahNumber===r.number&&$.ayahNumber===b.numberInSurah);if(G!==-1)L(R.filter(($,fe)=>fe!==G));else{const $={id:Date.now().toString(),surahNumber:r.number,surahName:r.englishName,ayahNumber:b.numberInSurah,timestamp:Date.now()};L([$,...R])}},se=b=>{const G=l.find($=>$.number===b.surahNumber);G&&(q(b.ayahNumber),c(G),C(!1))},he=b=>{var G;F===b?((G=z.current)==null||G.pause(),J(null)):(J(b),z.current&&(z.current.src=m[b].audio,z.current.play()))},j=()=>{i.continuousPlay&&F!==null&&F<m.length-1?he(F+1):J(null)},ie=()=>{if(r&&r.number<114){const b=l.find(G=>G.number===r.number+1);b&&(c(b),window.scrollTo(0,0))}},ce=(b,G)=>{if(b.numberInSurah===1&&G!==1&&G!==9){const fe=b.text.trim().split(/\s+/);if(fe.length>=4&&fe[0].includes(""))return fe.slice(4).join(" ").trim()}return b.text};return r?v.jsxs("div",{className:"bg-[#f8f6f0] min-h-screen flex flex-col pb-10",children:[v.jsxs("header",{className:"sticky top-0 bg-emerald-950 text-white p-5 flex items-center justify-between shadow-2xl z-20 rounded-b-[2.5rem]",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>c(null),className:"p-2 bg-white/10 rounded-2xl active:scale-90 transition-all",children:v.jsx(tc,{size:20})}),v.jsxs("div",{className:"max-w-[120px]",children:[v.jsx("h2",{className:"font-black text-xl tracking-tight truncate",children:r.englishName}),v.jsx("p",{className:"text-[10px] text-emerald-400 font-black uppercase tracking-[0.2em] truncate",children:r.name})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:Z,className:`p-3 rounded-2xl transition-all border border-white/10 flex items-center gap-2 ${i.showTranslation?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"bg-white/5 text-emerald-400"}`,title:"Toggle Translation",children:[v.jsx(a0,{size:18}),v.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest hidden sm:inline",children:"Translate"})]}),v.jsxs("button",{onClick:()=>C(!0),className:"p-3 bg-white/10 rounded-2xl active:scale-90 transition-all border border-white/5 relative",children:[v.jsx(Au,{size:18}),R.length>0&&v.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-emerald-500 rounded-full border border-emerald-950"})]})]})]}),v.jsx("div",{className:"flex-1 p-5 space-y-8 max-w-lg mx-auto w-full",children:y?v.jsxs("div",{className:"flex flex-col items-center justify-center p-24 space-y-6",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-[2rem] flex items-center justify-center shadow-xl",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-800"})}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-900",children:"Fetching Ayahs..."})]}):v.jsxs(v.Fragment,{children:[r.number!==1&&r.number!==9&&v.jsxs("div",{className:"py-10 text-center animate-in fade-in zoom-in duration-700",children:[v.jsx("p",{className:"arabic-text text-4xl text-emerald-900/80 font-bold",style:{fontFamily:i.fontFamily},children:VA}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-emerald-200 to-transparent"})})]}),m.map((b,G)=>{const $=ce(b,r.number),fe=te(b.numberInSurah),Ce=F===G;return v.jsxs("div",{ref:w=>{Q.current[b.numberInSurah]=w},className:`p-7 rounded-[3rem] transition-all duration-500 border ${Ce?"bg-emerald-50 border-emerald-300 shadow-2xl scale-[1.02] ring-4 ring-emerald-500/10":"bg-white border-white/50 shadow-premium"} ${fe?"border-amber-200":""}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-[12px] font-black shadow-lg transition-colors ${Ce?"bg-emerald-600 text-white":"bg-emerald-900 text-white"}`,children:b.numberInSurah}),v.jsx("button",{onClick:()=>W(b),className:`${fe?"text-amber-500":"text-slate-200"} transition-all p-2 hover:scale-110 active:scale-95`,children:v.jsx(Au,{size:18,fill:fe?"currentColor":"none"})})]}),v.jsxs("button",{onClick:()=>he(G),className:`p-4 rounded-2xl transition-all active:scale-90 border flex items-center gap-2 ${Ce?"bg-emerald-600 text-white border-emerald-400":"bg-emerald-50 text-emerald-800 border-emerald-100/50"}`,children:[Ce?v.jsx(s0,{size:18,fill:"currentColor"}):v.jsx(r0,{size:18,fill:"currentColor"}),Ce&&v.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest animate-pulse",children:"Playing"})]})]}),v.jsx("p",{className:"arabic-text text-right mb-6 leading-[2.6] font-bold text-slate-900 transition-all",style:{fontSize:`${i.fontSize}px`,fontFamily:i.fontFamily},children:$}),i.showTranslation&&v.jsx("div",{className:"text-slate-500 text-sm font-medium leading-relaxed italic border-t border-slate-50 pt-6 animate-in slide-in-from-top-2 duration-300",children:b.translation})]},`${r.number}_${b.numberInSurah}`)}),r.number<114&&v.jsxs("button",{onClick:ie,className:"w-full bg-emerald-950 text-white p-8 rounded-[3.5rem] flex items-center justify-between group active:scale-[0.98] transition-all shadow-2xl shadow-emerald-950/40 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-transparent"}),v.jsxs("div",{className:"relative z-10 text-left",children:[v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500 mb-2",children:"Continue Journey"}),v.jsx("h4",{className:"font-black text-2xl tracking-tight",children:(be=l.find(b=>b.number===r.number+1))==null?void 0:be.englishName})]}),v.jsx("div",{className:"relative z-10 bg-white/10 p-5 rounded-3xl group-hover:bg-white/20 transition-all group-hover:translate-x-1",children:v.jsx(rl,{size:28})})]})]})}),v.jsx("audio",{ref:z,onEnded:j,className:"hidden"}),E&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-end justify-center",onClick:()=>C(!1),children:v.jsxs("div",{className:"bg-[#f8f6f0] w-full max-w-lg rounded-t-[4rem] p-10 h-[75vh] flex flex-col shadow-2xl border-t border-white/20",onClick:b=>b.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h3",{className:"text-2xl font-black tracking-tighter",children:"Bookmarks"}),v.jsx("button",{onClick:()=>C(!1),className:"p-3 bg-white rounded-full shadow-sm",children:v.jsx(ho,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pb-10 no-scrollbar",children:R.length===0?v.jsx("div",{className:"text-center py-20",children:v.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-[10px]",children:"Your journey starts here"})}):R.map(b=>v.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] flex items-center justify-between border border-white/50 shadow-premium hover:border-emerald-200 active:scale-95 transition-all",children:[v.jsxs("button",{onClick:()=>se(b),className:"flex-1 text-left",children:[v.jsx("h4",{className:"font-black text-slate-800 tracking-tight",children:b.surahName}),v.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:["Ayah ",b.ayahNumber,"  ",new Date(b.timestamp).toLocaleDateString()]})]}),v.jsx("button",{onClick:()=>L(R.filter(G=>G.id!==b.id)),className:"text-rose-300 p-3 hover:bg-rose-50 hover:text-rose-500 rounded-2xl transition-all",children:v.jsx(nc,{size:18})})]},b.id))})]})})]}):v.jsxs("div",{className:"p-4 sm:p-6 bg-[#f2f6f4] min-h-screen pb-32",children:[v.jsxs("div",{className:"flex justify-between items-center mb-10 px-2",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Holy Quran"}),v.jsxs("button",{onClick:()=>C(!0),className:"p-4 bg-white text-emerald-900 rounded-[1.8rem] shadow-premium relative border border-white/50 group active:scale-90 transition-all",children:[v.jsx(Au,{size:24}),R.length>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-amber-500 text-white text-[11px] flex items-center justify-center rounded-full font-black border-2 border-white shadow-lg",children:R.length})]})]}),v.jsx("div",{className:"space-y-4 px-1 pb-20",children:l.map(b=>{const G=R.filter($=>$.surahNumber===b.number).length;return v.jsxs("button",{onClick:()=>c(b),className:"w-full bg-white p-4 sm:p-6 rounded-[2.8rem] border border-white/50 shadow-premium flex items-center gap-3 sm:gap-5 text-left active:scale-[0.97] transition-all group hover:border-emerald-100 overflow-hidden",children:[v.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 shrink-0 rounded-[1.5rem] sm:rounded-3xl flex items-center justify-center font-black text-base sm:text-lg shadow-inner transition-all ${b.isDownloaded?"bg-emerald-900 text-white":"bg-emerald-50 text-emerald-800"}`,children:b.number}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-base sm:text-lg truncate mb-0.5 sm:mb-1",children:b.englishName}),v.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 font-black uppercase tracking-widest truncate",children:b.englishNameTranslation})]}),v.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 shrink-0",children:[v.jsxs("div",{className:"text-right flex flex-col items-end",children:[v.jsx("p",{className:"arabic-text font-black text-xl sm:text-2xl text-emerald-950 leading-none mb-1",children:b.name}),G>0&&v.jsxs("span",{className:"text-[7px] sm:text-[8px] bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-black uppercase tracking-tighter shadow-sm whitespace-nowrap",children:[G," SAVED"]})]}),v.jsx("button",{onClick:$=>X($,b),className:`p-2 rounded-xl transition-all ${b.isDownloaded?"text-emerald-600 bg-emerald-50":"text-slate-300 hover:text-emerald-500 bg-slate-50"}`,children:x===b.number?v.jsx(Tn,{size:16,className:"animate-spin"}):b.isDownloaded?v.jsx(vA,{size:16}):v.jsx(EA,{size:16})})]})]},b.number)})})]})},BA=()=>{const[i,t]=K.useState("list"),[l,a]=K.useState(()=>{const j=localStorage.getItem("noor_dhikr_list");return j?JSON.parse(j):[]}),[r,c]=K.useState(null),[m,g]=K.useState(""),[y,p]=K.useState(""),[x,T]=K.useState(33),[E,C]=K.useState(),[R,L]=K.useState(!1),[k,q]=K.useState(!1),F=K.useRef(null),J=K.useRef(null);K.useEffect(()=>{F.current=new Audio("https://www.soundjay.com/buttons/sounds/button-16.mp3"),J.current=new Audio("https://www.soundjay.com/buttons/sounds/button-30.mp3")},[]),K.useEffect(()=>{localStorage.setItem("noor_dhikr_list",JSON.stringify(l))},[l]);const z=K.useMemo(()=>l.find(j=>j.id===r),[l,r]),Q=()=>{r&&(F.current&&(F.current.currentTime=0,F.current.play().catch(()=>{})),a(j=>j.map(ie=>{var ce;if(ie.id===r){const be=ie.completedCount+1;return be===ie.targetCount&&(navigator.vibrate&&navigator.vibrate([150,50,150]),(ce=J.current)==null||ce.play().catch(()=>{})),{...ie,completedCount:be}}return ie})))},Z=j=>{confirm("Reset progress for this item?")&&a(ie=>ie.map(ce=>ce.id===j?{...ce,completedCount:0}:ce))},X=(j,ie)=>{j.preventDefault(),j.stopPropagation(),window.confirm("Remove this Dhikr from your daily list?")&&a(ce=>ce.filter(be=>be.id!==ie))},te=async()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;if(!j){alert("Speech recognition not supported.");return}const ie=new j;ie.lang="en-US",ie.onstart=()=>q(!0),ie.onend=()=>q(!1),ie.onresult=async ce=>{var b;const be=ce.results[0][0].transcript;L(!0);try{const $=await new fo({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:`Convert this Dhikr description into classical Arabic text only. Transcript: "${be}"`});p(((b=$.text)==null?void 0:b.trim())||""),m||g(be)}catch(G){console.error("AI Error",G)}finally{L(!1)}},ie.start()},W=j=>{var ce;const ie=(ce=j.target.files)==null?void 0:ce[0];if(ie){const be=new FileReader;be.onloadend=async()=>{var G;const b=be.result.split(",")[1];C(be.result),L(!0);try{const fe=await new fo({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:b,mimeType:ie.type}},{text:"Extract the Arabic Dhikr text from this image."}]}});p(((G=fe.text)==null?void 0:G.trim())||"")}catch($){console.error("AI Error",$)}finally{L(!1)}},be.readAsDataURL(ie)}},se=()=>{if(!m&&!y)return;const j={id:Date.now().toString()+Math.random().toString(36).substr(2,9),title:m||"Daily Dhikr",arabicText:y,targetCount:x,completedCount:0,image:E,date:new Date().toLocaleDateString()};a([j,...l]),t("list"),he()},he=()=>{g(""),p(""),T(33),C(void 0)};if(i==="counter"&&z){const j=Math.min(z.completedCount/z.targetCount*100,100);return v.jsxs("div",{className:"flex flex-col min-h-screen bg-[#060a08] text-white animate-in fade-in duration-500",children:[v.jsxs("header",{className:"p-6 flex justify-between items-center bg-black/40 backdrop-blur-md",children:[v.jsx("button",{onClick:()=>t("list"),className:"p-3 bg-white/5 rounded-2xl active:scale-90 transition-all",children:v.jsx(tc,{size:20})}),v.jsxs("div",{className:"text-center px-4 truncate",children:[v.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em] text-emerald-500 truncate",children:z.title}),v.jsxs("p",{className:"text-[9px] font-bold text-white/30 tracking-widest",children:[z.completedCount," / ",z.targetCount]})]}),v.jsx("button",{onClick:()=>Z(z.id),className:"p-3 bg-white/5 rounded-2xl active:scale-90 transition-all",children:v.jsx(MA,{size:20,className:"text-rose-400"})})]}),v.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 pb-20",children:[v.jsx("div",{className:"w-full text-center mb-12 px-4",children:z.image?v.jsx("div",{className:"w-full h-40 rounded-3xl overflow-hidden border border-emerald-500/20 shadow-2xl mb-4",children:v.jsx("img",{src:z.image,className:"w-full h-full object-cover",alt:"Dhikr"})}):v.jsx("p",{className:"arabic-text text-4xl text-emerald-50 drop-shadow-[0_0_15px_rgba(16,185,129,0.3)] leading-relaxed font-bold",children:z.arabicText||z.title})}),v.jsxs("div",{className:"relative w-72 h-72 flex items-center justify-center mb-16",children:[v.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[v.jsx("circle",{cx:"50%",cy:"50%",r:"46%",fill:"none",stroke:"rgba(255,255,255,0.03)",strokeWidth:"8"}),v.jsx("circle",{cx:"50%",cy:"50%",r:"46%",fill:"none",stroke:"#10b981",strokeWidth:"12",strokeDasharray:"289%",strokeDashoffset:`${289*(1-j/100)}%`,strokeLinecap:"round",className:"transition-all duration-500 ease-out",strokeOpacity:.9})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"text-8xl font-black tabular-nums tracking-tighter text-emerald-50 block",children:z.completedCount}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-emerald-900 bg-emerald-400/10 px-4 py-1.5 rounded-full",children:"Taps"})]})]}),v.jsxs("button",{onClick:Q,className:"w-64 h-64 rounded-full bg-gradient-to-tr from-emerald-950 via-emerald-800 to-emerald-600 shadow-[0_20px_100px_-20px_rgba(16,185,129,0.6)] active:scale-90 transition-all duration-75 flex items-center justify-center border-4 border-white/5 relative group overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-white/5 group-active:bg-transparent"}),v.jsx("span",{className:"text-3xl font-black text-white drop-shadow-md uppercase tracking-[0.2em]",children:"Tasbih"})]})]})]})}return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsxs("header",{className:"flex justify-between items-end mb-10 px-2",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(e0,{size:14,className:"text-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]}),v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:"My Dhikr"})]}),v.jsx("button",{onClick:()=>t("add"),className:"p-5 bg-emerald-950 text-white rounded-[2.5rem] shadow-2xl active:scale-95 transition-all border border-white/5 flex items-center gap-3",children:v.jsx(u0,{size:24})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-premium border border-white flex flex-col gap-1",children:[v.jsx(zA,{size:16,className:"text-emerald-500 mb-1"}),v.jsx("span",{className:"text-xl font-black text-slate-800 tabular-nums",children:l.reduce((j,ie)=>j+ie.completedCount,0)}),v.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Total Taps"})]}),v.jsxs("div",{className:"bg-emerald-900 p-6 rounded-[2.5rem] shadow-xl text-white flex flex-col gap-1",children:[v.jsx(LA,{size:16,className:"text-emerald-400 mb-1"}),v.jsx("span",{className:"text-xl font-black tabular-nums",children:l.filter(j=>j.completedCount>=j.targetCount).length}),v.jsx("span",{className:"text-[9px] font-black text-emerald-400/60 uppercase tracking-widest",children:"Finished"})]})]}),v.jsx("div",{className:"space-y-4",children:l.length===0?v.jsxs("div",{className:"py-20 flex flex-col items-center text-center px-10",children:[v.jsx("div",{className:"w-20 h-20 bg-white rounded-[2.5rem] flex items-center justify-center shadow-premium mb-6",children:v.jsx(po,{size:32,className:"text-emerald-200"})}),v.jsx("p",{className:"text-slate-400 font-bold text-sm leading-relaxed italic",children:"Add your daily targets to stay consistent."})]}):l.map(j=>{const ie=Math.min(j.completedCount/j.targetCount*100,100);return v.jsx("div",{onClick:()=>{c(j.id),t("counter")},className:"group relative bg-white p-6 rounded-[2.8rem] shadow-premium border border-white active:scale-[0.98] transition-all cursor-pointer overflow-hidden",children:v.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[v.jsx("div",{className:`w-14 h-14 rounded-3xl flex items-center justify-center transition-all ${ie>=100?"bg-emerald-600 text-white":"bg-emerald-50 text-emerald-800"}`,children:ie>=100?v.jsx(t0,{size:24}):v.jsxs("span",{className:"text-xs font-black",children:[Math.round(ie),"%"]})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-lg truncate mb-1",children:j.title}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest tabular-nums",children:[j.completedCount," / ",j.targetCount]}),v.jsx("div",{className:"h-1.5 flex-1 bg-slate-50 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${ie}%`}})})]})]}),v.jsx("button",{type:"button",onPointerDown:ce=>X(ce,j.id),className:"p-4 text-slate-300 hover:text-rose-500 transition-colors bg-slate-50 rounded-2xl active:scale-90",title:"Remove Dhikr",children:v.jsx(nc,{size:16})})]})},j.id)})}),i==="add"&&v.jsx("div",{className:"fixed inset-0 bg-emerald-950/40 backdrop-blur-md z-[100] flex items-end justify-center p-4 animate-in fade-in",onClick:()=>{R||t("list")},children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-[4rem] p-8 shadow-2xl animate-in slide-in-from-bottom border-t border-white",onClick:j=>j.stopPropagation(),children:[v.jsxs("header",{className:"flex justify-between items-center mb-10",children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"New Goal"}),v.jsx("button",{onClick:()=>t("list"),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto no-scrollbar pb-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] block mb-3 ml-2",children:"Name"}),v.jsx("input",{value:m,onChange:j=>g(j.target.value),placeholder:"e.g. Istighfar",className:"w-full bg-slate-50 border border-slate-100 rounded-[1.8rem] p-5 text-sm font-bold outline-none"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:te,className:`p-6 rounded-[2.5rem] border-2 border-dashed flex flex-col items-center gap-3 transition-all ${k?"bg-rose-50 border-rose-200":"bg-slate-50 border-slate-100"}`,children:[v.jsx(NA,{size:24,className:k?"animate-pulse text-rose-500":"text-slate-300"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Voice to Arabic"})]}),v.jsxs("div",{className:"relative group cursor-pointer",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"absolute inset-0 opacity-0 cursor-pointer z-10"}),v.jsxs("div",{className:"p-6 rounded-[2.5rem] bg-slate-50 border-2 border-dashed border-slate-100 flex flex-col items-center gap-3",children:[v.jsx(l0,{size:24,className:"text-slate-300"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Image to Arabic"})]})]})]}),(y||R)&&v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-[2.5rem] border border-emerald-100 relative",children:[R&&v.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center z-10",children:v.jsx(Tn,{size:24,className:"animate-spin text-emerald-600"})}),v.jsx("textarea",{value:y,onChange:j=>p(j.target.value),className:"w-full bg-transparent border-none text-right arabic-text text-3xl font-bold resize-none h-24"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-4 ml-2",children:"Target"}),v.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-6 rounded-[2rem]",children:[v.jsx("input",{type:"range",min:"1",max:"1000",step:"1",value:x,onChange:j=>T(parseInt(j.target.value)),className:"flex-1 accent-emerald-600"}),v.jsx("span",{className:"text-xl font-black text-emerald-950 tabular-nums w-16 text-right",children:x})]})]}),v.jsx("button",{onClick:se,disabled:R||!m&&!y,className:"w-full bg-emerald-950 text-white p-7 rounded-[2.8rem] font-black uppercase tracking-[0.2em] shadow-xl disabled:opacity-30",children:"Create Daily Goal"})]})]})})]})},eg=i=>{if(!i)return"--:--";const[t,l]=i.split(":").map(Number),a=t>=12?"PM":"AM";return`${t%12||12}:${l.toString().padStart(2,"0")} ${a}`},OA=({location:i,settings:t,onUpdateSettings:l,onUpdateLocation:a})=>{var pe;const[r,c]=K.useState(null),[m,g]=K.useState(!!i),[y,p]=K.useState("times"),[x,T]=K.useState(null),[E,C]=K.useState([]),[R,L]=K.useState(null),[k,q]=K.useState(null),F=K.useRef(null),[J,z]=K.useState(!i),[Q,Z]=K.useState(""),[X,te]=K.useState([]),[W,se]=K.useState(!1),[he,j]=K.useState(!1),[ie,ce]=K.useState(null),[be,b]=K.useState(!1),G=K.useRef(null);K.useEffect(()=>(Wt.getAllDownloadedAdhanIds().then(C),()=>{F.current&&(F.current.pause(),F.current.removeAttribute("src"),F.current.load())}),[]),K.useEffect(()=>{i&&(g(!0),Wu(i.lat,i.lng,t.method,t.school,t.fajrAngle,t.ishaAngle).then(Y=>{c(Y.times),g(!1)}).catch(()=>{g(!1)}))},[i,t.method,t.school,t.fajrAngle,t.ishaAngle]);const $=K.useMemo(()=>r?[{name:"Fajr",time:r.Fajr,icon:""},{name:"Sunrise",time:r.Sunrise,icon:""},{name:"Dhuhr",time:r.Dhuhr,icon:""},{name:"Asr",time:r.Asr,icon:""},{name:"Maghrib",time:r.Maghrib,icon:""},{name:"Isha",time:r.Isha,icon:""}]:[],[r]),fe=K.useMemo(()=>{if(!r)return{current:null,next:null};const Y=new Date,re=Y.getHours()*60+Y.getMinutes();let Ie="Isha",Ge=0;const Bt=$.map(je=>{const[en,yi]=je.time.split(":").map(Number);return en*60+yi});for(let je=0;je<Bt.length;je++)re>=Bt[je]&&(Ie=$[je].name,Ge=(je+1)%$.length);return re<Bt[0]&&(Ie="Isha",Ge=0),{current:Ie,next:$[Ge]}},[$,r]);K.useEffect(()=>{if(!fe.next)return;const Y=()=>{const Ie=new Date,[Ge,Bt]=fe.next.time.split(":").map(Number),je=new Date;je.setHours(Ge,Bt,0,0),je<Ie&&je.setDate(je.getDate()+1);const en=je.getTime()-Ie.getTime(),yi=Math.floor(en/(1e3*60*60)),tn=Math.floor(en%(1e3*60*60)/(1e3*60)),dl=Math.floor(en%(1e3*60)/1e3);T({name:fe.next.name,time:fe.next.time,remaining:`${yi}h ${tn}m ${dl}s`})};Y();const re=setInterval(Y,1e3);return()=>clearInterval(re)},[fe]),K.useEffect(()=>{if(G.current&&window.clearTimeout(G.current),!Q||Q.length<2){te([]);return}return j(!0),G.current=window.setTimeout(async()=>{try{const Y=await Zp(Q);te(Y),b(!1)}catch(Y){Y.message==="API_KEY_MISSING"&&b(!0)}finally{j(!1)}},600),()=>{G.current&&window.clearTimeout(G.current)}},[Q]);const Ce=(Y,re)=>{if(F.current){if(k===Y){F.current.pause(),q(null);return}q(Y),F.current.pause(),F.current.src=re,F.current.load(),F.current.play().catch(()=>q(null))}},w=async Y=>{se(!0),ce(null);try{const re=await sA(Y);a({...re,isManual:!0}),z(!1),Z(""),te([])}catch(re){re.message==="API_KEY_MISSING"?b(!0):ce(re.message||"Failed to find coordinates for this location.")}finally{se(!1)}},O=async()=>{Q.trim()&&w(Q)},ee=()=>{se(!0),ce(null),navigator.geolocation.getCurrentPosition(Y=>{a({lat:Y.coords.latitude,lng:Y.coords.longitude,name:"Current Location",isManual:!1}),z(!1),se(!1)},()=>{ce("Location access denied or GPS disabled."),se(!1)},{timeout:1e4})},oe=async()=>{var Y;if((Y=window.aistudio)!=null&&Y.openSelectKey&&(await window.aistudio.openSelectKey(),b(!1),Q.length>=2))try{const re=await Zp(Q);te(re)}catch(re){console.error("Retry failed",re)}};return m?v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-screen bg-[#f2f6f4]",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600 mb-4",size:40}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em]",children:"Adjusting Angles..."})]}):v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsx("audio",{ref:F,onEnded:()=>q(null),className:"hidden"}),v.jsx("header",{className:"mb-8 px-2",children:v.jsxs("div",{className:"flex justify-between items-end mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter mb-1",children:"Adhan"}),v.jsxs("button",{onClick:()=>{ce(null),z(!0)},className:"flex items-center gap-2 text-emerald-600 group",children:[v.jsx(mo,{size:12,fill:"currentColor",className:"group-hover:animate-bounce"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:(i==null?void 0:i.name)||"Set Location"})]})]}),v.jsxs("div",{className:"flex bg-white p-1.5 rounded-[1.8rem] shadow-premium border border-white",children:[v.jsx("button",{onClick:()=>p("times"),className:`px-5 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="times"?"bg-emerald-800 text-white shadow-lg":"text-slate-400"}`,children:"Times"}),v.jsx("button",{onClick:()=>p("calc"),className:`px-5 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="calc"?"bg-emerald-800 text-white shadow-lg":"text-slate-400"}`,children:"Config"})]})]})}),y==="times"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[x&&v.jsxs("div",{className:"bg-emerald-950 rounded-[3rem] p-8 mb-4 text-white shadow-2xl relative overflow-hidden group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-400 block mb-2",children:["Up Next: ",x.name]}),v.jsxs("div",{className:"flex items-baseline gap-3",children:[v.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:eg(x.time)}),v.jsx("span",{className:"text-xs text-emerald-100/60 font-black uppercase tracking-widest",children:x.remaining})]})]})]}),$.map(Y=>{const re=Y.name===fe.current,Ie=t.notifications[Y.name];return v.jsxs("div",{className:`flex items-center gap-5 p-6 rounded-[2.8rem] transition-all ${re?"bg-emerald-700 text-white shadow-xl scale-[1.02]":"bg-white text-slate-800 border border-white"}`,children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-black/5 flex items-center justify-center text-xl",children:Y.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:Y.name}),v.jsx("p",{className:"text-xl font-black tracking-tight",children:eg(Y.time)})]}),Y.name!=="Sunrise"&&v.jsx("button",{onClick:()=>l({...t,notifications:{...t.notifications,[Y.name]:!Ie}}),className:`p-3 rounded-xl transition-all ${Ie?"text-amber-400 bg-black/10":"text-slate-200 bg-slate-50"}`,children:Ie?v.jsx(gA,{size:18,fill:"currentColor"}):v.jsx(hA,{size:18})})]},Y.name)}),v.jsxs("button",{onClick:()=>p("voices"),className:"w-full bg-white p-7 rounded-[2.5rem] border border-white flex items-center justify-between group active:scale-[0.98] transition-all mt-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center",children:v.jsx(ic,{size:24})}),v.jsxs("div",{className:"text-left",children:[v.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] tracking-widest",children:"Adhan Voice"}),v.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["Current: ",(pe=Ka.find(Y=>Y.id===t.voiceId))==null?void 0:pe.name]})]})]}),v.jsx(rl,{className:"text-slate-200 group-hover:translate-x-1 transition-transform"})]})]}),y==="calc"&&v.jsx("div",{className:"space-y-8 animate-in slide-in-from-right duration-500",children:v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] shadow-premium border border-white space-y-8",children:[v.jsxs("header",{className:"flex items-center gap-3 mb-2",children:[v.jsx(Wg,{className:"text-emerald-600",size:20}),v.jsx("h2",{className:"font-black text-lg tracking-tight",children:"Calculation Engine"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Method"}),v.jsx("select",{value:t.method,onChange:Y=>l({...t,method:parseInt(Y.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none ring-2 ring-transparent focus:ring-emerald-500/20 transition-all",children:Zg.map(Y=>v.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Jurist School (Asr)"}),v.jsx("div",{className:"flex bg-slate-50 p-1.5 rounded-2xl",children:$g.map(Y=>v.jsx("button",{onClick:()=>l({...t,school:Y.id}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${t.school===Y.id?"bg-white text-emerald-900 shadow-sm":"text-slate-400"}`,children:Y.name},Y.id))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Fajr Angle"}),v.jsx("input",{type:"number",step:"0.1",value:t.fajrAngle||18,onChange:Y=>l({...t,fajrAngle:parseFloat(Y.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Isha Angle"}),v.jsx("input",{type:"number",step:"0.1",value:t.ishaAngle||18,onChange:Y=>l({...t,ishaAngle:parseFloat(Y.target.value)}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]})]})]}),v.jsxs("div",{className:"p-5 bg-amber-50 rounded-[2rem] flex gap-4",children:[v.jsx(co,{size:18,className:"text-amber-600 shrink-0"}),v.jsx("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed",children:"Adjusting angles is recommended only for high-latitude regions or specific local requirements."})]})]})}),y==="voices"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[v.jsx("button",{onClick:()=>p("times"),className:"p-2 bg-white rounded-xl shadow-sm text-slate-400",children:v.jsx(ho,{size:18})}),v.jsx("h2",{className:"font-black text-xl tracking-tight",children:"Adhan Voices"})]}),Ka.map(Y=>{const re=t.voiceId===Y.id,Ie=k===Y.id;return v.jsxs("div",{className:`p-6 rounded-[2.5rem] border transition-all flex flex-col gap-4 ${re?"bg-emerald-900 text-white border-emerald-950":"bg-white border-white shadow-premium"}`,children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-black text-base",children:Y.name}),v.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${re?"text-emerald-300":"text-slate-400"}`,children:Y.muezzin})]}),v.jsx("button",{onClick:()=>Ce(Y.id,Y.url),className:`p-4 rounded-2xl transition-all ${Ie?"bg-amber-500 text-white":re?"bg-white/10 text-white":"bg-slate-50 text-emerald-600"}`,children:Ie?v.jsx(s0,{size:18,fill:"currentColor"}):v.jsx(r0,{size:18,fill:"currentColor"})})]}),!re&&v.jsx("button",{onClick:()=>l({...t,voiceId:Y.id}),className:"w-full py-4 bg-emerald-950/10 text-emerald-900 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-950 hover:text-white transition-all",children:"Select Voice"})]},Y.id)})]}),J&&v.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-xl z-[200] flex items-end justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-[4rem] p-8 shadow-2xl animate-in slide-in-from-bottom duration-500 relative flex flex-col max-h-[90vh]",children:[v.jsxs("header",{className:"flex justify-between items-center mb-6 shrink-0",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"Location Finder"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"AI Assisted Search"})]}),v.jsx("button",{onClick:()=>z(!1),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-5 overflow-y-auto no-scrollbar pb-10",children:[be&&v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-5 rounded-[2.2rem] flex flex-col gap-4 animate-in zoom-in duration-300",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx(po,{size:18,className:"text-amber-600 shrink-0"}),v.jsx("p",{className:"text-[11px] font-black text-amber-900 uppercase tracking-tight",children:"AI Activation Required"})]}),v.jsx("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed",children:"To use the Smart Location Finder, please select an API key from your project."}),v.jsx("button",{onClick:oe,className:"bg-emerald-900 text-white py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg active:scale-95",children:"Select API Key"}),v.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",className:"text-center text-[8px] font-black text-amber-600/50 underline uppercase",children:"Billing Documentation"})]}),ie&&v.jsxs("div",{className:"bg-rose-50 border border-rose-100 p-4 rounded-3xl flex gap-3 animate-in fade-in slide-in-from-top-2",children:[v.jsx(co,{size:16,className:"text-rose-600 shrink-0 mt-0.5"}),v.jsx("p",{className:"text-[10px] font-bold text-rose-800 leading-tight",children:ie})]}),v.jsxs("div",{className:"relative group",children:[v.jsx("input",{value:Q,onChange:Y=>{Z(Y.target.value),ce(null)},placeholder:"e.g. London, UK",className:"w-full bg-slate-50 border-2 border-transparent rounded-[2rem] p-5 pr-16 text-sm font-bold outline-none focus:bg-white focus:border-emerald-500/20 transition-all shadow-inner",onKeyPress:Y=>Y.key==="Enter"&&O()}),v.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[he&&v.jsx(Tn,{size:16,className:"animate-spin text-emerald-600 mr-2"}),v.jsx("button",{onClick:O,disabled:W||!Q,className:"p-3.5 bg-emerald-950 text-white rounded-2xl disabled:opacity-30 transition-all active:scale-90",children:W?v.jsx(Tn,{size:18,className:"animate-spin"}):v.jsx(f0,{size:18})})]})]}),X.length>0&&v.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300 shadow-xl shadow-slate-200/50",children:[v.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest p-4 pb-2",children:"Did you mean?"}),X.map((Y,re)=>v.jsxs("button",{onClick:()=>w(Y),className:"w-full text-left p-5 hover:bg-emerald-50 transition-colors flex items-center justify-between group border-b border-slate-50 last:border-0",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white transition-colors",children:v.jsx(mo,{size:16,className:"text-slate-400 group-hover:text-emerald-600"})}),v.jsx("span",{className:"text-sm font-black text-slate-700",children:Y})]}),v.jsx(rl,{size:14,className:"text-slate-200 group-hover:translate-x-1 transition-transform"})]},re))]}),v.jsxs("div",{className:"flex items-center gap-4 py-2",children:[v.jsx("div",{className:"h-px flex-1 bg-slate-100"}),v.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"or use sensors"}),v.jsx("div",{className:"h-px flex-1 bg-slate-100"})]}),v.jsxs("button",{onClick:ee,disabled:W,className:"w-full bg-white border-2 border-emerald-900 text-emerald-950 p-6 rounded-[2.2rem] font-black uppercase tracking-widest flex items-center justify-center gap-3 active:scale-[0.98] transition-all shadow-xl shadow-emerald-900/5",children:[W?v.jsx(Tn,{size:20,className:"animate-spin"}):v.jsx(TA,{size:20}),"Pinpoint via GPS"]})]})]})})]})},FA=({location:i})=>{const[t,l]=K.useState(new Date),[a,r]=K.useState([]),[c,m]=K.useState(!0),[g,y]=K.useState(null),[p,x]=K.useState(null),T=t.toLocaleDateString("en-US",{month:"long"}),E=t.getFullYear(),C=async()=>{if(!i){m(!1);return}m(!0),x(null);try{const z=await rA(E,t.getMonth()+1,i.lat,i.lng);if(!z||z.length===0)throw new Error("Calendar service temporarily unavailable.");r(z);const Q=await Wu(i.lat,i.lng,4);y(Q.rawHijri)}catch(z){console.error("Calendar load error:",z),x("Failed to synchronize lunar dates.")}finally{m(!1)}};K.useEffect(()=>{C()},[t,i]);const R=()=>l(new Date(t.getFullYear(),t.getMonth()-1)),L=()=>l(new Date(t.getFullYear(),t.getMonth()+1)),k=K.useMemo(()=>{var z;if(a&&a.length>0){const Q=a[Math.floor(a.length/2)],Z=((z=Q==null?void 0:Q.date)==null?void 0:z.hijri)||(Q==null?void 0:Q.hijri);if(Z!=null&&Z.month)return{en:`${Z.month.en} ${Z.year} AH`,ar:`${Z.month.ar} ${Z.year} `}}return{en:"Lunar Calendar",ar:" "}},[a]),q=(z,Q)=>{var he;if(!((he=g==null?void 0:g.month)!=null&&he.number)||!(g!=null&&g.day))return null;const Z=parseInt(g.month.number),X=parseInt(g.day),te=(Z-1)*29.53+X;let se=(z-1)*29.53+Q-te;return se<-1&&(se+=354.36),Math.max(0,Math.floor(se))},F=["SUN","MON","TUE","WED","THU","FRI","SAT"],J=new Date(t.getFullYear(),t.getMonth(),1).getDay();return!i&&!c?v.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-screen text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-[2rem] flex items-center justify-center mb-6",children:v.jsx(co,{size:40,className:"text-amber-500"})}),v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-2",children:"Location Required"}),v.jsx("p",{className:"text-sm text-slate-400 font-medium mb-8 px-10",children:"Please set your location in Adhan settings to view the Islamic calendar."})]}):v.jsxs("div",{className:"p-6 bg-[#f8f9f8] min-h-screen pb-32",children:[v.jsxs("header",{className:"flex justify-between items-start mb-8",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none mb-3",children:"Islamic Calendar"}),v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-emerald-900 text-emerald-50 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest shadow-lg shadow-emerald-900/10",children:k.en}),v.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[T," ",E]})]}),v.jsx("p",{className:"arabic-text text-xl font-bold text-emerald-800 leading-none mt-1",children:k.ar})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:R,className:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm active:scale-95 transition-all text-emerald-800 hover:bg-emerald-50",children:v.jsx(tc,{size:20})}),v.jsx("button",{onClick:L,className:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm active:scale-95 transition-all text-emerald-800 hover:bg-emerald-50",children:v.jsx(rl,{size:20})})]})]}),c?v.jsxs("div",{className:"h-96 bg-white rounded-[3rem] shadow-premium flex flex-col items-center justify-center border border-white",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600",size:40}),v.jsx("div",{className:"absolute inset-0 bg-emerald-100 rounded-full animate-ping opacity-20"})]}),v.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Syncing Moon Phases..."})]}):p?v.jsxs("div",{className:"h-96 bg-white rounded-[3rem] shadow-premium flex flex-col items-center justify-center border border-white p-10 text-center",children:[v.jsx(co,{className:"text-rose-400 mb-4",size:32}),v.jsx("p",{className:"text-sm font-bold text-slate-600 mb-6",children:p}),v.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-emerald-900 text-white px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest",children:[v.jsx(c0,{size:14})," Retry Sync"]})]}):v.jsxs("div",{className:"bg-white rounded-[3rem] p-8 shadow-2xl shadow-slate-200 border border-slate-50 relative overflow-hidden",children:[v.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-emerald-50 rounded-full blur-3xl opacity-50"}),v.jsx("div",{className:"grid grid-cols-7 mb-8 relative z-10 border-b border-slate-50 pb-4",children:F.map((z,Q)=>v.jsx("div",{className:"text-center text-[10px] font-black text-slate-300 tracking-widest",children:z},Q))}),v.jsxs("div",{className:"grid grid-cols-7 gap-y-3 relative z-10",children:[Array.from({length:J}).map((z,Q)=>v.jsx("div",{className:"h-16"},`p-${Q}`)),a.map((z,Q)=>{var j,ie;const Z=Q+1,X=Z===new Date().getDate()&&t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear(),te=((j=z==null?void 0:z.date)==null?void 0:j.hijri)||(z==null?void 0:z.hijri),W=te==null?void 0:te.day,se=parseInt(((ie=te==null?void 0:te.month)==null?void 0:ie.number)||"0"),he=jp.some(ce=>ce.month===se&&ce.day===parseInt(W||"0"));return v.jsxs("div",{className:`relative h-16 flex flex-col items-center justify-center rounded-[1.5rem] transition-all cursor-pointer ${X?"bg-emerald-800 text-white shadow-xl shadow-emerald-900/30 scale-105 z-10":"hover:bg-emerald-50"}`,children:[v.jsx("span",{className:`text-sm font-black ${X?"text-white":"text-slate-700"}`,children:Z}),v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx("span",{className:`text-[9px] font-black ${X?"text-emerald-200":"text-emerald-500"}`,children:W||"--"}),v.jsx("span",{className:`arabic-text text-[10px] font-bold ${X?"text-emerald-300/80":"text-slate-300"}`,children:W?parseInt(W).toLocaleString("ar-SA"):""})]}),he&&!X&&v.jsx("div",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-amber-500 rounded-full ring-2 ring-white"}),X&&v.jsx("div",{className:"absolute -top-1 -right-1",children:v.jsx(po,{size:12,className:"text-amber-400 animate-pulse"})})]},Z)})]})]}),v.jsxs("div",{className:"mt-12 space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2",children:[v.jsx("div",{className:"w-1.5 h-5 bg-emerald-600 rounded-full"}),v.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:"Upcoming Observances"})]}),!g&&!c&&!p&&v.jsxs("div",{className:"bg-amber-50 p-5 rounded-[2rem] border border-amber-100 flex items-center gap-4 text-amber-700 text-xs font-bold shadow-sm",children:[v.jsx(co,{size:18,className:"shrink-0"}),v.jsx("p",{children:"Syncing event countdowns with your current location..."})]}),v.jsx("div",{className:"grid grid-cols-1 gap-4",children:jp.map((z,Q)=>{var X;const Z=q(z.month,z.day);return v.jsxs("div",{className:"bg-white p-6 rounded-[2.8rem] border border-slate-100 flex items-center gap-6 shadow-sm hover:shadow-md transition-all group active:scale-[0.98]",children:[v.jsxs("div",{className:`w-14 h-14 rounded-3xl flex flex-col items-center justify-center font-black transition-transform group-hover:scale-110 shadow-sm ${z.color}`,children:[v.jsx("span",{className:"text-base",children:z.day}),v.jsx("span",{className:"text-[8px] uppercase tracking-wider",children:(X=$p[z.month-1])==null?void 0:X.substring(0,3)})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-black text-slate-800 text-lg tracking-tight mb-0.5 group-hover:text-emerald-900 transition-colors",children:z.name}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:$p[z.month-1]}),Z!==null&&v.jsx("span",{className:`text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-tighter shadow-sm ${Z<15?"bg-rose-100 text-rose-700":Z<45?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:Z===0?"Blessed Day":`${Z} days left`})]})]}),v.jsx("div",{className:"text-slate-100 group-hover:text-emerald-500 transition-colors",children:v.jsx(rl,{size:24})})]},Q)})})]})]})},JA=[{id:"1",title:"Dua for Knowledge",arabicText:"  ",translation:"My Lord, increase me in knowledge.",benefit:"Seeking wisdom and clarity in learning.",targetCount:33,currentCount:0},{id:"2",title:"Dua for Forgiveness",arabicText:" ",translation:"I seek forgiveness from Allah.",benefit:"Cleansing the heart and seeking mercy.",targetCount:100,currentCount:0}],YA=({onRecite:i})=>{const[t,l]=K.useState(()=>{const z=localStorage.getItem("noor_duas");return z?JSON.parse(z):JA}),[a,r]=K.useState(!1),[c,m]=K.useState(""),[g,y]=K.useState(""),[p,x]=K.useState(""),[T,E]=K.useState(""),[C,R]=K.useState(33),[L,k]=K.useState();K.useEffect(()=>{localStorage.setItem("noor_duas",JSON.stringify(t))},[t]);const q=z=>{var Z;const Q=(Z=z.target.files)==null?void 0:Z[0];if(Q){const X=new FileReader;X.onloadend=()=>k(X.result),X.readAsDataURL(Q)}},F=()=>{if(!c)return;const z={id:Date.now().toString(),title:c,arabicText:g,translation:p,benefit:T,targetCount:C,currentCount:0,image:L};l([z,...t]),r(!1),J()},J=()=>{m(""),y(""),x(""),E(""),R(33),k(void 0)};return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-32",children:[v.jsxs("header",{className:"flex justify-between items-center mb-10",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(ec,{size:14,className:"text-emerald-500"}),v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Library"})]}),v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Supplications"})]}),v.jsx("button",{onClick:()=>r(!0),className:"p-5 bg-emerald-950 text-white rounded-[2rem] shadow-2xl active:scale-95 transition-all",children:v.jsx(u0,{size:24})})]}),v.jsx("div",{className:"space-y-6",children:t.map(z=>v.jsxs("div",{className:"bg-white rounded-[3rem] p-8 border border-white shadow-premium relative group hover:shadow-2xl transition-all",children:[v.jsxs("div",{className:"flex items-start justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-1.5 h-8 bg-emerald-600 rounded-full"}),v.jsx("h3",{className:"font-black text-slate-800 tracking-tight text-xl",children:z.title})]}),v.jsx("button",{onClick:()=>l(t.filter(Q=>Q.id!==z.id)),className:"p-3 text-slate-200 hover:text-rose-400 transition-all",children:v.jsx(nc,{size:18})})]}),z.image?v.jsx("div",{className:"w-full h-52 bg-slate-50 rounded-[2.5rem] mb-6 overflow-hidden border border-slate-100 shadow-inner group-hover:scale-[1.01] transition-transform",children:v.jsx("img",{src:z.image,className:"w-full h-full object-cover",alt:"Dua"})}):v.jsx("p",{className:"arabic-text text-4xl text-right mb-8 leading-relaxed text-emerald-950 font-bold",children:z.arabicText}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("p",{className:"text-sm text-slate-600 font-medium leading-relaxed italic bg-slate-50/50 p-5 rounded-[2rem]",children:['"',z.translation,'"']}),z.benefit&&v.jsxs("div",{className:"bg-emerald-50 p-5 rounded-[2rem] border border-emerald-100/50 flex gap-4",children:[v.jsx(po,{size:16,className:"text-emerald-600 shrink-0"}),v.jsx("p",{className:"text-[11px] text-emerald-900 font-medium leading-relaxed",children:z.benefit})]})]}),v.jsxs("button",{onClick:()=>i({title:z.title,text:z.arabicText||z.translation,target:z.targetCount,image:z.image}),className:"w-full bg-emerald-600 text-white py-5 rounded-[2.2rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-emerald-600/20 active:scale-95 transition-all flex items-center justify-center gap-3",children:[v.jsx(n0,{size:22})," Recite in Tasbih"]})]},z.id))}),a&&v.jsx("div",{className:"fixed inset-0 bg-emerald-950/40 backdrop-blur-md z-[100] flex items-end justify-center p-4 animate-in fade-in",onClick:()=>r(!1),children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-[4rem] p-10 animate-in slide-in-from-bottom duration-500",onClick:z=>z.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h3",{className:"font-black text-2xl tracking-tighter",children:"Add to Library"}),v.jsx("button",{onClick:()=>r(!1),className:"p-3 bg-slate-50 rounded-full",children:v.jsx(ho,{size:20})})]}),v.jsxs("div",{className:"space-y-5 h-[50vh] overflow-y-auto no-scrollbar pb-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Title"}),v.jsx("input",{value:c,onChange:z=>m(z.target.value),placeholder:"e.g. Protection Dua",className:"w-full bg-slate-50 border border-slate-100 rounded-[1.5rem] p-4 text-sm font-bold outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Arabic"}),v.jsx("textarea",{value:g,onChange:z=>y(z.target.value),rows:2,className:"w-full bg-slate-50 border border-slate-100 rounded-[1.5rem] p-4 text-2xl arabic-text text-right outline-none"})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-100 rounded-[2.5rem] p-6 text-center cursor-pointer relative hover:border-emerald-200 transition-all",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"absolute inset-0 opacity-0 cursor-pointer"}),L?v.jsx("img",{src:L,className:"w-20 h-20 rounded-xl object-cover"}):v.jsxs("div",{className:"text-slate-300 flex flex-col items-center gap-2",children:[v.jsx(l0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Add Picture"})]})]}),v.jsxs("button",{onClick:F,className:"w-full bg-emerald-950 text-white p-6 rounded-[2rem] font-black uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all",children:[v.jsx(t0,{size:20})," Save Library"]})]})]})})]})},KA=({location:i})=>{const[t,l]=K.useState(0),[a,r]=K.useState(0),[c,m]=K.useState(!1);K.useEffect(()=>{i&&r(((x,T)=>{const E=x*Math.PI/180,C=T*Math.PI/180,R=21.4225*Math.PI/180,L=39.8262*Math.PI/180,k=Math.sin(L-C),q=Math.cos(E)*Math.tan(R)-Math.sin(E)*Math.cos(L-C);return(Math.atan2(k,q)*180/Math.PI+360)%360})(i.lat,i.lng));const y=p=>{const x=p.webkitCompassHeading||360-(p.alpha||0);x!==void 0&&(l(x),m(!0))};return window.addEventListener("deviceorientation",y),()=>window.removeEventListener("deviceorientation",y)},[i]);const g=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&window.addEventListener("deviceorientation",()=>{})}catch(y){console.error("Permission error",y)}};return v.jsxs("div",{className:"p-6 bg-[#08120d] min-h-screen text-white flex flex-col items-center",children:[v.jsxs("header",{className:"w-full flex justify-between items-center mb-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-black text-emerald-400 tracking-tighter leading-none",children:"Qiblah Finder"}),v.jsx("p",{className:"text-[10px] text-emerald-800 font-black uppercase tracking-widest mt-1",children:"Holy Direction"})]}),v.jsx("button",{onClick:g,className:"p-3 bg-white/5 rounded-2xl border border-white/10",children:v.jsx(wA,{size:18,className:"text-emerald-500"})})]}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 text-center animate-in fade-in duration-700",children:v.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/40 backdrop-blur-md px-4 py-2 rounded-full border border-emerald-500/20",children:[v.jsx(mo,{size:12,className:"text-emerald-400"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Makkah, Saudi Arabia"})]})}),v.jsxs("div",{className:"relative w-80 h-80 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 border-4 border-emerald-900/20 rounded-full"}),v.jsx("div",{className:"absolute inset-8 border border-white/5 rounded-full"}),v.jsxs("div",{className:"relative w-full h-full transition-transform duration-100 ease-out",style:{transform:`rotate(${-t}deg)`},children:[v.jsx("span",{className:"absolute top-4 left-1/2 -translate-x-1/2 text-sm font-black text-rose-500",children:"N"}),v.jsx("span",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm font-black text-slate-500",children:"S"}),v.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-black text-slate-500",children:"W"}),v.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-black text-slate-500",children:"E"}),[...Array(36)].map((y,p)=>v.jsx("div",{className:"absolute top-0 left-1/2 h-full border-l border-white/10",style:{transform:`translateX(-50%) rotate(${p*10}deg)`}},p)),v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center pt-10",style:{transform:`rotate(${a}deg)`},children:[v.jsx("div",{className:"w-1.5 h-20 bg-emerald-400 rounded-full shadow-[0_0_20px_rgba(16,185,129,0.8)] relative",children:v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:v.jsx(i0,{size:24,fill:"#10b981"})})}),v.jsx("div",{className:"mt-4 bg-emerald-500 text-black text-[9px] font-black uppercase px-2 py-1 rounded",children:"QIBLAH"})]})]}),v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -mt-4",children:v.jsx("div",{className:"w-1 h-8 bg-white/20 rounded-full"})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:v.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-xl"})})]}),v.jsxs("div",{className:"mt-12 text-center",children:[v.jsxs("h2",{className:"text-4xl font-black text-white mb-2",children:[Math.round(a),""]}),v.jsx("p",{className:"text-[10px] text-emerald-500 font-black uppercase tracking-[0.2em]",children:"Relative to True North"})]})]}),v.jsx("div",{className:"w-full bg-white/5 rounded-[2.5rem] p-6 border border-white/10 mb-8",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"p-3 bg-emerald-900/40 rounded-2xl",children:v.jsx(o0,{className:"text-emerald-400",size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-white leading-relaxed",children:"To get the most accurate result, place your device on a flat surface away from metal objects or magnetic fields."}),!c&&v.jsx("p",{className:"text-[10px] text-rose-400 font-black uppercase tracking-widest mt-2",children:"Calibrate your compass or allow sensor access"})]})]})})]})},XA=({location:i})=>{const[t,l]=K.useState([]),[a,r]=K.useState(!1),[c,m]=K.useState("masjid"),g=async y=>{var p,x,T;if(i){r(!0),m(y);try{const E=new fo({apiKey:void 0}),C=y==="masjid"?"Find the 5 closest and best-rated Masjids or Islamic centers near me.":"Find the 5 best-rated and most popular Halal restaurants nearby.",k=(((T=(x=(p=(await E.models.generateContent({model:"gemini-2.5-flash",contents:C,config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:{latitude:i.lat,longitude:i.lng}}}}})).candidates)==null?void 0:p[0])==null?void 0:x.groundingMetadata)==null?void 0:T.groundingChunks)||[]).filter(q=>q.maps).map(q=>({title:q.maps.title,uri:q.maps.uri,address:q.maps.address||"Near you"}));l(k)}catch(E){console.error("Explore failed",E)}finally{r(!1)}}};return K.useEffect(()=>{i&&g("masjid")},[i]),v.jsxs("div",{className:"p-6 bg-slate-50 min-h-screen pb-32",children:[v.jsxs("header",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none mb-2",children:"Explore Nearby"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Find sacred places & halal food"})]}),v.jsxs("div",{className:"flex bg-white p-1.5 rounded-[2rem] border border-slate-100 shadow-sm mb-8",children:[v.jsxs("button",{onClick:()=>g("masjid"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-[1.5rem] text-xs font-black uppercase tracking-widest transition-all ${c==="masjid"?"bg-emerald-900 text-white shadow-lg shadow-emerald-900/20":"text-slate-400"}`,children:[v.jsx(Pu,{size:16})," Masjids"]}),v.jsxs("button",{onClick:()=>g("halal"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-[1.5rem] text-xs font-black uppercase tracking-widest transition-all ${c==="halal"?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"text-slate-400"}`,children:[v.jsx(Wp,{size:16})," Halal Food"]})]}),a?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-in fade-in zoom-in duration-500",children:[v.jsxs("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-xl mb-6 relative",children:[v.jsx(Tn,{className:"animate-spin text-emerald-600",size:32}),v.jsx("div",{className:"absolute inset-0 rounded-full animate-ping bg-emerald-100/50"})]}),v.jsx("p",{className:"text-[10px] font-black text-emerald-900 uppercase tracking-widest",children:"Scanning local area..."})]}):v.jsx("div",{className:"space-y-4",children:t.length===0?v.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] text-center border border-slate-100",children:[v.jsx(f0,{size:40,className:"mx-auto text-slate-200 mb-4"}),v.jsx("p",{className:"text-sm font-bold text-slate-500",children:"No places found in this area."}),v.jsx("button",{onClick:()=>g(c),className:"mt-4 text-emerald-600 font-black uppercase text-[10px] tracking-widest",children:"Try Again"})]}):t.map((y,p)=>v.jsxs("a",{href:y.uri,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 flex items-center gap-5 shadow-sm active:scale-95 transition-all group",children:[v.jsx("div",{className:`w-14 h-14 rounded-3xl flex items-center justify-center ${c==="masjid"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:c==="masjid"?v.jsx(Pu,{size:22}):v.jsx(Wp,{size:22})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-black text-slate-800 tracking-tight leading-tight truncate mb-1",children:y.title}),v.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:[v.jsx(mo,{size:10,className:"text-rose-500"}),v.jsx("span",{className:"truncate",children:y.address})]})]}),v.jsx("div",{className:"text-slate-200 group-hover:text-emerald-500 transition-colors",children:v.jsx(_A,{size:20})})]},p))}),v.jsx("div",{className:"mt-10 bg-emerald-50 p-6 rounded-[2.5rem] border border-emerald-100",children:v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx(o0,{className:"text-emerald-600 shrink-0",size:20}),v.jsx("div",{children:v.jsx("p",{className:"text-xs font-bold text-emerald-900 leading-relaxed",children:"Results are generated using Google Maps real-time data. Ratings and popularity are factored in for the best recommendations."})})]})})]})},QA=({settings:i,onSave:t})=>{const[l,a]=K.useState(i),r=c=>{a({...l,adhan:{...l.adhan,notifications:{...l.adhan.notifications,[c]:!l.adhan.notifications[c]}}})};return v.jsxs("div",{className:"p-6 bg-[#f2f6f4] min-h-screen pb-40",children:[v.jsxs("header",{className:"flex justify-between items-center mb-10 px-2",children:[v.jsx("h1",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:"Preferences"}),v.jsxs("button",{onClick:()=>{t(l),alert("Settings saved successfully.")},className:"bg-emerald-950 text-white px-8 py-4 rounded-3xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all flex items-center gap-2",children:[v.jsx(RA,{size:18})," Save"]})]}),v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(yA,{size:14})," Quranic Experience"]}),v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:()=>a({...l,quran:{...l.quran,continuousPlay:!l.quran.continuousPlay}}),className:`p-5 rounded-[2rem] border flex flex-col items-center gap-3 transition-all ${l.quran.continuousPlay?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-slate-100 text-slate-400"}`,children:[v.jsx(n0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Auto Play"})]}),v.jsxs("button",{onClick:()=>a({...l,quran:{...l.quran,showTranslation:!l.quran.showTranslation}}),className:`p-5 rounded-[2rem] border flex flex-col items-center gap-3 transition-all ${l.quran.showTranslation?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-slate-100 text-slate-400"}`,children:[v.jsx(a0,{size:24}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Translation"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Preferred Qari"}),v.jsx("select",{value:l.quran.reciterId,onChange:c=>a({...l,quran:{...l.quran,reciterId:c.target.value}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:uA.map(c=>v.jsx("option",{value:c.id,children:c.name},c.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Translation"}),v.jsx("select",{value:l.quran.translationId,onChange:c=>a({...l,quran:{...l.quran,translationId:c.target.value}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:cA.map(c=>v.jsx("option",{value:c.id,children:c.name},c.id))})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-4 ml-2 flex justify-between",children:[v.jsx("span",{children:"Font Size"}),v.jsxs("span",{className:"text-emerald-600 font-black",children:[l.quran.fontSize,"px"]})]}),v.jsx("input",{type:"range",min:"16",max:"42",step:"1",value:l.quran.fontSize,onChange:c=>a({...l,quran:{...l.quran,fontSize:parseInt(c.target.value)}}),className:"w-full accent-emerald-600"})]})]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(Wg,{size:14})," Calculation & Precision"]}),v.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium space-y-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2 ml-2",children:"Adhan Alerts"}),v.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Fajr","Dhuhr","Asr","Maghrib","Isha"].map(c=>v.jsxs("button",{onClick:()=>r(c),className:`p-4 rounded-2xl flex items-center justify-between transition-all border ${l.adhan.notifications[c]?"bg-emerald-50 border-emerald-100 text-emerald-900":"bg-slate-50 border-transparent text-slate-300"}`,children:[v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:c}),v.jsx("div",{className:`w-2 h-2 rounded-full ${l.adhan.notifications[c]?"bg-emerald-500":"bg-slate-200"}`})]},c))})]}),v.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Method"}),v.jsx("select",{value:l.adhan.method,onChange:c=>a({...l,adhan:{...l.adhan,method:parseInt(c.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-bold outline-none",children:Zg.map(c=>v.jsx("option",{value:c.id,children:c.name},c.id))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Fajr Angle"}),v.jsx("input",{type:"number",step:"0.1",value:l.adhan.fajrAngle||18,onChange:c=>a({...l,adhan:{...l.adhan,fajrAngle:parseFloat(c.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Isha Angle"}),v.jsx("input",{type:"number",step:"0.1",value:l.adhan.ishaAngle||18,onChange:c=>a({...l,adhan:{...l.adhan,ishaAngle:parseFloat(c.target.value)}}),className:"w-full bg-slate-50 border-none rounded-2xl p-5 text-sm font-black outline-none"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-3 ml-2",children:"Asr Juristic School"}),v.jsx("div",{className:"flex bg-slate-50 p-1 rounded-2xl",children:$g.map(c=>v.jsx("button",{onClick:()=>a({...l,adhan:{...l.adhan,school:c.id}}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l.adhan.school===c.id?"bg-white text-emerald-900 shadow-sm":"text-slate-400"}`,children:c.name},c.id))})]})]})]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-5 ml-4",children:[v.jsx(UA,{size:14})," Interaction"]}),v.jsx("div",{className:"bg-white p-8 rounded-[3.5rem] border border-white shadow-premium",children:v.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full p-5 bg-slate-50 rounded-2xl flex items-center justify-center gap-3 active:scale-95 transition-all group",children:[v.jsx(c0,{size:16,className:"text-slate-400 group-hover:rotate-180 transition-transform duration-500"}),v.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Sync Local Database"})]})})]}),v.jsxs("footer",{className:"text-center px-10",children:[v.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.5em] mb-4",children:"Noor Companion v1.2"}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"}),v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"}),v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-200"})]})]})]})]})},ZA={quran:{fontSize:24,fontFamily:"Amiri",translationId:"en.sahih",reciterId:"ar.alafasy",continuousPlay:!0,showTranslation:!0},adhan:{voiceId:"makkah",styleId:"full",method:4,school:0,fajrAngle:18,ishaAngle:18,notifications:{Fajr:!0,Dhuhr:!0,Asr:!0,Maghrib:!0,Isha:!0}},tasbihTarget:33},$A="data:audio/wav;base64,UklGRjIAAABXQVZFVG10IBAAAAABAAEAIlYAAClVGAAAgAAAAAABAAgAZGF0YRAAAACAgICAgICAgICAgICAgICA=",jA=()=>{const[i,t]=K.useState(He.Home),[l,a]=K.useState(!1),[r,c]=K.useState(!1),[m,g]=K.useState(()=>{const E=localStorage.getItem("noor_settings");return E?JSON.parse(E):ZA}),[y,p]=K.useState(()=>{const E=localStorage.getItem("noor_location");return E?JSON.parse(E):null}),x=K.useRef(null);K.useEffect(()=>{(async()=>{try{await Wt.init()}catch(C){console.warn("DB init error",C)}finally{a(!0),typeof window.hideAppLoader=="function"&&window.hideAppLoader()}y||navigator.geolocation.getCurrentPosition(C=>{const R={lat:C.coords.latitude,lng:C.coords.longitude,name:"Current Location",isManual:!1};p(R),localStorage.setItem("noor_location",JSON.stringify(R))},()=>console.log("Location access denied"),{timeout:1e4})})()},[y]),K.useEffect(()=>{localStorage.setItem("noor_settings",JSON.stringify(m))},[m]);const T=async()=>{c(!0);const E=x.current;if(E)try{const C=window.AudioContext||window.webkitAudioContext;if(C){const L=new C;L.state==="suspended"&&await L.resume()}E.src=$A,E.load();const R=E.play();R!==void 0&&await R}catch(C){console.warn("Audio unlock silent play skipped:",C)}};return l?v.jsxs("div",{className:"max-w-md mx-auto bg-slate-50 min-h-screen relative shadow-2xl flex flex-col font-['Plus_Jakarta_Sans'] select-none overflow-hidden",children:[v.jsx("audio",{ref:x,style:{position:"absolute",opacity:0,pointerEvents:"none"},preload:"auto",crossOrigin:"anonymous"}),!r&&v.jsxs("div",{className:"fixed inset-0 z-[2000] bg-[#064e3b] flex flex-col items-center justify-center p-10 text-center animate-in fade-in duration-500",children:[v.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/islamic-art.png')"}}),v.jsxs("div",{className:"relative z-10 mb-12",children:[v.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-[2.5rem] flex items-center justify-center mx-auto border border-white/20 shadow-2xl animate-bounce",children:v.jsx(ic,{size:40,className:"text-emerald-400"})}),v.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter mt-8 mb-4",children:"Noor Companion"}),v.jsx("p",{className:"text-emerald-100/60 text-sm font-medium leading-relaxed px-4",children:"Tap to synchronize the Adhan engine and view the Arabic calendar for your location."})]}),v.jsxs("button",{onClick:T,className:"relative z-10 w-full bg-white text-[#064e3b] py-6 px-12 rounded-[2.5rem] font-black text-sm uppercase tracking-[0.3em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3",children:[v.jsx(po,{size:18,className:"animate-pulse"}),"Bismillah"]}),v.jsxs("p",{className:"mt-8 text-white/30 text-[9px] font-black uppercase tracking-widest flex items-center gap-2",children:[v.jsx(DA,{size:12}),"Secure Audio Protocol"]})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32",children:[i===He.Home&&v.jsx(qA,{onNavigate:t,location:y,adhanSettings:m.adhan,isAudioReady:r}),i===He.Quran&&v.jsx(PA,{settings:m.quran,onUpdateSettings:E=>g({...m,quran:E})}),i===He.Tasbih&&v.jsx(BA,{}),i===He.Adhan&&v.jsx(OA,{location:y,settings:m.adhan,onUpdateSettings:E=>g({...m,adhan:E}),onUpdateLocation:p}),i===He.Calendar&&v.jsx(FA,{location:y}),i===He.Dua&&v.jsx(YA,{onRecite:()=>t(He.Tasbih)}),i===He.Qiblah&&v.jsx(KA,{location:y}),i===He.Explore&&v.jsx(XA,{location:y}),i===He.Settings&&v.jsx(QA,{settings:m,onSave:g})]}),v.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[92%] max-w-[360px] bg-emerald-950/90 backdrop-blur-2xl rounded-[2.5rem] p-2 flex items-center justify-around shadow-2xl border border-white/10 z-[100]",children:[v.jsx(Ga,{active:i===He.Home,onClick:()=>t(He.Home),icon:v.jsx(AA,{size:20}),label:"Home"}),v.jsx(Ga,{active:i===He.Quran,onClick:()=>t(He.Quran),icon:v.jsx(ec,{size:20}),label:"Quran"}),v.jsx(Ga,{active:i===He.Explore,onClick:()=>t(He.Explore),icon:v.jsx(Pu,{size:20}),label:"Explore"}),v.jsx(Ga,{active:i===He.Settings,onClick:()=>t(He.Settings),icon:v.jsx(IA,{size:20}),label:"Config"})]})]}):null},Ga=({active:i,onClick:t,icon:l,label:a})=>v.jsxs("button",{onClick:t,className:`flex flex-col items-center gap-1 p-3.5 rounded-[1.8rem] transition-all duration-500 ease-out active:scale-90 ${i?"bg-emerald-500 text-white shadow-xl shadow-emerald-500/20":"text-emerald-500/40 hover:text-emerald-400"}`,children:[l,v.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${i?"block opacity-100 translate-y-0":"hidden opacity-0 translate-y-1"}`,children:a})]}),d0=document.getElementById("root");if(!d0)throw new Error("Could not find root element to mount to");const WA=Kv.createRoot(d0);WA.render(v.jsx(qv.StrictMode,{children:v.jsx(jA,{})}));
